var gx=t=>{throw TypeError(t)};var im=(t,e,n)=>e.has(t)||gx("Cannot "+n);var H=(t,e,n)=>(im(t,e,"read from private field"),n?n.call(t):e.get(t)),Me=(t,e,n)=>e.has(t)?gx("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ee=(t,e,n,r)=>(im(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),zt=(t,e,n)=>(im(t,e,"access private method"),n);var Su=(t,e,n,r)=>({set _(s){Ee(t,e,s,n)},get _(){return H(t,e,r)}});function JR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function hE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fE={exports:{}},Dh={},mE={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lc=Symbol.for("react.element"),ZR=Symbol.for("react.portal"),eP=Symbol.for("react.fragment"),tP=Symbol.for("react.strict_mode"),nP=Symbol.for("react.profiler"),rP=Symbol.for("react.provider"),sP=Symbol.for("react.context"),iP=Symbol.for("react.forward_ref"),oP=Symbol.for("react.suspense"),aP=Symbol.for("react.memo"),lP=Symbol.for("react.lazy"),yx=Symbol.iterator;function cP(t){return t===null||typeof t!="object"?null:(t=yx&&t[yx]||t["@@iterator"],typeof t=="function"?t:null)}var pE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gE=Object.assign,yE={};function Pa(t,e,n){this.props=t,this.context=e,this.refs=yE,this.updater=n||pE}Pa.prototype.isReactComponent={};Pa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Pa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function vE(){}vE.prototype=Pa.prototype;function ny(t,e,n){this.props=t,this.context=e,this.refs=yE,this.updater=n||pE}var ry=ny.prototype=new vE;ry.constructor=ny;gE(ry,Pa.prototype);ry.isPureReactComponent=!0;var vx=Array.isArray,xE=Object.prototype.hasOwnProperty,sy={current:null},wE={key:!0,ref:!0,__self:!0,__source:!0};function _E(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)xE.call(e,r)&&!wE.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Lc,type:t,key:i,ref:o,props:s,_owner:sy.current}}function uP(t,e){return{$$typeof:Lc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function iy(t){return typeof t=="object"&&t!==null&&t.$$typeof===Lc}function dP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var xx=/\/+/g;function om(t,e){return typeof t=="object"&&t!==null&&t.key!=null?dP(""+t.key):e.toString(36)}function id(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Lc:case ZR:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+om(o,0):r,vx(s)?(n="",t!=null&&(n=t.replace(xx,"$&/")+"/"),id(s,e,n,"",function(d){return d})):s!=null&&(iy(s)&&(s=uP(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(xx,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",vx(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+om(i,l);o+=id(i,e,n,c,s)}else if(c=cP(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+om(i,l++),o+=id(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Nu(t,e,n){if(t==null)return t;var r=[],s=0;return id(t,r,"","",function(i){return e.call(n,i,s++)}),r}function hP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var un={current:null},od={transition:null},fP={ReactCurrentDispatcher:un,ReactCurrentBatchConfig:od,ReactCurrentOwner:sy};function EE(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:Nu,forEach:function(t,e,n){Nu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Nu(t,function(){e++}),e},toArray:function(t){return Nu(t,function(e){return e})||[]},only:function(t){if(!iy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Se.Component=Pa;Se.Fragment=eP;Se.Profiler=nP;Se.PureComponent=ny;Se.StrictMode=tP;Se.Suspense=oP;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fP;Se.act=EE;Se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=gE({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=sy.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)xE.call(e,c)&&!wE.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:Lc,type:t.type,key:s,ref:i,props:r,_owner:o}};Se.createContext=function(t){return t={$$typeof:sP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:rP,_context:t},t.Consumer=t};Se.createElement=_E;Se.createFactory=function(t){var e=_E.bind(null,t);return e.type=t,e};Se.createRef=function(){return{current:null}};Se.forwardRef=function(t){return{$$typeof:iP,render:t}};Se.isValidElement=iy;Se.lazy=function(t){return{$$typeof:lP,_payload:{_status:-1,_result:t},_init:hP}};Se.memo=function(t,e){return{$$typeof:aP,type:t,compare:e===void 0?null:e}};Se.startTransition=function(t){var e=od.transition;od.transition={};try{t()}finally{od.transition=e}};Se.unstable_act=EE;Se.useCallback=function(t,e){return un.current.useCallback(t,e)};Se.useContext=function(t){return un.current.useContext(t)};Se.useDebugValue=function(){};Se.useDeferredValue=function(t){return un.current.useDeferredValue(t)};Se.useEffect=function(t,e){return un.current.useEffect(t,e)};Se.useId=function(){return un.current.useId()};Se.useImperativeHandle=function(t,e,n){return un.current.useImperativeHandle(t,e,n)};Se.useInsertionEffect=function(t,e){return un.current.useInsertionEffect(t,e)};Se.useLayoutEffect=function(t,e){return un.current.useLayoutEffect(t,e)};Se.useMemo=function(t,e){return un.current.useMemo(t,e)};Se.useReducer=function(t,e,n){return un.current.useReducer(t,e,n)};Se.useRef=function(t){return un.current.useRef(t)};Se.useState=function(t){return un.current.useState(t)};Se.useSyncExternalStore=function(t,e,n){return un.current.useSyncExternalStore(t,e,n)};Se.useTransition=function(){return un.current.useTransition()};Se.version="18.3.1";mE.exports=Se;var g=mE.exports;const J=hE(g),bE=JR({__proto__:null,default:J},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mP=g,pP=Symbol.for("react.element"),gP=Symbol.for("react.fragment"),yP=Object.prototype.hasOwnProperty,vP=mP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xP={key:!0,ref:!0,__self:!0,__source:!0};function TE(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)yP.call(e,r)&&!xP.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:pP,type:t,key:i,ref:o,props:s,_owner:vP.current}}Dh.Fragment=gP;Dh.jsx=TE;Dh.jsxs=TE;fE.exports=Dh;var a=fE.exports,SE={exports:{}},Vn={},NE={exports:{}},IE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,B){var Y=L.length;L.push(B);e:for(;0<Y;){var Q=Y-1>>>1,ne=L[Q];if(0<s(ne,B))L[Q]=B,L[Y]=ne,Y=Q;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var B=L[0],Y=L.pop();if(Y!==B){L[0]=Y;e:for(var Q=0,ne=L.length,oe=ne>>>1;Q<oe;){var V=2*(Q+1)-1,ce=L[V],ie=V+1,ee=L[ie];if(0>s(ce,Y))ie<ne&&0>s(ee,ce)?(L[Q]=ee,L[ie]=Y,Q=ie):(L[Q]=ce,L[V]=Y,Q=V);else if(ie<ne&&0>s(ee,Y))L[Q]=ee,L[ie]=Y,Q=ie;else break e}}return B}function s(L,B){var Y=L.sortIndex-B.sortIndex;return Y!==0?Y:L.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,f=null,m=3,y=!1,w=!1,x=!1,T=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var B=n(d);B!==null;){if(B.callback===null)r(d);else if(B.startTime<=L)r(d),B.sortIndex=B.expirationTime,e(c,B);else break;B=n(d)}}function R(L){if(x=!1,b(L),!w)if(n(c)!==null)w=!0,$(D);else{var B=n(d);B!==null&&Z(R,B.startTime-L)}}function D(L,B){w=!1,x&&(x=!1,_(N),N=-1),y=!0;var Y=m;try{for(b(B),f=n(c);f!==null&&(!(f.expirationTime>B)||L&&!j());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,m=f.priorityLevel;var ne=Q(f.expirationTime<=B);B=t.unstable_now(),typeof ne=="function"?f.callback=ne:f===n(c)&&r(c),b(B)}else r(c);f=n(c)}if(f!==null)var oe=!0;else{var V=n(d);V!==null&&Z(R,V.startTime-B),oe=!1}return oe}finally{f=null,m=Y,y=!1}}var O=!1,S=null,N=-1,I=5,C=-1;function j(){return!(t.unstable_now()-C<I)}function A(){if(S!==null){var L=t.unstable_now();C=L;var B=!0;try{B=S(!0,L)}finally{B?k():(O=!1,S=null)}}else O=!1}var k;if(typeof v=="function")k=function(){v(A)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,U=q.port2;q.port1.onmessage=A,k=function(){U.postMessage(null)}}else k=function(){T(A,0)};function $(L){S=L,O||(O=!0,k())}function Z(L,B){N=T(function(){L(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){w||y||(w=!0,$(D))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(L){switch(m){case 1:case 2:case 3:var B=3;break;default:B=m}var Y=m;m=B;try{return L()}finally{m=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,B){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var Y=m;m=L;try{return B()}finally{m=Y}},t.unstable_scheduleCallback=function(L,B,Y){var Q=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?Q+Y:Q):Y=Q,L){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=Y+ne,L={id:h++,callback:B,priorityLevel:L,startTime:Y,expirationTime:ne,sortIndex:-1},Y>Q?(L.sortIndex=Y,e(d,L),n(c)===null&&L===n(d)&&(x?(_(N),N=-1):x=!0,Z(R,Y-Q))):(L.sortIndex=ne,e(c,L),w||y||(w=!0,$(D))),L},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(L){var B=m;return function(){var Y=m;m=B;try{return L.apply(this,arguments)}finally{m=Y}}}})(IE);NE.exports=IE;var wP=NE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _P=g,Ln=wP;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var CE=new Set,Jl={};function ho(t,e){ha(t,e),ha(t+"Capture",e)}function ha(t,e){for(Jl[t]=e,t=0;t<e.length;t++)CE.add(e[t])}var ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dp=Object.prototype.hasOwnProperty,EP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wx={},_x={};function bP(t){return dp.call(_x,t)?!0:dp.call(wx,t)?!1:EP.test(t)?_x[t]=!0:(wx[t]=!0,!1)}function TP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function SP(t,e,n,r){if(e===null||typeof e>"u"||TP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function dn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Mt[t]=new dn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Mt[e]=new dn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Mt[t]=new dn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Mt[t]=new dn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Mt[t]=new dn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Mt[t]=new dn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Mt[t]=new dn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Mt[t]=new dn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Mt[t]=new dn(t,5,!1,t.toLowerCase(),null,!1,!1)});var oy=/[\-:]([a-z])/g;function ay(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(oy,ay);Mt[e]=new dn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(oy,ay);Mt[e]=new dn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(oy,ay);Mt[e]=new dn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Mt[t]=new dn(t,1,!1,t.toLowerCase(),null,!1,!1)});Mt.xlinkHref=new dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Mt[t]=new dn(t,1,!1,t.toLowerCase(),null,!0,!0)});function ly(t,e,n,r){var s=Mt.hasOwnProperty(e)?Mt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(SP(e,n,s,r)&&(n=null),r||s===null?bP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var hs=_P.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Iu=Symbol.for("react.element"),Ro=Symbol.for("react.portal"),Po=Symbol.for("react.fragment"),cy=Symbol.for("react.strict_mode"),hp=Symbol.for("react.profiler"),AE=Symbol.for("react.provider"),RE=Symbol.for("react.context"),uy=Symbol.for("react.forward_ref"),fp=Symbol.for("react.suspense"),mp=Symbol.for("react.suspense_list"),dy=Symbol.for("react.memo"),Ps=Symbol.for("react.lazy"),PE=Symbol.for("react.offscreen"),Ex=Symbol.iterator;function ul(t){return t===null||typeof t!="object"?null:(t=Ex&&t[Ex]||t["@@iterator"],typeof t=="function"?t:null)}var it=Object.assign,am;function wl(t){if(am===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);am=e&&e[1]||""}return`
`+am+t}var lm=!1;function cm(t,e){if(!t||lm)return"";lm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{lm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?wl(t):""}function NP(t){switch(t.tag){case 5:return wl(t.type);case 16:return wl("Lazy");case 13:return wl("Suspense");case 19:return wl("SuspenseList");case 0:case 2:case 15:return t=cm(t.type,!1),t;case 11:return t=cm(t.type.render,!1),t;case 1:return t=cm(t.type,!0),t;default:return""}}function pp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Po:return"Fragment";case Ro:return"Portal";case hp:return"Profiler";case cy:return"StrictMode";case fp:return"Suspense";case mp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case RE:return(t.displayName||"Context")+".Consumer";case AE:return(t._context.displayName||"Context")+".Provider";case uy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case dy:return e=t.displayName||null,e!==null?e:pp(t.type)||"Memo";case Ps:e=t._payload,t=t._init;try{return pp(t(e))}catch{}}return null}function IP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pp(e);case 8:return e===cy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function li(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function kE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function CP(t){var e=kE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Cu(t){t._valueTracker||(t._valueTracker=CP(t))}function jE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=kE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function kd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function gp(t,e){var n=e.checked;return it({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function bx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=li(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function DE(t,e){e=e.checked,e!=null&&ly(t,"checked",e,!1)}function yp(t,e){DE(t,e);var n=li(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?vp(t,e.type,n):e.hasOwnProperty("defaultValue")&&vp(t,e.type,li(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Tx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function vp(t,e,n){(e!=="number"||kd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _l=Array.isArray;function Bo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+li(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function xp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return it({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Sx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(G(92));if(_l(n)){if(1<n.length)throw Error(G(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:li(n)}}function LE(t,e){var n=li(e.value),r=li(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Nx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function OE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?OE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Au,ME=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Au=Au||document.createElement("div"),Au.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Au.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Zl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var jl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},AP=["Webkit","ms","Moz","O"];Object.keys(jl).forEach(function(t){AP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),jl[e]=jl[t]})});function VE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||jl.hasOwnProperty(t)&&jl[t]?(""+e).trim():e+"px"}function FE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=VE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var RP=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _p(t,e){if(e){if(RP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function Ep(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bp=null;function hy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Tp=null,zo=null,qo=null;function Ix(t){if(t=Vc(t)){if(typeof Tp!="function")throw Error(G(280));var e=t.stateNode;e&&(e=Fh(e),Tp(t.stateNode,t.type,e))}}function UE(t){zo?qo?qo.push(t):qo=[t]:zo=t}function $E(){if(zo){var t=zo,e=qo;if(qo=zo=null,Ix(t),e)for(t=0;t<e.length;t++)Ix(e[t])}}function BE(t,e){return t(e)}function zE(){}var um=!1;function qE(t,e,n){if(um)return t(e,n);um=!0;try{return BE(t,e,n)}finally{um=!1,(zo!==null||qo!==null)&&(zE(),$E())}}function ec(t,e){var n=t.stateNode;if(n===null)return null;var r=Fh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var Sp=!1;if(ts)try{var dl={};Object.defineProperty(dl,"passive",{get:function(){Sp=!0}}),window.addEventListener("test",dl,dl),window.removeEventListener("test",dl,dl)}catch{Sp=!1}function PP(t,e,n,r,s,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var Dl=!1,jd=null,Dd=!1,Np=null,kP={onError:function(t){Dl=!0,jd=t}};function jP(t,e,n,r,s,i,o,l,c){Dl=!1,jd=null,PP.apply(kP,arguments)}function DP(t,e,n,r,s,i,o,l,c){if(jP.apply(this,arguments),Dl){if(Dl){var d=jd;Dl=!1,jd=null}else throw Error(G(198));Dd||(Dd=!0,Np=d)}}function fo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function WE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Cx(t){if(fo(t)!==t)throw Error(G(188))}function LP(t){var e=t.alternate;if(!e){if(e=fo(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Cx(s),t;if(i===r)return Cx(s),e;i=i.sibling}throw Error(G(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function HE(t){return t=LP(t),t!==null?KE(t):null}function KE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=KE(t);if(e!==null)return e;t=t.sibling}return null}var GE=Ln.unstable_scheduleCallback,Ax=Ln.unstable_cancelCallback,OP=Ln.unstable_shouldYield,MP=Ln.unstable_requestPaint,gt=Ln.unstable_now,VP=Ln.unstable_getCurrentPriorityLevel,fy=Ln.unstable_ImmediatePriority,QE=Ln.unstable_UserBlockingPriority,Ld=Ln.unstable_NormalPriority,FP=Ln.unstable_LowPriority,YE=Ln.unstable_IdlePriority,Lh=null,Nr=null;function UP(t){if(Nr&&typeof Nr.onCommitFiberRoot=="function")try{Nr.onCommitFiberRoot(Lh,t,void 0,(t.current.flags&128)===128)}catch{}}var ar=Math.clz32?Math.clz32:zP,$P=Math.log,BP=Math.LN2;function zP(t){return t>>>=0,t===0?32:31-($P(t)/BP|0)|0}var Ru=64,Pu=4194304;function El(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Od(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=El(l):(i&=o,i!==0&&(r=El(i)))}else o=n&~s,o!==0?r=El(o):i!==0&&(r=El(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ar(e),s=1<<n,r|=t[n],e&=~s;return r}function qP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ar(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=qP(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Ip(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function XE(){var t=Ru;return Ru<<=1,!(Ru&4194240)&&(Ru=64),t}function dm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Oc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ar(e),t[e]=n}function HP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ar(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function my(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ar(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ue=0;function JE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ZE,py,eb,tb,nb,Cp=!1,ku=[],Gs=null,Qs=null,Ys=null,tc=new Map,nc=new Map,js=[],KP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rx(t,e){switch(t){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":tc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":nc.delete(e.pointerId)}}function hl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Vc(e),e!==null&&py(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function GP(t,e,n,r,s){switch(e){case"focusin":return Gs=hl(Gs,t,e,n,r,s),!0;case"dragenter":return Qs=hl(Qs,t,e,n,r,s),!0;case"mouseover":return Ys=hl(Ys,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return tc.set(i,hl(tc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,nc.set(i,hl(nc.get(i)||null,t,e,n,r,s)),!0}return!1}function rb(t){var e=Oi(t.target);if(e!==null){var n=fo(e);if(n!==null){if(e=n.tag,e===13){if(e=WE(n),e!==null){t.blockedOn=e,nb(t.priority,function(){eb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ad(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ap(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);bp=r,n.target.dispatchEvent(r),bp=null}else return e=Vc(n),e!==null&&py(e),t.blockedOn=n,!1;e.shift()}return!0}function Px(t,e,n){ad(t)&&n.delete(e)}function QP(){Cp=!1,Gs!==null&&ad(Gs)&&(Gs=null),Qs!==null&&ad(Qs)&&(Qs=null),Ys!==null&&ad(Ys)&&(Ys=null),tc.forEach(Px),nc.forEach(Px)}function fl(t,e){t.blockedOn===e&&(t.blockedOn=null,Cp||(Cp=!0,Ln.unstable_scheduleCallback(Ln.unstable_NormalPriority,QP)))}function rc(t){function e(s){return fl(s,t)}if(0<ku.length){fl(ku[0],t);for(var n=1;n<ku.length;n++){var r=ku[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Gs!==null&&fl(Gs,t),Qs!==null&&fl(Qs,t),Ys!==null&&fl(Ys,t),tc.forEach(e),nc.forEach(e),n=0;n<js.length;n++)r=js[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<js.length&&(n=js[0],n.blockedOn===null);)rb(n),n.blockedOn===null&&js.shift()}var Wo=hs.ReactCurrentBatchConfig,Md=!0;function YP(t,e,n,r){var s=Ue,i=Wo.transition;Wo.transition=null;try{Ue=1,gy(t,e,n,r)}finally{Ue=s,Wo.transition=i}}function XP(t,e,n,r){var s=Ue,i=Wo.transition;Wo.transition=null;try{Ue=4,gy(t,e,n,r)}finally{Ue=s,Wo.transition=i}}function gy(t,e,n,r){if(Md){var s=Ap(t,e,n,r);if(s===null)_m(t,e,r,Vd,n),Rx(t,r);else if(GP(s,t,e,n,r))r.stopPropagation();else if(Rx(t,r),e&4&&-1<KP.indexOf(t)){for(;s!==null;){var i=Vc(s);if(i!==null&&ZE(i),i=Ap(t,e,n,r),i===null&&_m(t,e,r,Vd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else _m(t,e,r,null,n)}}var Vd=null;function Ap(t,e,n,r){if(Vd=null,t=hy(r),t=Oi(t),t!==null)if(e=fo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=WE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Vd=t,null}function sb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(VP()){case fy:return 1;case QE:return 4;case Ld:case FP:return 16;case YE:return 536870912;default:return 16}default:return 16}}var zs=null,yy=null,ld=null;function ib(){if(ld)return ld;var t,e=yy,n=e.length,r,s="value"in zs?zs.value:zs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return ld=s.slice(t,1<r?1-r:void 0)}function cd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ju(){return!0}function kx(){return!1}function Fn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ju:kx,this.isPropagationStopped=kx,this}return it(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ju)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ju)},persist:function(){},isPersistent:ju}),e}var ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vy=Fn(ka),Mc=it({},ka,{view:0,detail:0}),JP=Fn(Mc),hm,fm,ml,Oh=it({},Mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ml&&(ml&&t.type==="mousemove"?(hm=t.screenX-ml.screenX,fm=t.screenY-ml.screenY):fm=hm=0,ml=t),hm)},movementY:function(t){return"movementY"in t?t.movementY:fm}}),jx=Fn(Oh),ZP=it({},Oh,{dataTransfer:0}),ek=Fn(ZP),tk=it({},Mc,{relatedTarget:0}),mm=Fn(tk),nk=it({},ka,{animationName:0,elapsedTime:0,pseudoElement:0}),rk=Fn(nk),sk=it({},ka,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ik=Fn(sk),ok=it({},ka,{data:0}),Dx=Fn(ok),ak={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ck={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ck[t])?!!e[t]:!1}function xy(){return uk}var dk=it({},Mc,{key:function(t){if(t.key){var e=ak[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=cd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xy,charCode:function(t){return t.type==="keypress"?cd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hk=Fn(dk),fk=it({},Oh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lx=Fn(fk),mk=it({},Mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xy}),pk=Fn(mk),gk=it({},ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),yk=Fn(gk),vk=it({},Oh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xk=Fn(vk),wk=[9,13,27,32],wy=ts&&"CompositionEvent"in window,Ll=null;ts&&"documentMode"in document&&(Ll=document.documentMode);var _k=ts&&"TextEvent"in window&&!Ll,ob=ts&&(!wy||Ll&&8<Ll&&11>=Ll),Ox=" ",Mx=!1;function ab(t,e){switch(t){case"keyup":return wk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ko=!1;function Ek(t,e){switch(t){case"compositionend":return lb(e);case"keypress":return e.which!==32?null:(Mx=!0,Ox);case"textInput":return t=e.data,t===Ox&&Mx?null:t;default:return null}}function bk(t,e){if(ko)return t==="compositionend"||!wy&&ab(t,e)?(t=ib(),ld=yy=zs=null,ko=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ob&&e.locale!=="ko"?null:e.data;default:return null}}var Tk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Tk[t.type]:e==="textarea"}function cb(t,e,n,r){UE(r),e=Fd(e,"onChange"),0<e.length&&(n=new vy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ol=null,sc=null;function Sk(t){wb(t,0)}function Mh(t){var e=Lo(t);if(jE(e))return t}function Nk(t,e){if(t==="change")return e}var ub=!1;if(ts){var pm;if(ts){var gm="oninput"in document;if(!gm){var Fx=document.createElement("div");Fx.setAttribute("oninput","return;"),gm=typeof Fx.oninput=="function"}pm=gm}else pm=!1;ub=pm&&(!document.documentMode||9<document.documentMode)}function Ux(){Ol&&(Ol.detachEvent("onpropertychange",db),sc=Ol=null)}function db(t){if(t.propertyName==="value"&&Mh(sc)){var e=[];cb(e,sc,t,hy(t)),qE(Sk,e)}}function Ik(t,e,n){t==="focusin"?(Ux(),Ol=e,sc=n,Ol.attachEvent("onpropertychange",db)):t==="focusout"&&Ux()}function Ck(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mh(sc)}function Ak(t,e){if(t==="click")return Mh(e)}function Rk(t,e){if(t==="input"||t==="change")return Mh(e)}function Pk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dr=typeof Object.is=="function"?Object.is:Pk;function ic(t,e){if(dr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!dp.call(e,s)||!dr(t[s],e[s]))return!1}return!0}function $x(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bx(t,e){var n=$x(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$x(n)}}function hb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?hb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function fb(){for(var t=window,e=kd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=kd(t.document)}return e}function _y(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function kk(t){var e=fb(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hb(n.ownerDocument.documentElement,n)){if(r!==null&&_y(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Bx(n,i);var o=Bx(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var jk=ts&&"documentMode"in document&&11>=document.documentMode,jo=null,Rp=null,Ml=null,Pp=!1;function zx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pp||jo==null||jo!==kd(r)||(r=jo,"selectionStart"in r&&_y(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ml&&ic(Ml,r)||(Ml=r,r=Fd(Rp,"onSelect"),0<r.length&&(e=new vy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=jo)))}function Du(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Do={animationend:Du("Animation","AnimationEnd"),animationiteration:Du("Animation","AnimationIteration"),animationstart:Du("Animation","AnimationStart"),transitionend:Du("Transition","TransitionEnd")},ym={},mb={};ts&&(mb=document.createElement("div").style,"AnimationEvent"in window||(delete Do.animationend.animation,delete Do.animationiteration.animation,delete Do.animationstart.animation),"TransitionEvent"in window||delete Do.transitionend.transition);function Vh(t){if(ym[t])return ym[t];if(!Do[t])return t;var e=Do[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in mb)return ym[t]=e[n];return t}var pb=Vh("animationend"),gb=Vh("animationiteration"),yb=Vh("animationstart"),vb=Vh("transitionend"),xb=new Map,qx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wi(t,e){xb.set(t,e),ho(e,[t])}for(var vm=0;vm<qx.length;vm++){var xm=qx[vm],Dk=xm.toLowerCase(),Lk=xm[0].toUpperCase()+xm.slice(1);wi(Dk,"on"+Lk)}wi(pb,"onAnimationEnd");wi(gb,"onAnimationIteration");wi(yb,"onAnimationStart");wi("dblclick","onDoubleClick");wi("focusin","onFocus");wi("focusout","onBlur");wi(vb,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);ho("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ho("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ho("onBeforeInput",["compositionend","keypress","textInput","paste"]);ho("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ho("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ho("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ok=new Set("cancel close invalid load scroll toggle".split(" ").concat(bl));function Wx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,DP(r,e,void 0,t),t.currentTarget=null}function wb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Wx(s,l,d),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Wx(s,l,d),i=c}}}if(Dd)throw t=Np,Dd=!1,Np=null,t}function Ye(t,e){var n=e[Op];n===void 0&&(n=e[Op]=new Set);var r=t+"__bubble";n.has(r)||(_b(e,t,2,!1),n.add(r))}function wm(t,e,n){var r=0;e&&(r|=4),_b(n,t,r,e)}var Lu="_reactListening"+Math.random().toString(36).slice(2);function oc(t){if(!t[Lu]){t[Lu]=!0,CE.forEach(function(n){n!=="selectionchange"&&(Ok.has(n)||wm(n,!1,t),wm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Lu]||(e[Lu]=!0,wm("selectionchange",!1,e))}}function _b(t,e,n,r){switch(sb(e)){case 1:var s=YP;break;case 4:s=XP;break;default:s=gy}n=s.bind(null,e,n,t),s=void 0,!Sp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function _m(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Oi(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}qE(function(){var d=i,h=hy(n),f=[];e:{var m=xb.get(t);if(m!==void 0){var y=vy,w=t;switch(t){case"keypress":if(cd(n)===0)break e;case"keydown":case"keyup":y=hk;break;case"focusin":w="focus",y=mm;break;case"focusout":w="blur",y=mm;break;case"beforeblur":case"afterblur":y=mm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=jx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=ek;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=pk;break;case pb:case gb:case yb:y=rk;break;case vb:y=yk;break;case"scroll":y=JP;break;case"wheel":y=xk;break;case"copy":case"cut":case"paste":y=ik;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Lx}var x=(e&4)!==0,T=!x&&t==="scroll",_=x?m!==null?m+"Capture":null:m;x=[];for(var v=d,b;v!==null;){b=v;var R=b.stateNode;if(b.tag===5&&R!==null&&(b=R,_!==null&&(R=ec(v,_),R!=null&&x.push(ac(v,R,b)))),T)break;v=v.return}0<x.length&&(m=new y(m,w,null,n,h),f.push({event:m,listeners:x}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==bp&&(w=n.relatedTarget||n.fromElement)&&(Oi(w)||w[ns]))break e;if((y||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=d,w=w?Oi(w):null,w!==null&&(T=fo(w),w!==T||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=d),y!==w)){if(x=jx,R="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(x=Lx,R="onPointerLeave",_="onPointerEnter",v="pointer"),T=y==null?m:Lo(y),b=w==null?m:Lo(w),m=new x(R,v+"leave",y,n,h),m.target=T,m.relatedTarget=b,R=null,Oi(h)===d&&(x=new x(_,v+"enter",w,n,h),x.target=b,x.relatedTarget=T,R=x),T=R,y&&w)t:{for(x=y,_=w,v=0,b=x;b;b=Eo(b))v++;for(b=0,R=_;R;R=Eo(R))b++;for(;0<v-b;)x=Eo(x),v--;for(;0<b-v;)_=Eo(_),b--;for(;v--;){if(x===_||_!==null&&x===_.alternate)break t;x=Eo(x),_=Eo(_)}x=null}else x=null;y!==null&&Hx(f,m,y,x,!1),w!==null&&T!==null&&Hx(f,T,w,x,!0)}}e:{if(m=d?Lo(d):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var D=Nk;else if(Vx(m))if(ub)D=Rk;else{D=Ck;var O=Ik}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(D=Ak);if(D&&(D=D(t,d))){cb(f,D,n,h);break e}O&&O(t,m,d),t==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&vp(m,"number",m.value)}switch(O=d?Lo(d):window,t){case"focusin":(Vx(O)||O.contentEditable==="true")&&(jo=O,Rp=d,Ml=null);break;case"focusout":Ml=Rp=jo=null;break;case"mousedown":Pp=!0;break;case"contextmenu":case"mouseup":case"dragend":Pp=!1,zx(f,n,h);break;case"selectionchange":if(jk)break;case"keydown":case"keyup":zx(f,n,h)}var S;if(wy)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else ko?ab(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(ob&&n.locale!=="ko"&&(ko||N!=="onCompositionStart"?N==="onCompositionEnd"&&ko&&(S=ib()):(zs=h,yy="value"in zs?zs.value:zs.textContent,ko=!0)),O=Fd(d,N),0<O.length&&(N=new Dx(N,t,null,n,h),f.push({event:N,listeners:O}),S?N.data=S:(S=lb(n),S!==null&&(N.data=S)))),(S=_k?Ek(t,n):bk(t,n))&&(d=Fd(d,"onBeforeInput"),0<d.length&&(h=new Dx("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=S))}wb(f,e)})}function ac(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ec(t,n),i!=null&&r.unshift(ac(t,i,s)),i=ec(t,e),i!=null&&r.push(ac(t,i,s))),t=t.return}return r}function Eo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Hx(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,s?(c=ec(n,i),c!=null&&o.unshift(ac(n,c,l))):s||(c=ec(n,i),c!=null&&o.push(ac(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Mk=/\r\n?/g,Vk=/\u0000|\uFFFD/g;function Kx(t){return(typeof t=="string"?t:""+t).replace(Mk,`
`).replace(Vk,"")}function Ou(t,e,n){if(e=Kx(e),Kx(t)!==e&&n)throw Error(G(425))}function Ud(){}var kp=null,jp=null;function Dp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Lp=typeof setTimeout=="function"?setTimeout:void 0,Fk=typeof clearTimeout=="function"?clearTimeout:void 0,Gx=typeof Promise=="function"?Promise:void 0,Uk=typeof queueMicrotask=="function"?queueMicrotask:typeof Gx<"u"?function(t){return Gx.resolve(null).then(t).catch($k)}:Lp;function $k(t){setTimeout(function(){throw t})}function Em(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),rc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);rc(e)}function Xs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Qx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ja=Math.random().toString(36).slice(2),br="__reactFiber$"+ja,lc="__reactProps$"+ja,ns="__reactContainer$"+ja,Op="__reactEvents$"+ja,Bk="__reactListeners$"+ja,zk="__reactHandles$"+ja;function Oi(t){var e=t[br];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ns]||n[br]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Qx(t);t!==null;){if(n=t[br])return n;t=Qx(t)}return e}t=n,n=t.parentNode}return null}function Vc(t){return t=t[br]||t[ns],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Lo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function Fh(t){return t[lc]||null}var Mp=[],Oo=-1;function _i(t){return{current:t}}function Je(t){0>Oo||(t.current=Mp[Oo],Mp[Oo]=null,Oo--)}function We(t,e){Oo++,Mp[Oo]=t.current,t.current=e}var ci={},Jt=_i(ci),xn=_i(!1),Xi=ci;function fa(t,e){var n=t.type.contextTypes;if(!n)return ci;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function wn(t){return t=t.childContextTypes,t!=null}function $d(){Je(xn),Je(Jt)}function Yx(t,e,n){if(Jt.current!==ci)throw Error(G(168));We(Jt,e),We(xn,n)}function Eb(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(G(108,IP(t)||"Unknown",s));return it({},n,r)}function Bd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ci,Xi=Jt.current,We(Jt,t),We(xn,xn.current),!0}function Xx(t,e,n){var r=t.stateNode;if(!r)throw Error(G(169));n?(t=Eb(t,e,Xi),r.__reactInternalMemoizedMergedChildContext=t,Je(xn),Je(Jt),We(Jt,t)):Je(xn),We(xn,n)}var Hr=null,Uh=!1,bm=!1;function bb(t){Hr===null?Hr=[t]:Hr.push(t)}function qk(t){Uh=!0,bb(t)}function Ei(){if(!bm&&Hr!==null){bm=!0;var t=0,e=Ue;try{var n=Hr;for(Ue=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Hr=null,Uh=!1}catch(s){throw Hr!==null&&(Hr=Hr.slice(t+1)),GE(fy,Ei),s}finally{Ue=e,bm=!1}}return null}var Mo=[],Vo=0,zd=null,qd=0,$n=[],Bn=0,Ji=null,Gr=1,Qr="";function ji(t,e){Mo[Vo++]=qd,Mo[Vo++]=zd,zd=t,qd=e}function Tb(t,e,n){$n[Bn++]=Gr,$n[Bn++]=Qr,$n[Bn++]=Ji,Ji=t;var r=Gr;t=Qr;var s=32-ar(r)-1;r&=~(1<<s),n+=1;var i=32-ar(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Gr=1<<32-ar(e)+s|n<<s|r,Qr=i+t}else Gr=1<<i|n<<s|r,Qr=t}function Ey(t){t.return!==null&&(ji(t,1),Tb(t,1,0))}function by(t){for(;t===zd;)zd=Mo[--Vo],Mo[Vo]=null,qd=Mo[--Vo],Mo[Vo]=null;for(;t===Ji;)Ji=$n[--Bn],$n[Bn]=null,Qr=$n[--Bn],$n[Bn]=null,Gr=$n[--Bn],$n[Bn]=null}var jn=null,Pn=null,et=!1,ir=null;function Sb(t,e){var n=Wn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Jx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,jn=t,Pn=Xs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,jn=t,Pn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ji!==null?{id:Gr,overflow:Qr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Wn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,jn=t,Pn=null,!0):!1;default:return!1}}function Vp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Fp(t){if(et){var e=Pn;if(e){var n=e;if(!Jx(t,e)){if(Vp(t))throw Error(G(418));e=Xs(n.nextSibling);var r=jn;e&&Jx(t,e)?Sb(r,n):(t.flags=t.flags&-4097|2,et=!1,jn=t)}}else{if(Vp(t))throw Error(G(418));t.flags=t.flags&-4097|2,et=!1,jn=t}}}function Zx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;jn=t}function Mu(t){if(t!==jn)return!1;if(!et)return Zx(t),et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Dp(t.type,t.memoizedProps)),e&&(e=Pn)){if(Vp(t))throw Nb(),Error(G(418));for(;e;)Sb(t,e),e=Xs(e.nextSibling)}if(Zx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Pn=Xs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Pn=null}}else Pn=jn?Xs(t.stateNode.nextSibling):null;return!0}function Nb(){for(var t=Pn;t;)t=Xs(t.nextSibling)}function ma(){Pn=jn=null,et=!1}function Ty(t){ir===null?ir=[t]:ir.push(t)}var Wk=hs.ReactCurrentBatchConfig;function pl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function Vu(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ew(t){var e=t._init;return e(t._payload)}function Ib(t){function e(_,v){if(t){var b=_.deletions;b===null?(_.deletions=[v],_.flags|=16):b.push(v)}}function n(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function r(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function s(_,v){return _=ti(_,v),_.index=0,_.sibling=null,_}function i(_,v,b){return _.index=b,t?(b=_.alternate,b!==null?(b=b.index,b<v?(_.flags|=2,v):b):(_.flags|=2,v)):(_.flags|=1048576,v)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function l(_,v,b,R){return v===null||v.tag!==6?(v=Rm(b,_.mode,R),v.return=_,v):(v=s(v,b),v.return=_,v)}function c(_,v,b,R){var D=b.type;return D===Po?h(_,v,b.props.children,R,b.key):v!==null&&(v.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Ps&&ew(D)===v.type)?(R=s(v,b.props),R.ref=pl(_,v,b),R.return=_,R):(R=gd(b.type,b.key,b.props,null,_.mode,R),R.ref=pl(_,v,b),R.return=_,R)}function d(_,v,b,R){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Pm(b,_.mode,R),v.return=_,v):(v=s(v,b.children||[]),v.return=_,v)}function h(_,v,b,R,D){return v===null||v.tag!==7?(v=Hi(b,_.mode,R,D),v.return=_,v):(v=s(v,b),v.return=_,v)}function f(_,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Rm(""+v,_.mode,b),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Iu:return b=gd(v.type,v.key,v.props,null,_.mode,b),b.ref=pl(_,null,v),b.return=_,b;case Ro:return v=Pm(v,_.mode,b),v.return=_,v;case Ps:var R=v._init;return f(_,R(v._payload),b)}if(_l(v)||ul(v))return v=Hi(v,_.mode,b,null),v.return=_,v;Vu(_,v)}return null}function m(_,v,b,R){var D=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return D!==null?null:l(_,v,""+b,R);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Iu:return b.key===D?c(_,v,b,R):null;case Ro:return b.key===D?d(_,v,b,R):null;case Ps:return D=b._init,m(_,v,D(b._payload),R)}if(_l(b)||ul(b))return D!==null?null:h(_,v,b,R,null);Vu(_,b)}return null}function y(_,v,b,R,D){if(typeof R=="string"&&R!==""||typeof R=="number")return _=_.get(b)||null,l(v,_,""+R,D);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Iu:return _=_.get(R.key===null?b:R.key)||null,c(v,_,R,D);case Ro:return _=_.get(R.key===null?b:R.key)||null,d(v,_,R,D);case Ps:var O=R._init;return y(_,v,b,O(R._payload),D)}if(_l(R)||ul(R))return _=_.get(b)||null,h(v,_,R,D,null);Vu(v,R)}return null}function w(_,v,b,R){for(var D=null,O=null,S=v,N=v=0,I=null;S!==null&&N<b.length;N++){S.index>N?(I=S,S=null):I=S.sibling;var C=m(_,S,b[N],R);if(C===null){S===null&&(S=I);break}t&&S&&C.alternate===null&&e(_,S),v=i(C,v,N),O===null?D=C:O.sibling=C,O=C,S=I}if(N===b.length)return n(_,S),et&&ji(_,N),D;if(S===null){for(;N<b.length;N++)S=f(_,b[N],R),S!==null&&(v=i(S,v,N),O===null?D=S:O.sibling=S,O=S);return et&&ji(_,N),D}for(S=r(_,S);N<b.length;N++)I=y(S,_,N,b[N],R),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?N:I.key),v=i(I,v,N),O===null?D=I:O.sibling=I,O=I);return t&&S.forEach(function(j){return e(_,j)}),et&&ji(_,N),D}function x(_,v,b,R){var D=ul(b);if(typeof D!="function")throw Error(G(150));if(b=D.call(b),b==null)throw Error(G(151));for(var O=D=null,S=v,N=v=0,I=null,C=b.next();S!==null&&!C.done;N++,C=b.next()){S.index>N?(I=S,S=null):I=S.sibling;var j=m(_,S,C.value,R);if(j===null){S===null&&(S=I);break}t&&S&&j.alternate===null&&e(_,S),v=i(j,v,N),O===null?D=j:O.sibling=j,O=j,S=I}if(C.done)return n(_,S),et&&ji(_,N),D;if(S===null){for(;!C.done;N++,C=b.next())C=f(_,C.value,R),C!==null&&(v=i(C,v,N),O===null?D=C:O.sibling=C,O=C);return et&&ji(_,N),D}for(S=r(_,S);!C.done;N++,C=b.next())C=y(S,_,N,C.value,R),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?N:C.key),v=i(C,v,N),O===null?D=C:O.sibling=C,O=C);return t&&S.forEach(function(A){return e(_,A)}),et&&ji(_,N),D}function T(_,v,b,R){if(typeof b=="object"&&b!==null&&b.type===Po&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Iu:e:{for(var D=b.key,O=v;O!==null;){if(O.key===D){if(D=b.type,D===Po){if(O.tag===7){n(_,O.sibling),v=s(O,b.props.children),v.return=_,_=v;break e}}else if(O.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Ps&&ew(D)===O.type){n(_,O.sibling),v=s(O,b.props),v.ref=pl(_,O,b),v.return=_,_=v;break e}n(_,O);break}else e(_,O);O=O.sibling}b.type===Po?(v=Hi(b.props.children,_.mode,R,b.key),v.return=_,_=v):(R=gd(b.type,b.key,b.props,null,_.mode,R),R.ref=pl(_,v,b),R.return=_,_=R)}return o(_);case Ro:e:{for(O=b.key;v!==null;){if(v.key===O)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(_,v.sibling),v=s(v,b.children||[]),v.return=_,_=v;break e}else{n(_,v);break}else e(_,v);v=v.sibling}v=Pm(b,_.mode,R),v.return=_,_=v}return o(_);case Ps:return O=b._init,T(_,v,O(b._payload),R)}if(_l(b))return w(_,v,b,R);if(ul(b))return x(_,v,b,R);Vu(_,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(_,v.sibling),v=s(v,b),v.return=_,_=v):(n(_,v),v=Rm(b,_.mode,R),v.return=_,_=v),o(_)):n(_,v)}return T}var pa=Ib(!0),Cb=Ib(!1),Wd=_i(null),Hd=null,Fo=null,Sy=null;function Ny(){Sy=Fo=Hd=null}function Iy(t){var e=Wd.current;Je(Wd),t._currentValue=e}function Up(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ho(t,e){Hd=t,Sy=Fo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(vn=!0),t.firstContext=null)}function Gn(t){var e=t._currentValue;if(Sy!==t)if(t={context:t,memoizedValue:e,next:null},Fo===null){if(Hd===null)throw Error(G(308));Fo=t,Hd.dependencies={lanes:0,firstContext:t}}else Fo=Fo.next=t;return e}var Mi=null;function Cy(t){Mi===null?Mi=[t]:Mi.push(t)}function Ab(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Cy(e)):(n.next=s.next,s.next=n),e.interleaved=n,rs(t,r)}function rs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ks=!1;function Ay(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Jr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Js(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,De&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,rs(t,n)}return s=r.interleaved,s===null?(e.next=e,Cy(r)):(e.next=s.next,s.next=e),r.interleaved=e,rs(t,n)}function ud(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,my(t,n)}}function tw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Kd(t,e,n,r){var s=t.updateQueue;ks=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,h=d=c=null,l=i;do{var m=l.lane,y=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=t,x=l;switch(m=e,y=n,x.tag){case 1:if(w=x.payload,typeof w=="function"){f=w.call(y,f,m);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,m=typeof w=="function"?w.call(y,f,m):w,m==null)break e;f=it({},f,m);break e;case 2:ks=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=y,c=f):h=h.next=y,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);eo|=o,t.lanes=o,t.memoizedState=f}}function nw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(G(191,s));s.call(r)}}}var Fc={},Ir=_i(Fc),cc=_i(Fc),uc=_i(Fc);function Vi(t){if(t===Fc)throw Error(G(174));return t}function Ry(t,e){switch(We(uc,e),We(cc,t),We(Ir,Fc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wp(e,t)}Je(Ir),We(Ir,e)}function ga(){Je(Ir),Je(cc),Je(uc)}function Pb(t){Vi(uc.current);var e=Vi(Ir.current),n=wp(e,t.type);e!==n&&(We(cc,t),We(Ir,n))}function Py(t){cc.current===t&&(Je(Ir),Je(cc))}var rt=_i(0);function Gd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Tm=[];function ky(){for(var t=0;t<Tm.length;t++)Tm[t]._workInProgressVersionPrimary=null;Tm.length=0}var dd=hs.ReactCurrentDispatcher,Sm=hs.ReactCurrentBatchConfig,Zi=0,st=null,Tt=null,At=null,Qd=!1,Vl=!1,dc=0,Hk=0;function qt(){throw Error(G(321))}function jy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!dr(t[n],e[n]))return!1;return!0}function Dy(t,e,n,r,s,i){if(Zi=i,st=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,dd.current=t===null||t.memoizedState===null?Yk:Xk,t=n(r,s),Vl){i=0;do{if(Vl=!1,dc=0,25<=i)throw Error(G(301));i+=1,At=Tt=null,e.updateQueue=null,dd.current=Jk,t=n(r,s)}while(Vl)}if(dd.current=Yd,e=Tt!==null&&Tt.next!==null,Zi=0,At=Tt=st=null,Qd=!1,e)throw Error(G(300));return t}function Ly(){var t=dc!==0;return dc=0,t}function vr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?st.memoizedState=At=t:At=At.next=t,At}function Qn(){if(Tt===null){var t=st.alternate;t=t!==null?t.memoizedState:null}else t=Tt.next;var e=At===null?st.memoizedState:At.next;if(e!==null)At=e,Tt=t;else{if(t===null)throw Error(G(310));Tt=t,t={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},At===null?st.memoizedState=At=t:At=At.next=t}return At}function hc(t,e){return typeof e=="function"?e(t):e}function Nm(t){var e=Qn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=Tt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,d=i;do{var h=d.lane;if((Zi&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,st.lanes|=h,eo|=h}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=l,dr(r,e.memoizedState)||(vn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,st.lanes|=i,eo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Im(t){var e=Qn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);dr(i,e.memoizedState)||(vn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function kb(){}function jb(t,e){var n=st,r=Qn(),s=e(),i=!dr(r.memoizedState,s);if(i&&(r.memoizedState=s,vn=!0),r=r.queue,Oy(Ob.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||At!==null&&At.memoizedState.tag&1){if(n.flags|=2048,fc(9,Lb.bind(null,n,r,s,e),void 0,null),Pt===null)throw Error(G(349));Zi&30||Db(n,e,s)}return s}function Db(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Lb(t,e,n,r){e.value=n,e.getSnapshot=r,Mb(e)&&Vb(t)}function Ob(t,e,n){return n(function(){Mb(e)&&Vb(t)})}function Mb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!dr(t,n)}catch{return!0}}function Vb(t){var e=rs(t,1);e!==null&&lr(e,t,1,-1)}function rw(t){var e=vr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hc,lastRenderedState:t},e.queue=t,t=t.dispatch=Qk.bind(null,st,t),[e.memoizedState,t]}function fc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Fb(){return Qn().memoizedState}function hd(t,e,n,r){var s=vr();st.flags|=t,s.memoizedState=fc(1|e,n,void 0,r===void 0?null:r)}function $h(t,e,n,r){var s=Qn();r=r===void 0?null:r;var i=void 0;if(Tt!==null){var o=Tt.memoizedState;if(i=o.destroy,r!==null&&jy(r,o.deps)){s.memoizedState=fc(e,n,i,r);return}}st.flags|=t,s.memoizedState=fc(1|e,n,i,r)}function sw(t,e){return hd(8390656,8,t,e)}function Oy(t,e){return $h(2048,8,t,e)}function Ub(t,e){return $h(4,2,t,e)}function $b(t,e){return $h(4,4,t,e)}function Bb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function zb(t,e,n){return n=n!=null?n.concat([t]):null,$h(4,4,Bb.bind(null,e,t),n)}function My(){}function qb(t,e){var n=Qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Wb(t,e){var n=Qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Hb(t,e,n){return Zi&21?(dr(n,e)||(n=XE(),st.lanes|=n,eo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,vn=!0),t.memoizedState=n)}function Kk(t,e){var n=Ue;Ue=n!==0&&4>n?n:4,t(!0);var r=Sm.transition;Sm.transition={};try{t(!1),e()}finally{Ue=n,Sm.transition=r}}function Kb(){return Qn().memoizedState}function Gk(t,e,n){var r=ei(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Gb(t))Qb(e,n);else if(n=Ab(t,e,n,r),n!==null){var s=an();lr(n,t,r,s),Yb(n,e,r)}}function Qk(t,e,n){var r=ei(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gb(t))Qb(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,dr(l,o)){var c=e.interleaved;c===null?(s.next=s,Cy(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=Ab(t,e,s,r),n!==null&&(s=an(),lr(n,t,r,s),Yb(n,e,r))}}function Gb(t){var e=t.alternate;return t===st||e!==null&&e===st}function Qb(t,e){Vl=Qd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Yb(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,my(t,n)}}var Yd={readContext:Gn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},Yk={readContext:Gn,useCallback:function(t,e){return vr().memoizedState=[t,e===void 0?null:e],t},useContext:Gn,useEffect:sw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,hd(4194308,4,Bb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return hd(4194308,4,t,e)},useInsertionEffect:function(t,e){return hd(4,2,t,e)},useMemo:function(t,e){var n=vr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=vr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Gk.bind(null,st,t),[r.memoizedState,t]},useRef:function(t){var e=vr();return t={current:t},e.memoizedState=t},useState:rw,useDebugValue:My,useDeferredValue:function(t){return vr().memoizedState=t},useTransition:function(){var t=rw(!1),e=t[0];return t=Kk.bind(null,t[1]),vr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=st,s=vr();if(et){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),Pt===null)throw Error(G(349));Zi&30||Db(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,sw(Ob.bind(null,r,i,t),[t]),r.flags|=2048,fc(9,Lb.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=vr(),e=Pt.identifierPrefix;if(et){var n=Qr,r=Gr;n=(r&~(1<<32-ar(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=dc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Hk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Xk={readContext:Gn,useCallback:qb,useContext:Gn,useEffect:Oy,useImperativeHandle:zb,useInsertionEffect:Ub,useLayoutEffect:$b,useMemo:Wb,useReducer:Nm,useRef:Fb,useState:function(){return Nm(hc)},useDebugValue:My,useDeferredValue:function(t){var e=Qn();return Hb(e,Tt.memoizedState,t)},useTransition:function(){var t=Nm(hc)[0],e=Qn().memoizedState;return[t,e]},useMutableSource:kb,useSyncExternalStore:jb,useId:Kb,unstable_isNewReconciler:!1},Jk={readContext:Gn,useCallback:qb,useContext:Gn,useEffect:Oy,useImperativeHandle:zb,useInsertionEffect:Ub,useLayoutEffect:$b,useMemo:Wb,useReducer:Im,useRef:Fb,useState:function(){return Im(hc)},useDebugValue:My,useDeferredValue:function(t){var e=Qn();return Tt===null?e.memoizedState=t:Hb(e,Tt.memoizedState,t)},useTransition:function(){var t=Im(hc)[0],e=Qn().memoizedState;return[t,e]},useMutableSource:kb,useSyncExternalStore:jb,useId:Kb,unstable_isNewReconciler:!1};function tr(t,e){if(t&&t.defaultProps){e=it({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function $p(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:it({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Bh={isMounted:function(t){return(t=t._reactInternals)?fo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=an(),s=ei(t),i=Jr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Js(t,i,s),e!==null&&(lr(e,t,s,r),ud(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=an(),s=ei(t),i=Jr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Js(t,i,s),e!==null&&(lr(e,t,s,r),ud(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=an(),r=ei(t),s=Jr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Js(t,s,r),e!==null&&(lr(e,t,r,n),ud(e,t,r))}};function iw(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!ic(n,r)||!ic(s,i):!0}function Xb(t,e,n){var r=!1,s=ci,i=e.contextType;return typeof i=="object"&&i!==null?i=Gn(i):(s=wn(e)?Xi:Jt.current,r=e.contextTypes,i=(r=r!=null)?fa(t,s):ci),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Bh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function ow(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Bh.enqueueReplaceState(e,e.state,null)}function Bp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Ay(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Gn(i):(i=wn(e)?Xi:Jt.current,s.context=fa(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&($p(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Bh.enqueueReplaceState(s,s.state,null),Kd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ya(t,e){try{var n="",r=e;do n+=NP(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Cm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function zp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Zk=typeof WeakMap=="function"?WeakMap:Map;function Jb(t,e,n){n=Jr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Jd||(Jd=!0,Zp=r),zp(t,e)},n}function Zb(t,e,n){n=Jr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){zp(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){zp(t,e),typeof r!="function"&&(Zs===null?Zs=new Set([this]):Zs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function aw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Zk;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=f2.bind(null,t,e,n),e.then(t,t))}function lw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function cw(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Jr(-1,1),e.tag=2,Js(n,e,1))),n.lanes|=1),t)}var e2=hs.ReactCurrentOwner,vn=!1;function rn(t,e,n,r){e.child=t===null?Cb(e,null,n,r):pa(e,t.child,n,r)}function uw(t,e,n,r,s){n=n.render;var i=e.ref;return Ho(e,s),r=Dy(t,e,n,r,i,s),n=Ly(),t!==null&&!vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ss(t,e,s)):(et&&n&&Ey(e),e.flags|=1,rn(t,e,r,s),e.child)}function dw(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Wy(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,eT(t,e,i,r,s)):(t=gd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ic,n(o,r)&&t.ref===e.ref)return ss(t,e,s)}return e.flags|=1,t=ti(i,r),t.ref=e.ref,t.return=e,e.child=t}function eT(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(ic(i,r)&&t.ref===e.ref)if(vn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(vn=!0);else return e.lanes=t.lanes,ss(t,e,s)}return qp(t,e,n,r,s)}function tT(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},We($o,Cn),Cn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,We($o,Cn),Cn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,We($o,Cn),Cn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,We($o,Cn),Cn|=r;return rn(t,e,s,n),e.child}function nT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function qp(t,e,n,r,s){var i=wn(n)?Xi:Jt.current;return i=fa(e,i),Ho(e,s),n=Dy(t,e,n,r,i,s),r=Ly(),t!==null&&!vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ss(t,e,s)):(et&&r&&Ey(e),e.flags|=1,rn(t,e,n,s),e.child)}function hw(t,e,n,r,s){if(wn(n)){var i=!0;Bd(e)}else i=!1;if(Ho(e,s),e.stateNode===null)fd(t,e),Xb(e,n,r),Bp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Gn(d):(d=wn(n)?Xi:Jt.current,d=fa(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&ow(e,o,r,d),ks=!1;var m=e.memoizedState;o.state=m,Kd(e,r,o,s),c=e.memoizedState,l!==r||m!==c||xn.current||ks?(typeof h=="function"&&($p(e,n,h,r),c=e.memoizedState),(l=ks||iw(e,n,l,r,m,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Rb(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:tr(e.type,l),o.props=d,f=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Gn(c):(c=wn(n)?Xi:Jt.current,c=fa(e,c));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&ow(e,o,r,c),ks=!1,m=e.memoizedState,o.state=m,Kd(e,r,o,s);var w=e.memoizedState;l!==f||m!==w||xn.current||ks?(typeof y=="function"&&($p(e,n,y,r),w=e.memoizedState),(d=ks||iw(e,n,d,r,m,w,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Wp(t,e,n,r,i,s)}function Wp(t,e,n,r,s,i){nT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Xx(e,n,!1),ss(t,e,i);r=e.stateNode,e2.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=pa(e,t.child,null,i),e.child=pa(e,null,l,i)):rn(t,e,l,i),e.memoizedState=r.state,s&&Xx(e,n,!0),e.child}function rT(t){var e=t.stateNode;e.pendingContext?Yx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Yx(t,e.context,!1),Ry(t,e.containerInfo)}function fw(t,e,n,r,s){return ma(),Ty(s),e.flags|=256,rn(t,e,n,r),e.child}var Hp={dehydrated:null,treeContext:null,retryLane:0};function Kp(t){return{baseLanes:t,cachePool:null,transitions:null}}function sT(t,e,n){var r=e.pendingProps,s=rt.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),We(rt,s&1),t===null)return Fp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Wh(o,r,0,null),t=Hi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Kp(n),e.memoizedState=Hp,t):Vy(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return t2(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=ti(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=ti(l,i):(i=Hi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Kp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Hp,r}return i=t.child,t=i.sibling,r=ti(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Vy(t,e){return e=Wh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fu(t,e,n,r){return r!==null&&Ty(r),pa(e,t.child,null,n),t=Vy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function t2(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Cm(Error(G(422))),Fu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Wh({mode:"visible",children:r.children},s,0,null),i=Hi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&pa(e,t.child,null,o),e.child.memoizedState=Kp(o),e.memoizedState=Hp,i);if(!(e.mode&1))return Fu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(G(419)),r=Cm(i,r,void 0),Fu(t,e,o,r)}if(l=(o&t.childLanes)!==0,vn||l){if(r=Pt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,rs(t,s),lr(r,t,s,-1))}return qy(),r=Cm(Error(G(421))),Fu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=m2.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Pn=Xs(s.nextSibling),jn=e,et=!0,ir=null,t!==null&&($n[Bn++]=Gr,$n[Bn++]=Qr,$n[Bn++]=Ji,Gr=t.id,Qr=t.overflow,Ji=e),e=Vy(e,r.children),e.flags|=4096,e)}function mw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Up(t.return,e,n)}function Am(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function iT(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(rn(t,e,r.children,n),r=rt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mw(t,n,e);else if(t.tag===19)mw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(We(rt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Gd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Am(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Gd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Am(e,!0,n,null,i);break;case"together":Am(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function fd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ss(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),eo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=ti(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ti(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function n2(t,e,n){switch(e.tag){case 3:rT(e),ma();break;case 5:Pb(e);break;case 1:wn(e.type)&&Bd(e);break;case 4:Ry(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;We(Wd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(We(rt,rt.current&1),e.flags|=128,null):n&e.child.childLanes?sT(t,e,n):(We(rt,rt.current&1),t=ss(t,e,n),t!==null?t.sibling:null);We(rt,rt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return iT(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),We(rt,rt.current),r)break;return null;case 22:case 23:return e.lanes=0,tT(t,e,n)}return ss(t,e,n)}var oT,Gp,aT,lT;oT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gp=function(){};aT=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Vi(Ir.current);var i=null;switch(n){case"input":s=gp(t,s),r=gp(t,r),i=[];break;case"select":s=it({},s,{value:void 0}),r=it({},r,{value:void 0}),i=[];break;case"textarea":s=xp(t,s),r=xp(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ud)}_p(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Jl.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Jl.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ye("scroll",t),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};lT=function(t,e,n,r){n!==r&&(e.flags|=4)};function gl(t,e){if(!et)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function r2(t,e,n){var r=e.pendingProps;switch(by(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(e),null;case 1:return wn(e.type)&&$d(),Wt(e),null;case 3:return r=e.stateNode,ga(),Je(xn),Je(Jt),ky(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Mu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ir!==null&&(ng(ir),ir=null))),Gp(t,e),Wt(e),null;case 5:Py(e);var s=Vi(uc.current);if(n=e.type,t!==null&&e.stateNode!=null)aT(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(G(166));return Wt(e),null}if(t=Vi(Ir.current),Mu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[br]=e,r[lc]=i,t=(e.mode&1)!==0,n){case"dialog":Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":case"embed":Ye("load",r);break;case"video":case"audio":for(s=0;s<bl.length;s++)Ye(bl[s],r);break;case"source":Ye("error",r);break;case"img":case"image":case"link":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"input":bx(r,i),Ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ye("invalid",r);break;case"textarea":Sx(r,i),Ye("invalid",r)}_p(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ou(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ou(r.textContent,l,t),s=["children",""+l]):Jl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ye("scroll",r)}switch(n){case"input":Cu(r),Tx(r,i,!0);break;case"textarea":Cu(r),Nx(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ud)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=OE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[br]=e,t[lc]=r,oT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ep(n,r),n){case"dialog":Ye("cancel",t),Ye("close",t),s=r;break;case"iframe":case"object":case"embed":Ye("load",t),s=r;break;case"video":case"audio":for(s=0;s<bl.length;s++)Ye(bl[s],t);s=r;break;case"source":Ye("error",t),s=r;break;case"img":case"image":case"link":Ye("error",t),Ye("load",t),s=r;break;case"details":Ye("toggle",t),s=r;break;case"input":bx(t,r),s=gp(t,r),Ye("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=it({},r,{value:void 0}),Ye("invalid",t);break;case"textarea":Sx(t,r),s=xp(t,r),Ye("invalid",t);break;default:s=r}_p(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?FE(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ME(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Zl(t,c):typeof c=="number"&&Zl(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Jl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ye("scroll",t):c!=null&&ly(t,i,c,o))}switch(n){case"input":Cu(t),Tx(t,r,!1);break;case"textarea":Cu(t),Nx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+li(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Bo(t,!!r.multiple,i,!1):r.defaultValue!=null&&Bo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ud)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wt(e),null;case 6:if(t&&e.stateNode!=null)lT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(G(166));if(n=Vi(uc.current),Vi(Ir.current),Mu(e)){if(r=e.stateNode,n=e.memoizedProps,r[br]=e,(i=r.nodeValue!==n)&&(t=jn,t!==null))switch(t.tag){case 3:Ou(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ou(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[br]=e,e.stateNode=r}return Wt(e),null;case 13:if(Je(rt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(et&&Pn!==null&&e.mode&1&&!(e.flags&128))Nb(),ma(),e.flags|=98560,i=!1;else if(i=Mu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(G(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[br]=e}else ma(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wt(e),i=!1}else ir!==null&&(ng(ir),ir=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||rt.current&1?St===0&&(St=3):qy())),e.updateQueue!==null&&(e.flags|=4),Wt(e),null);case 4:return ga(),Gp(t,e),t===null&&oc(e.stateNode.containerInfo),Wt(e),null;case 10:return Iy(e.type._context),Wt(e),null;case 17:return wn(e.type)&&$d(),Wt(e),null;case 19:if(Je(rt),i=e.memoizedState,i===null)return Wt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)gl(i,!1);else{if(St!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Gd(t),o!==null){for(e.flags|=128,gl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return We(rt,rt.current&1|2),e.child}t=t.sibling}i.tail!==null&&gt()>va&&(e.flags|=128,r=!0,gl(i,!1),e.lanes=4194304)}else{if(!r)if(t=Gd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),gl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!et)return Wt(e),null}else 2*gt()-i.renderingStartTime>va&&n!==1073741824&&(e.flags|=128,r=!0,gl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=gt(),e.sibling=null,n=rt.current,We(rt,r?n&1|2:n&1),e):(Wt(e),null);case 22:case 23:return zy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Cn&1073741824&&(Wt(e),e.subtreeFlags&6&&(e.flags|=8192)):Wt(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function s2(t,e){switch(by(e),e.tag){case 1:return wn(e.type)&&$d(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ga(),Je(xn),Je(Jt),ky(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Py(e),null;case 13:if(Je(rt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));ma()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Je(rt),null;case 4:return ga(),null;case 10:return Iy(e.type._context),null;case 22:case 23:return zy(),null;case 24:return null;default:return null}}var Uu=!1,Qt=!1,i2=typeof WeakSet=="function"?WeakSet:Set,se=null;function Uo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){dt(t,e,r)}else n.current=null}function Qp(t,e,n){try{n()}catch(r){dt(t,e,r)}}var pw=!1;function o2(t,e){if(kp=Md,t=fb(),_y(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,h=0,f=t,m=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)m=f,f=y;for(;;){if(f===t)break t;if(m===n&&++d===s&&(l=o),m===i&&++h===r&&(c=o),(y=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(jp={focusedElem:t,selectionRange:n},Md=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,T=w.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?x:tr(e.type,x),T);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(R){dt(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return w=pw,pw=!1,w}function Fl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Qp(e,n,i)}s=s.next}while(s!==r)}}function zh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Yp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function cT(t){var e=t.alternate;e!==null&&(t.alternate=null,cT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[br],delete e[lc],delete e[Op],delete e[Bk],delete e[zk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function uT(t){return t.tag===5||t.tag===3||t.tag===4}function gw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ud));else if(r!==4&&(t=t.child,t!==null))for(Xp(t,e,n),t=t.sibling;t!==null;)Xp(t,e,n),t=t.sibling}function Jp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Jp(t,e,n),t=t.sibling;t!==null;)Jp(t,e,n),t=t.sibling}var jt=null,sr=!1;function Ts(t,e,n){for(n=n.child;n!==null;)dT(t,e,n),n=n.sibling}function dT(t,e,n){if(Nr&&typeof Nr.onCommitFiberUnmount=="function")try{Nr.onCommitFiberUnmount(Lh,n)}catch{}switch(n.tag){case 5:Qt||Uo(n,e);case 6:var r=jt,s=sr;jt=null,Ts(t,e,n),jt=r,sr=s,jt!==null&&(sr?(t=jt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):jt.removeChild(n.stateNode));break;case 18:jt!==null&&(sr?(t=jt,n=n.stateNode,t.nodeType===8?Em(t.parentNode,n):t.nodeType===1&&Em(t,n),rc(t)):Em(jt,n.stateNode));break;case 4:r=jt,s=sr,jt=n.stateNode.containerInfo,sr=!0,Ts(t,e,n),jt=r,sr=s;break;case 0:case 11:case 14:case 15:if(!Qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Qp(n,e,o),s=s.next}while(s!==r)}Ts(t,e,n);break;case 1:if(!Qt&&(Uo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){dt(n,e,l)}Ts(t,e,n);break;case 21:Ts(t,e,n);break;case 22:n.mode&1?(Qt=(r=Qt)||n.memoizedState!==null,Ts(t,e,n),Qt=r):Ts(t,e,n);break;default:Ts(t,e,n)}}function yw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new i2),e.forEach(function(r){var s=p2.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Zn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:jt=l.stateNode,sr=!1;break e;case 3:jt=l.stateNode.containerInfo,sr=!0;break e;case 4:jt=l.stateNode.containerInfo,sr=!0;break e}l=l.return}if(jt===null)throw Error(G(160));dT(i,o,s),jt=null,sr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){dt(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)hT(e,t),e=e.sibling}function hT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zn(e,t),yr(t),r&4){try{Fl(3,t,t.return),zh(3,t)}catch(x){dt(t,t.return,x)}try{Fl(5,t,t.return)}catch(x){dt(t,t.return,x)}}break;case 1:Zn(e,t),yr(t),r&512&&n!==null&&Uo(n,n.return);break;case 5:if(Zn(e,t),yr(t),r&512&&n!==null&&Uo(n,n.return),t.flags&32){var s=t.stateNode;try{Zl(s,"")}catch(x){dt(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&DE(s,i),Ep(l,o);var d=Ep(l,i);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?FE(s,f):h==="dangerouslySetInnerHTML"?ME(s,f):h==="children"?Zl(s,f):ly(s,h,f,d)}switch(l){case"input":yp(s,i);break;case"textarea":LE(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Bo(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?Bo(s,!!i.multiple,i.defaultValue,!0):Bo(s,!!i.multiple,i.multiple?[]:"",!1))}s[lc]=i}catch(x){dt(t,t.return,x)}}break;case 6:if(Zn(e,t),yr(t),r&4){if(t.stateNode===null)throw Error(G(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){dt(t,t.return,x)}}break;case 3:if(Zn(e,t),yr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{rc(e.containerInfo)}catch(x){dt(t,t.return,x)}break;case 4:Zn(e,t),yr(t);break;case 13:Zn(e,t),yr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||($y=gt())),r&4&&yw(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Qt=(d=Qt)||h,Zn(e,t),Qt=d):Zn(e,t),yr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(se=t,h=t.child;h!==null;){for(f=se=h;se!==null;){switch(m=se,y=m.child,m.tag){case 0:case 11:case 14:case 15:Fl(4,m,m.return);break;case 1:Uo(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(x){dt(r,n,x)}}break;case 5:Uo(m,m.return);break;case 22:if(m.memoizedState!==null){xw(f);continue}}y!==null?(y.return=m,se=y):xw(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=VE("display",o))}catch(x){dt(t,t.return,x)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(x){dt(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Zn(e,t),yr(t),r&4&&yw(t);break;case 21:break;default:Zn(e,t),yr(t)}}function yr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(uT(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Zl(s,""),r.flags&=-33);var i=gw(t);Jp(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=gw(t);Xp(t,l,o);break;default:throw Error(G(161))}}catch(c){dt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function a2(t,e,n){se=t,fT(t)}function fT(t,e,n){for(var r=(t.mode&1)!==0;se!==null;){var s=se,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Uu;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Qt;l=Uu;var d=Qt;if(Uu=o,(Qt=c)&&!d)for(se=s;se!==null;)o=se,c=o.child,o.tag===22&&o.memoizedState!==null?ww(s):c!==null?(c.return=o,se=c):ww(s);for(;i!==null;)se=i,fT(i),i=i.sibling;se=s,Uu=l,Qt=d}vw(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,se=i):vw(t)}}function vw(t){for(;se!==null;){var e=se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qt||zh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:tr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&nw(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}nw(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&rc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Qt||e.flags&512&&Yp(e)}catch(m){dt(e,e.return,m)}}if(e===t){se=null;break}if(n=e.sibling,n!==null){n.return=e.return,se=n;break}se=e.return}}function xw(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,se=n;break}se=e.return}}function ww(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{zh(4,e)}catch(c){dt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){dt(e,s,c)}}var i=e.return;try{Yp(e)}catch(c){dt(e,i,c)}break;case 5:var o=e.return;try{Yp(e)}catch(c){dt(e,o,c)}}}catch(c){dt(e,e.return,c)}if(e===t){se=null;break}var l=e.sibling;if(l!==null){l.return=e.return,se=l;break}se=e.return}}var l2=Math.ceil,Xd=hs.ReactCurrentDispatcher,Fy=hs.ReactCurrentOwner,Kn=hs.ReactCurrentBatchConfig,De=0,Pt=null,xt=null,Ot=0,Cn=0,$o=_i(0),St=0,mc=null,eo=0,qh=0,Uy=0,Ul=null,pn=null,$y=0,va=1/0,Wr=null,Jd=!1,Zp=null,Zs=null,$u=!1,qs=null,Zd=0,$l=0,eg=null,md=-1,pd=0;function an(){return De&6?gt():md!==-1?md:md=gt()}function ei(t){return t.mode&1?De&2&&Ot!==0?Ot&-Ot:Wk.transition!==null?(pd===0&&(pd=XE()),pd):(t=Ue,t!==0||(t=window.event,t=t===void 0?16:sb(t.type)),t):1}function lr(t,e,n,r){if(50<$l)throw $l=0,eg=null,Error(G(185));Oc(t,n,r),(!(De&2)||t!==Pt)&&(t===Pt&&(!(De&2)&&(qh|=n),St===4&&Ds(t,Ot)),_n(t,r),n===1&&De===0&&!(e.mode&1)&&(va=gt()+500,Uh&&Ei()))}function _n(t,e){var n=t.callbackNode;WP(t,e);var r=Od(t,t===Pt?Ot:0);if(r===0)n!==null&&Ax(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ax(n),e===1)t.tag===0?qk(_w.bind(null,t)):bb(_w.bind(null,t)),Uk(function(){!(De&6)&&Ei()}),n=null;else{switch(JE(r)){case 1:n=fy;break;case 4:n=QE;break;case 16:n=Ld;break;case 536870912:n=YE;break;default:n=Ld}n=_T(n,mT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function mT(t,e){if(md=-1,pd=0,De&6)throw Error(G(327));var n=t.callbackNode;if(Ko()&&t.callbackNode!==n)return null;var r=Od(t,t===Pt?Ot:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=eh(t,r);else{e=r;var s=De;De|=2;var i=gT();(Pt!==t||Ot!==e)&&(Wr=null,va=gt()+500,Wi(t,e));do try{d2();break}catch(l){pT(t,l)}while(!0);Ny(),Xd.current=i,De=s,xt!==null?e=0:(Pt=null,Ot=0,e=St)}if(e!==0){if(e===2&&(s=Ip(t),s!==0&&(r=s,e=tg(t,s))),e===1)throw n=mc,Wi(t,0),Ds(t,r),_n(t,gt()),n;if(e===6)Ds(t,r);else{if(s=t.current.alternate,!(r&30)&&!c2(s)&&(e=eh(t,r),e===2&&(i=Ip(t),i!==0&&(r=i,e=tg(t,i))),e===1))throw n=mc,Wi(t,0),Ds(t,r),_n(t,gt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(G(345));case 2:Di(t,pn,Wr);break;case 3:if(Ds(t,r),(r&130023424)===r&&(e=$y+500-gt(),10<e)){if(Od(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){an(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Lp(Di.bind(null,t,pn,Wr),e);break}Di(t,pn,Wr);break;case 4:if(Ds(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-ar(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=gt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*l2(r/1960))-r,10<r){t.timeoutHandle=Lp(Di.bind(null,t,pn,Wr),r);break}Di(t,pn,Wr);break;case 5:Di(t,pn,Wr);break;default:throw Error(G(329))}}}return _n(t,gt()),t.callbackNode===n?mT.bind(null,t):null}function tg(t,e){var n=Ul;return t.current.memoizedState.isDehydrated&&(Wi(t,e).flags|=256),t=eh(t,e),t!==2&&(e=pn,pn=n,e!==null&&ng(e)),t}function ng(t){pn===null?pn=t:pn.push.apply(pn,t)}function c2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!dr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ds(t,e){for(e&=~Uy,e&=~qh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ar(e),r=1<<n;t[n]=-1,e&=~r}}function _w(t){if(De&6)throw Error(G(327));Ko();var e=Od(t,0);if(!(e&1))return _n(t,gt()),null;var n=eh(t,e);if(t.tag!==0&&n===2){var r=Ip(t);r!==0&&(e=r,n=tg(t,r))}if(n===1)throw n=mc,Wi(t,0),Ds(t,e),_n(t,gt()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Di(t,pn,Wr),_n(t,gt()),null}function By(t,e){var n=De;De|=1;try{return t(e)}finally{De=n,De===0&&(va=gt()+500,Uh&&Ei())}}function to(t){qs!==null&&qs.tag===0&&!(De&6)&&Ko();var e=De;De|=1;var n=Kn.transition,r=Ue;try{if(Kn.transition=null,Ue=1,t)return t()}finally{Ue=r,Kn.transition=n,De=e,!(De&6)&&Ei()}}function zy(){Cn=$o.current,Je($o)}function Wi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Fk(n)),xt!==null)for(n=xt.return;n!==null;){var r=n;switch(by(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$d();break;case 3:ga(),Je(xn),Je(Jt),ky();break;case 5:Py(r);break;case 4:ga();break;case 13:Je(rt);break;case 19:Je(rt);break;case 10:Iy(r.type._context);break;case 22:case 23:zy()}n=n.return}if(Pt=t,xt=t=ti(t.current,null),Ot=Cn=e,St=0,mc=null,Uy=qh=eo=0,pn=Ul=null,Mi!==null){for(e=0;e<Mi.length;e++)if(n=Mi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Mi=null}return t}function pT(t,e){do{var n=xt;try{if(Ny(),dd.current=Yd,Qd){for(var r=st.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Qd=!1}if(Zi=0,At=Tt=st=null,Vl=!1,dc=0,Fy.current=null,n===null||n.return===null){St=1,mc=e,xt=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=Ot,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=lw(o);if(y!==null){y.flags&=-257,cw(y,o,l,i,e),y.mode&1&&aw(i,d,e),e=y,c=d;var w=e.updateQueue;if(w===null){var x=new Set;x.add(c),e.updateQueue=x}else w.add(c);break e}else{if(!(e&1)){aw(i,d,e),qy();break e}c=Error(G(426))}}else if(et&&l.mode&1){var T=lw(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),cw(T,o,l,i,e),Ty(ya(c,l));break e}}i=c=ya(c,l),St!==4&&(St=2),Ul===null?Ul=[i]:Ul.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=Jb(i,c,e);tw(i,_);break e;case 1:l=c;var v=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Zs===null||!Zs.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var R=Zb(i,l,e);tw(i,R);break e}}i=i.return}while(i!==null)}vT(n)}catch(D){e=D,xt===n&&n!==null&&(xt=n=n.return);continue}break}while(!0)}function gT(){var t=Xd.current;return Xd.current=Yd,t===null?Yd:t}function qy(){(St===0||St===3||St===2)&&(St=4),Pt===null||!(eo&268435455)&&!(qh&268435455)||Ds(Pt,Ot)}function eh(t,e){var n=De;De|=2;var r=gT();(Pt!==t||Ot!==e)&&(Wr=null,Wi(t,e));do try{u2();break}catch(s){pT(t,s)}while(!0);if(Ny(),De=n,Xd.current=r,xt!==null)throw Error(G(261));return Pt=null,Ot=0,St}function u2(){for(;xt!==null;)yT(xt)}function d2(){for(;xt!==null&&!OP();)yT(xt)}function yT(t){var e=wT(t.alternate,t,Cn);t.memoizedProps=t.pendingProps,e===null?vT(t):xt=e,Fy.current=null}function vT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=s2(n,e),n!==null){n.flags&=32767,xt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{St=6,xt=null;return}}else if(n=r2(n,e,Cn),n!==null){xt=n;return}if(e=e.sibling,e!==null){xt=e;return}xt=e=t}while(e!==null);St===0&&(St=5)}function Di(t,e,n){var r=Ue,s=Kn.transition;try{Kn.transition=null,Ue=1,h2(t,e,n,r)}finally{Kn.transition=s,Ue=r}return null}function h2(t,e,n,r){do Ko();while(qs!==null);if(De&6)throw Error(G(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(HP(t,i),t===Pt&&(xt=Pt=null,Ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$u||($u=!0,_T(Ld,function(){return Ko(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Kn.transition,Kn.transition=null;var o=Ue;Ue=1;var l=De;De|=4,Fy.current=null,o2(t,n),hT(n,t),kk(jp),Md=!!kp,jp=kp=null,t.current=n,a2(n),MP(),De=l,Ue=o,Kn.transition=i}else t.current=n;if($u&&($u=!1,qs=t,Zd=s),i=t.pendingLanes,i===0&&(Zs=null),UP(n.stateNode),_n(t,gt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Jd)throw Jd=!1,t=Zp,Zp=null,t;return Zd&1&&t.tag!==0&&Ko(),i=t.pendingLanes,i&1?t===eg?$l++:($l=0,eg=t):$l=0,Ei(),null}function Ko(){if(qs!==null){var t=JE(Zd),e=Kn.transition,n=Ue;try{if(Kn.transition=null,Ue=16>t?16:t,qs===null)var r=!1;else{if(t=qs,qs=null,Zd=0,De&6)throw Error(G(331));var s=De;for(De|=4,se=t.current;se!==null;){var i=se,o=i.child;if(se.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(se=d;se!==null;){var h=se;switch(h.tag){case 0:case 11:case 15:Fl(8,h,i)}var f=h.child;if(f!==null)f.return=h,se=f;else for(;se!==null;){h=se;var m=h.sibling,y=h.return;if(cT(h),h===d){se=null;break}if(m!==null){m.return=y,se=m;break}se=y}}}var w=i.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var T=x.sibling;x.sibling=null,x=T}while(x!==null)}}se=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,se=o;else e:for(;se!==null;){if(i=se,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Fl(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,se=_;break e}se=i.return}}var v=t.current;for(se=v;se!==null;){o=se;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,se=b;else e:for(o=v;se!==null;){if(l=se,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:zh(9,l)}}catch(D){dt(l,l.return,D)}if(l===o){se=null;break e}var R=l.sibling;if(R!==null){R.return=l.return,se=R;break e}se=l.return}}if(De=s,Ei(),Nr&&typeof Nr.onPostCommitFiberRoot=="function")try{Nr.onPostCommitFiberRoot(Lh,t)}catch{}r=!0}return r}finally{Ue=n,Kn.transition=e}}return!1}function Ew(t,e,n){e=ya(n,e),e=Jb(t,e,1),t=Js(t,e,1),e=an(),t!==null&&(Oc(t,1,e),_n(t,e))}function dt(t,e,n){if(t.tag===3)Ew(t,t,n);else for(;e!==null;){if(e.tag===3){Ew(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zs===null||!Zs.has(r))){t=ya(n,t),t=Zb(e,t,1),e=Js(e,t,1),t=an(),e!==null&&(Oc(e,1,t),_n(e,t));break}}e=e.return}}function f2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=an(),t.pingedLanes|=t.suspendedLanes&n,Pt===t&&(Ot&n)===n&&(St===4||St===3&&(Ot&130023424)===Ot&&500>gt()-$y?Wi(t,0):Uy|=n),_n(t,e)}function xT(t,e){e===0&&(t.mode&1?(e=Pu,Pu<<=1,!(Pu&130023424)&&(Pu=4194304)):e=1);var n=an();t=rs(t,e),t!==null&&(Oc(t,e,n),_n(t,n))}function m2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),xT(t,n)}function p2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(e),xT(t,n)}var wT;wT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||xn.current)vn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return vn=!1,n2(t,e,n);vn=!!(t.flags&131072)}else vn=!1,et&&e.flags&1048576&&Tb(e,qd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;fd(t,e),t=e.pendingProps;var s=fa(e,Jt.current);Ho(e,n),s=Dy(null,e,r,t,s,n);var i=Ly();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wn(r)?(i=!0,Bd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ay(e),s.updater=Bh,e.stateNode=s,s._reactInternals=e,Bp(e,r,t,n),e=Wp(null,e,r,!0,i,n)):(e.tag=0,et&&i&&Ey(e),rn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(fd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=y2(r),t=tr(r,t),s){case 0:e=qp(null,e,r,t,n);break e;case 1:e=hw(null,e,r,t,n);break e;case 11:e=uw(null,e,r,t,n);break e;case 14:e=dw(null,e,r,tr(r.type,t),n);break e}throw Error(G(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tr(r,s),qp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tr(r,s),hw(t,e,r,s,n);case 3:e:{if(rT(e),t===null)throw Error(G(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Rb(t,e),Kd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ya(Error(G(423)),e),e=fw(t,e,r,n,s);break e}else if(r!==s){s=ya(Error(G(424)),e),e=fw(t,e,r,n,s);break e}else for(Pn=Xs(e.stateNode.containerInfo.firstChild),jn=e,et=!0,ir=null,n=Cb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ma(),r===s){e=ss(t,e,n);break e}rn(t,e,r,n)}e=e.child}return e;case 5:return Pb(e),t===null&&Fp(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Dp(r,s)?o=null:i!==null&&Dp(r,i)&&(e.flags|=32),nT(t,e),rn(t,e,o,n),e.child;case 6:return t===null&&Fp(e),null;case 13:return sT(t,e,n);case 4:return Ry(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=pa(e,null,r,n):rn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tr(r,s),uw(t,e,r,s,n);case 7:return rn(t,e,e.pendingProps,n),e.child;case 8:return rn(t,e,e.pendingProps.children,n),e.child;case 12:return rn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,We(Wd,r._currentValue),r._currentValue=o,i!==null)if(dr(i.value,o)){if(i.children===s.children&&!xn.current){e=ss(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Jr(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Up(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(G(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Up(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}rn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ho(e,n),s=Gn(s),r=r(s),e.flags|=1,rn(t,e,r,n),e.child;case 14:return r=e.type,s=tr(r,e.pendingProps),s=tr(r.type,s),dw(t,e,r,s,n);case 15:return eT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tr(r,s),fd(t,e),e.tag=1,wn(r)?(t=!0,Bd(e)):t=!1,Ho(e,n),Xb(e,r,s),Bp(e,r,s,n),Wp(null,e,r,!0,t,n);case 19:return iT(t,e,n);case 22:return tT(t,e,n)}throw Error(G(156,e.tag))};function _T(t,e){return GE(t,e)}function g2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(t,e,n,r){return new g2(t,e,n,r)}function Wy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function y2(t){if(typeof t=="function")return Wy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===uy)return 11;if(t===dy)return 14}return 2}function ti(t,e){var n=t.alternate;return n===null?(n=Wn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function gd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Wy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Po:return Hi(n.children,s,i,e);case cy:o=8,s|=8;break;case hp:return t=Wn(12,n,e,s|2),t.elementType=hp,t.lanes=i,t;case fp:return t=Wn(13,n,e,s),t.elementType=fp,t.lanes=i,t;case mp:return t=Wn(19,n,e,s),t.elementType=mp,t.lanes=i,t;case PE:return Wh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case AE:o=10;break e;case RE:o=9;break e;case uy:o=11;break e;case dy:o=14;break e;case Ps:o=16,r=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=Wn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Hi(t,e,n,r){return t=Wn(7,t,r,e),t.lanes=n,t}function Wh(t,e,n,r){return t=Wn(22,t,r,e),t.elementType=PE,t.lanes=n,t.stateNode={isHidden:!1},t}function Rm(t,e,n){return t=Wn(6,t,null,e),t.lanes=n,t}function Pm(t,e,n){return e=Wn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function v2(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dm(0),this.expirationTimes=dm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Hy(t,e,n,r,s,i,o,l,c){return t=new v2(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Wn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ay(i),t}function x2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ro,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ET(t){if(!t)return ci;t=t._reactInternals;e:{if(fo(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(wn(n))return Eb(t,n,e)}return e}function bT(t,e,n,r,s,i,o,l,c){return t=Hy(n,r,!0,t,s,i,o,l,c),t.context=ET(null),n=t.current,r=an(),s=ei(n),i=Jr(r,s),i.callback=e??null,Js(n,i,s),t.current.lanes=s,Oc(t,s,r),_n(t,r),t}function Hh(t,e,n,r){var s=e.current,i=an(),o=ei(s);return n=ET(n),e.context===null?e.context=n:e.pendingContext=n,e=Jr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Js(s,e,o),t!==null&&(lr(t,s,o,i),ud(t,s,o)),o}function th(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ky(t,e){bw(t,e),(t=t.alternate)&&bw(t,e)}function w2(){return null}var TT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Gy(t){this._internalRoot=t}Kh.prototype.render=Gy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));Hh(t,e,null,null)};Kh.prototype.unmount=Gy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;to(function(){Hh(null,t,null,null)}),e[ns]=null}};function Kh(t){this._internalRoot=t}Kh.prototype.unstable_scheduleHydration=function(t){if(t){var e=tb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<js.length&&e!==0&&e<js[n].priority;n++);js.splice(n,0,t),n===0&&rb(t)}};function Qy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Gh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Tw(){}function _2(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=th(o);i.call(d)}}var o=bT(e,r,t,0,null,!1,!1,"",Tw);return t._reactRootContainer=o,t[ns]=o.current,oc(t.nodeType===8?t.parentNode:t),to(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var d=th(c);l.call(d)}}var c=Hy(t,0,!1,null,null,!1,!1,"",Tw);return t._reactRootContainer=c,t[ns]=c.current,oc(t.nodeType===8?t.parentNode:t),to(function(){Hh(e,c,n,r)}),c}function Qh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=th(o);l.call(c)}}Hh(e,o,t,s)}else o=_2(n,e,t,s,r);return th(o)}ZE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=El(e.pendingLanes);n!==0&&(my(e,n|1),_n(e,gt()),!(De&6)&&(va=gt()+500,Ei()))}break;case 13:to(function(){var r=rs(t,1);if(r!==null){var s=an();lr(r,t,1,s)}}),Ky(t,1)}};py=function(t){if(t.tag===13){var e=rs(t,134217728);if(e!==null){var n=an();lr(e,t,134217728,n)}Ky(t,134217728)}};eb=function(t){if(t.tag===13){var e=ei(t),n=rs(t,e);if(n!==null){var r=an();lr(n,t,e,r)}Ky(t,e)}};tb=function(){return Ue};nb=function(t,e){var n=Ue;try{return Ue=t,e()}finally{Ue=n}};Tp=function(t,e,n){switch(e){case"input":if(yp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Fh(r);if(!s)throw Error(G(90));jE(r),yp(r,s)}}}break;case"textarea":LE(t,n);break;case"select":e=n.value,e!=null&&Bo(t,!!n.multiple,e,!1)}};BE=By;zE=to;var E2={usingClientEntryPoint:!1,Events:[Vc,Lo,Fh,UE,$E,By]},yl={findFiberByHostInstance:Oi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},b2={bundleType:yl.bundleType,version:yl.version,rendererPackageName:yl.rendererPackageName,rendererConfig:yl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=HE(t),t===null?null:t.stateNode},findFiberByHostInstance:yl.findFiberByHostInstance||w2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bu.isDisabled&&Bu.supportsFiber)try{Lh=Bu.inject(b2),Nr=Bu}catch{}}Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E2;Vn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qy(e))throw Error(G(200));return x2(t,e,null,n)};Vn.createRoot=function(t,e){if(!Qy(t))throw Error(G(299));var n=!1,r="",s=TT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Hy(t,1,!1,null,null,n,!1,r,s),t[ns]=e.current,oc(t.nodeType===8?t.parentNode:t),new Gy(e)};Vn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=HE(e),t=t===null?null:t.stateNode,t};Vn.flushSync=function(t){return to(t)};Vn.hydrate=function(t,e,n){if(!Gh(e))throw Error(G(200));return Qh(null,t,e,!0,n)};Vn.hydrateRoot=function(t,e,n){if(!Qy(t))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=TT;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=bT(e,null,t,1,n??null,s,!1,i,o),t[ns]=e.current,oc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Kh(e)};Vn.render=function(t,e,n){if(!Gh(e))throw Error(G(200));return Qh(null,t,e,!1,n)};Vn.unmountComponentAtNode=function(t){if(!Gh(t))throw Error(G(40));return t._reactRootContainer?(to(function(){Qh(null,null,t,!1,function(){t._reactRootContainer=null,t[ns]=null})}),!0):!1};Vn.unstable_batchedUpdates=By;Vn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Gh(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return Qh(t,e,n,!1,r)};Vn.version="18.3.1-next-f1338f8080-20240426";function ST(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ST)}catch(t){console.error(t)}}ST(),SE.exports=Vn;var mo=SE.exports;const NT=hE(mo);var IT,Sw=mo;IT=Sw.createRoot,Sw.hydrateRoot;const T2=1,S2=1e6;let km=0;function N2(){return km=(km+1)%Number.MAX_SAFE_INTEGER,km.toString()}const jm=new Map,Nw=t=>{if(jm.has(t))return;const e=setTimeout(()=>{jm.delete(t),Bl({type:"REMOVE_TOAST",toastId:t})},S2);jm.set(t,e)},I2=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,T2)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Nw(n):t.toasts.forEach(r=>{Nw(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},yd=[];let vd={toasts:[]};function Bl(t){vd=I2(vd,t),yd.forEach(e=>{e(vd)})}function C2({...t}){const e=N2(),n=s=>Bl({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Bl({type:"DISMISS_TOAST",toastId:e});return Bl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Yy(){const[t,e]=g.useState(vd);return g.useEffect(()=>(yd.push(e),()=>{const n=yd.indexOf(e);n>-1&&yd.splice(n,1)}),[t]),{...t,toast:C2,dismiss:n=>Bl({type:"DISMISS_TOAST",toastId:n})}}function fe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function A2(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function CT(...t){return e=>t.forEach(n=>A2(n,e))}function Ze(...t){return g.useCallback(CT(...t),t)}function R2(t,e=[]){let n=[];function r(i,o){const l=g.createContext(o),c=n.length;n=[...n,o];function d(f){const{scope:m,children:y,...w}=f,x=(m==null?void 0:m[t][c])||l,T=g.useMemo(()=>w,Object.values(w));return a.jsx(x.Provider,{value:T,children:y})}function h(f,m){const y=(m==null?void 0:m[t][c])||l,w=g.useContext(y);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,h]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,P2(s,...e)]}function P2(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var xa=g.forwardRef((t,e)=>{const{children:n,...r}=t,s=g.Children.toArray(n),i=s.find(k2);if(i){const o=i.props.children,l=s.map(c=>c===i?g.Children.count(o)>1?g.Children.only(null):g.isValidElement(o)?o.props.children:null:c);return a.jsx(rg,{...r,ref:e,children:g.isValidElement(o)?g.cloneElement(o,void 0,l):null})}return a.jsx(rg,{...r,ref:e,children:n})});xa.displayName="Slot";var rg=g.forwardRef((t,e)=>{const{children:n,...r}=t;if(g.isValidElement(n)){const s=D2(n);return g.cloneElement(n,{...j2(r,n.props),ref:e?CT(e,s):s})}return g.Children.count(n)>1?g.Children.only(null):null});rg.displayName="SlotClone";var AT=({children:t})=>a.jsx(a.Fragment,{children:t});function k2(t){return g.isValidElement(t)&&t.type===AT}function j2(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{i(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function D2(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Xy(t){const e=t+"CollectionProvider",[n,r]=R2(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:w,children:x}=y,T=J.useRef(null),_=J.useRef(new Map).current;return a.jsx(s,{scope:w,itemMap:_,collectionRef:T,children:x})};o.displayName=e;const l=t+"CollectionSlot",c=J.forwardRef((y,w)=>{const{scope:x,children:T}=y,_=i(l,x),v=Ze(w,_.collectionRef);return a.jsx(xa,{ref:v,children:T})});c.displayName=l;const d=t+"CollectionItemSlot",h="data-radix-collection-item",f=J.forwardRef((y,w)=>{const{scope:x,children:T,..._}=y,v=J.useRef(null),b=Ze(w,v),R=i(d,x);return J.useEffect(()=>(R.itemMap.set(v,{ref:v,..._}),()=>void R.itemMap.delete(v))),a.jsx(xa,{[h]:"",ref:b,children:T})});f.displayName=d;function m(y){const w=i(t+"CollectionConsumer",y);return J.useCallback(()=>{const T=w.collectionRef.current;if(!T)return[];const _=Array.from(T.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((R,D)=>_.indexOf(R.ref.current)-_.indexOf(D.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},m,r]}function Da(t,e=[]){let n=[];function r(i,o){const l=g.createContext(o),c=n.length;n=[...n,o];const d=f=>{var _;const{scope:m,children:y,...w}=f,x=((_=m==null?void 0:m[t])==null?void 0:_[c])||l,T=g.useMemo(()=>w,Object.values(w));return a.jsx(x.Provider,{value:T,children:y})};d.displayName=i+"Provider";function h(f,m){var x;const y=((x=m==null?void 0:m[t])==null?void 0:x[c])||l,w=g.useContext(y);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,L2(s,...e)]}function L2(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var O2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Te=O2.reduce((t,e)=>{const n=g.forwardRef((r,s)=>{const{asChild:i,...o}=r,l=i?xa:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function RT(t,e){t&&mo.flushSync(()=>t.dispatchEvent(e))}function En(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function M2(t,e=globalThis==null?void 0:globalThis.document){const n=En(t);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var V2="DismissableLayer",sg="dismissableLayer.update",F2="dismissableLayer.pointerDownOutside",U2="dismissableLayer.focusOutside",Iw,PT=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Yh=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=t,d=g.useContext(PT),[h,f]=g.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=g.useState({}),w=Ze(e,S=>f(S)),x=Array.from(d.layers),[T]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),_=x.indexOf(T),v=h?x.indexOf(h):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,R=v>=_,D=B2(S=>{const N=S.target,I=[...d.branches].some(C=>C.contains(N));!R||I||(s==null||s(S),o==null||o(S),S.defaultPrevented||l==null||l())},m),O=z2(S=>{const N=S.target;[...d.branches].some(C=>C.contains(N))||(i==null||i(S),o==null||o(S),S.defaultPrevented||l==null||l())},m);return M2(S=>{v===d.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},m),g.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Iw=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),Cw(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Iw)}},[h,m,n,d]),g.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),Cw())},[h,d]),g.useEffect(()=>{const S=()=>y({});return document.addEventListener(sg,S),()=>document.removeEventListener(sg,S)},[]),a.jsx(Te.div,{...c,ref:w,style:{pointerEvents:b?R?"auto":"none":void 0,...t.style},onFocusCapture:fe(t.onFocusCapture,O.onFocusCapture),onBlurCapture:fe(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:fe(t.onPointerDownCapture,D.onPointerDownCapture)})});Yh.displayName=V2;var $2="DismissableLayerBranch",kT=g.forwardRef((t,e)=>{const n=g.useContext(PT),r=g.useRef(null),s=Ze(e,r);return g.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),a.jsx(Te.div,{...t,ref:s})});kT.displayName=$2;function B2(t,e=globalThis==null?void 0:globalThis.document){const n=En(t),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){jT(F2,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function z2(t,e=globalThis==null?void 0:globalThis.document){const n=En(t),r=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!r.current&&jT(U2,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Cw(){const t=new CustomEvent(sg);document.dispatchEvent(t)}function jT(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?RT(s,i):s.dispatchEvent(i)}var q2=Yh,W2=kT,Zt=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},H2="Portal",Jy=g.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,i]=g.useState(!1);Zt(()=>i(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?NT.createPortal(a.jsx(Te.div,{...r,ref:e}),o):null});Jy.displayName=H2;function K2(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var Uc=t=>{const{present:e,children:n}=t,r=G2(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=Ze(r.ref,Q2(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:i}):null};Uc.displayName="Presence";function G2(t){const[e,n]=g.useState(),r=g.useRef({}),s=g.useRef(t),i=g.useRef("none"),o=t?"mounted":"unmounted",[l,c]=K2(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const d=zu(r.current);i.current=l==="mounted"?d:"none"},[l]),Zt(()=>{const d=r.current,h=s.current;if(h!==t){const m=i.current,y=zu(d);t?c("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&m!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Zt(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,f=y=>{const x=zu(r.current).includes(y.animationName);if(y.target===e&&x&&(c("ANIMATION_END"),!s.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},m=y=>{y.target===e&&(i.current=zu(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function zu(t){return(t==null?void 0:t.animationName)||"none"}function Q2(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function wa({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=Y2({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,l=En(n),c=g.useCallback(d=>{if(i){const f=typeof d=="function"?d(t):d;f!==t&&l(f)}else s(d)},[i,t,s,l]);return[o,c]}function Y2({defaultProp:t,onChange:e}){const n=g.useState(t),[r]=n,s=g.useRef(r),i=En(e);return g.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var X2="VisuallyHidden",$c=g.forwardRef((t,e)=>a.jsx(Te.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));$c.displayName=X2;var J2=$c,Zy="ToastProvider",[ev,Z2,ej]=Xy("Toast"),[DT,W8]=Da("Toast",[ej]),[tj,Xh]=DT(Zy),LT=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[l,c]=g.useState(null),[d,h]=g.useState(0),f=g.useRef(!1),m=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Zy}\`. Expected non-empty \`string\`.`),a.jsx(ev.Provider,{scope:e,children:a.jsx(tj,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:g.useCallback(()=>h(y=>y+1),[]),onToastRemove:g.useCallback(()=>h(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};LT.displayName=Zy;var OT="ToastViewport",nj=["F8"],ig="toast.viewportPause",og="toast.viewportResume",MT=g.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=nj,label:s="Notifications ({hotkey})",...i}=t,o=Xh(OT,n),l=Z2(n),c=g.useRef(null),d=g.useRef(null),h=g.useRef(null),f=g.useRef(null),m=Ze(e,f,o.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;g.useEffect(()=>{const T=_=>{var b;r.length!==0&&r.every(R=>_[R]||_.code===R)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[r]),g.useEffect(()=>{const T=c.current,_=f.current;if(w&&T&&_){const v=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(ig);_.dispatchEvent(O),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(og);_.dispatchEvent(O),o.isClosePausedRef.current=!1}},R=O=>{!T.contains(O.relatedTarget)&&b()},D=()=>{T.contains(document.activeElement)||b()};return T.addEventListener("focusin",v),T.addEventListener("focusout",R),T.addEventListener("pointermove",v),T.addEventListener("pointerleave",D),window.addEventListener("blur",v),window.addEventListener("focus",b),()=>{T.removeEventListener("focusin",v),T.removeEventListener("focusout",R),T.removeEventListener("pointermove",v),T.removeEventListener("pointerleave",D),window.removeEventListener("blur",v),window.removeEventListener("focus",b)}}},[w,o.isClosePausedRef]);const x=g.useCallback(({tabbingDirection:T})=>{const v=l().map(b=>{const R=b.ref.current,D=[R,...pj(R)];return T==="forwards"?D:D.reverse()});return(T==="forwards"?v.reverse():v).flat()},[l]);return g.useEffect(()=>{const T=f.current;if(T){const _=v=>{var D,O,S;const b=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!b){const N=document.activeElement,I=v.shiftKey;if(v.target===T&&I){(D=d.current)==null||D.focus();return}const A=x({tabbingDirection:I?"backwards":"forwards"}),k=A.findIndex(q=>q===N);Dm(A.slice(k+1))?v.preventDefault():I?(O=d.current)==null||O.focus():(S=h.current)==null||S.focus()}};return T.addEventListener("keydown",_),()=>T.removeEventListener("keydown",_)}},[l,x]),a.jsxs(W2,{ref:c,role:"region","aria-label":s.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&a.jsx(ag,{ref:d,onFocusFromOutsideViewport:()=>{const T=x({tabbingDirection:"forwards"});Dm(T)}}),a.jsx(ev.Slot,{scope:n,children:a.jsx(Te.ol,{tabIndex:-1,...i,ref:m})}),w&&a.jsx(ag,{ref:h,onFocusFromOutsideViewport:()=>{const T=x({tabbingDirection:"backwards"});Dm(T)}})]})});MT.displayName=OT;var VT="ToastFocusProxy",ag=g.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Xh(VT,n);return a.jsx($c,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&r()}})});ag.displayName=VT;var Jh="Toast",rj="toast.swipeStart",sj="toast.swipeMove",ij="toast.swipeCancel",oj="toast.swipeEnd",FT=g.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[l=!0,c]=wa({prop:r,defaultProp:s,onChange:i});return a.jsx(Uc,{present:n||l,children:a.jsx(cj,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:En(t.onPause),onResume:En(t.onResume),onSwipeStart:fe(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:fe(t.onSwipeMove,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:fe(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:fe(t.onSwipeEnd,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});FT.displayName=Jh;var[aj,lj]=DT(Jh,{onClose(){}}),cj=g.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:y,...w}=t,x=Xh(Jh,n),[T,_]=g.useState(null),v=Ze(e,q=>_(q)),b=g.useRef(null),R=g.useRef(null),D=s||x.duration,O=g.useRef(0),S=g.useRef(D),N=g.useRef(0),{onToastAdd:I,onToastRemove:C}=x,j=En(()=>{var U;(T==null?void 0:T.contains(document.activeElement))&&((U=x.viewport)==null||U.focus()),o()}),A=g.useCallback(q=>{!q||q===1/0||(window.clearTimeout(N.current),O.current=new Date().getTime(),N.current=window.setTimeout(j,q))},[j]);g.useEffect(()=>{const q=x.viewport;if(q){const U=()=>{A(S.current),d==null||d()},$=()=>{const Z=new Date().getTime()-O.current;S.current=S.current-Z,window.clearTimeout(N.current),c==null||c()};return q.addEventListener(ig,$),q.addEventListener(og,U),()=>{q.removeEventListener(ig,$),q.removeEventListener(og,U)}}},[x.viewport,D,c,d,A]),g.useEffect(()=>{i&&!x.isClosePausedRef.current&&A(D)},[i,D,x.isClosePausedRef,A]),g.useEffect(()=>(I(),()=>C()),[I,C]);const k=g.useMemo(()=>T?HT(T):null,[T]);return x.viewport?a.jsxs(a.Fragment,{children:[k&&a.jsx(uj,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),a.jsx(aj,{scope:n,onClose:j,children:mo.createPortal(a.jsx(ev.ItemSlot,{scope:n,children:a.jsx(q2,{asChild:!0,onEscapeKeyDown:fe(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||j(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(Te.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...w,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:fe(t.onKeyDown,q=>{q.key==="Escape"&&(l==null||l(q.nativeEvent),q.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,j()))}),onPointerDown:fe(t.onPointerDown,q=>{q.button===0&&(b.current={x:q.clientX,y:q.clientY})}),onPointerMove:fe(t.onPointerMove,q=>{if(!b.current)return;const U=q.clientX-b.current.x,$=q.clientY-b.current.y,Z=!!R.current,L=["left","right"].includes(x.swipeDirection),B=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,Y=L?B(0,U):0,Q=L?0:B(0,$),ne=q.pointerType==="touch"?10:2,oe={x:Y,y:Q},V={originalEvent:q,delta:oe};Z?(R.current=oe,qu(sj,f,V,{discrete:!1})):Aw(oe,x.swipeDirection,ne)?(R.current=oe,qu(rj,h,V,{discrete:!1}),q.target.setPointerCapture(q.pointerId)):(Math.abs(U)>ne||Math.abs($)>ne)&&(b.current=null)}),onPointerUp:fe(t.onPointerUp,q=>{const U=R.current,$=q.target;if($.hasPointerCapture(q.pointerId)&&$.releasePointerCapture(q.pointerId),R.current=null,b.current=null,U){const Z=q.currentTarget,L={originalEvent:q,delta:U};Aw(U,x.swipeDirection,x.swipeThreshold)?qu(oj,y,L,{discrete:!0}):qu(ij,m,L,{discrete:!0}),Z.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),uj=t=>{const{__scopeToast:e,children:n,...r}=t,s=Xh(Jh,e),[i,o]=g.useState(!1),[l,c]=g.useState(!1);return fj(()=>o(!0)),g.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:a.jsx(Jy,{asChild:!0,children:a.jsx($c,{...r,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",n]})})})},dj="ToastTitle",UT=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(Te.div,{...r,ref:e})});UT.displayName=dj;var hj="ToastDescription",$T=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(Te.div,{...r,ref:e})});$T.displayName=hj;var BT="ToastAction",zT=g.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?a.jsx(WT,{altText:n,asChild:!0,children:a.jsx(tv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${BT}\`. Expected non-empty \`string\`.`),null)});zT.displayName=BT;var qT="ToastClose",tv=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=lj(qT,n);return a.jsx(WT,{asChild:!0,children:a.jsx(Te.button,{type:"button",...r,ref:e,onClick:fe(t.onClick,s.onClose)})})});tv.displayName=qT;var WT=g.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return a.jsx(Te.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function HT(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),mj(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...HT(r))}}),e}function qu(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?RT(s,i):s.dispatchEvent(i)}var Aw=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function fj(t=()=>{}){const e=En(t);Zt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function mj(t){return t.nodeType===t.ELEMENT_NODE}function pj(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Dm(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var gj=LT,KT=MT,GT=FT,QT=UT,YT=$T,XT=zT,JT=tv;function ZT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=ZT(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function eS(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=ZT(t))&&(r&&(r+=" "),r+=e);return r}const Rw=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Pw=eS,Zh=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Pw(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const h=n==null?void 0:n[d],f=i==null?void 0:i[d];if(h===null)return null;const m=Rw(h)||Rw(f);return s[d][m]}),l=n&&Object.entries(n).reduce((d,h)=>{let[f,m]=h;return m===void 0||(d[f]=m),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:f,className:m,...y}=h;return Object.entries(y).every(w=>{let[x,T]=w;return Array.isArray(T)?T.includes({...i,...l}[x]):{...i,...l}[x]===T})?[...d,f,m]:d},[]);return Pw(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},c)=>g.createElement("svg",{ref:c,...vj,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:tS("lucide",s),...l},[...o.map(([d,h])=>g.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(t,e)=>{const n=g.forwardRef(({className:r,...s},i)=>g.createElement(xj,{ref:i,iconNode:e,className:tS(`lucide-${yj(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=we("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=we("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=we("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=we("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=we("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=we("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=we("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=we("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=we("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=we("Church",[["path",{d:"M10 9h4",key:"u4k05v"}],["path",{d:"M12 7v5",key:"ma6bk"}],["path",{d:"M14 22v-4a2 2 0 0 0-4 0v4",key:"1pdhuj"}],["path",{d:"M18 22V5.618a1 1 0 0 0-.553-.894l-4.553-2.277a2 2 0 0 0-1.788 0L6.553 4.724A1 1 0 0 0 6 5.618V22",key:"1rkokr"}],["path",{d:"m18 7 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9.618a1 1 0 0 1 .553-.894L6 7",key:"1w6esw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=we("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=we("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=we("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=we("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=we("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=we("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=we("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=we("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=we("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=we("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=we("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=we("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=we("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=we("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=we("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=we("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=we("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=we("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=we("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=we("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=we("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=we("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=we("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=we("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=we("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=we("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=we("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=we("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=we("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=we("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=we("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=we("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=we("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),sv="-",Pj=t=>{const e=jj(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(sv);return l[0]===""&&l.length!==1&&l.shift(),oS(l,e)||kj(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},oS=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?oS(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(sv);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},Ow=/^\[(.+)\]$/,kj=t=>{if(Ow.test(t)){const e=Ow.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},jj=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Lj(Object.entries(t.classGroups),n).forEach(([i,o])=>{ug(o,r,i,e)}),r},ug=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Mw(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(Dj(s)){ug(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{ug(o,Mw(e,i),n,r)})})},Mw=(t,e)=>{let n=t;return e.split(sv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Dj=t=>t.isThemeGetter,Lj=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[n,s]}):t,Oj=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},aS="!",Mj=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=l=>{const c=[];let d=0,h=0,f;for(let T=0;T<l.length;T++){let _=l[T];if(d===0){if(_===s&&(r||l.slice(T,T+i)===e)){c.push(l.slice(h,T)),h=T+i;continue}if(_==="/"){f=T;continue}}_==="["?d++:_==="]"&&d--}const m=c.length===0?l:l.substring(h),y=m.startsWith(aS),w=y?m.substring(1):m,x=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:x}};return n?l=>n({className:l,parseClassName:o}):o},Vj=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Fj=t=>({cache:Oj(t.cacheSize),parseClassName:Mj(t),...Pj(t)}),Uj=/\s+/,$j=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(Uj);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:h,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:y}=n(d);let w=!!y,x=r(w?m.substring(0,y):m);if(!x){if(!w){l=d+(l.length>0?" "+l:l);continue}if(x=r(m),!x){l=d+(l.length>0?" "+l:l);continue}w=!1}const T=Vj(h).join(":"),_=f?T+aS:T,v=_+x;if(i.includes(v))continue;i.push(v);const b=s(x,w);for(let R=0;R<b.length;++R){const D=b[R];i.push(_+D)}l=d+(l.length>0?" "+l:l)}return l};function Bj(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=lS(e))&&(r&&(r+=" "),r+=n);return r}const lS=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=lS(t[r]))&&(n&&(n+=" "),n+=e);return n};function zj(t,...e){let n,r,s,i=o;function o(c){const d=e.reduce((h,f)=>f(h),t());return n=Fj(d),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const d=r(c);if(d)return d;const h=$j(c,n);return s(c,h),h}return function(){return i(Bj.apply(null,arguments))}}const Qe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},cS=/^\[(?:([a-z-]+):)?(.+)\]$/i,qj=/^\d+\/\d+$/,Wj=new Set(["px","full","screen"]),Hj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Kj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Gj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Qj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Yj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,zr=t=>Yo(t)||Wj.has(t)||qj.test(t),Ss=t=>La(t,"length",s4),Yo=t=>!!t&&!Number.isNaN(Number(t)),Mm=t=>La(t,"number",Yo),vl=t=>!!t&&Number.isInteger(Number(t)),Xj=t=>t.endsWith("%")&&Yo(t.slice(0,-1)),_e=t=>cS.test(t),Ns=t=>Hj.test(t),Jj=new Set(["length","size","percentage"]),Zj=t=>La(t,Jj,uS),e4=t=>La(t,"position",uS),t4=new Set(["image","url"]),n4=t=>La(t,t4,o4),r4=t=>La(t,"",i4),xl=()=>!0,La=(t,e,n)=>{const r=cS.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},s4=t=>Kj.test(t)&&!Gj.test(t),uS=()=>!1,i4=t=>Qj.test(t),o4=t=>Yj.test(t),a4=()=>{const t=Qe("colors"),e=Qe("spacing"),n=Qe("blur"),r=Qe("brightness"),s=Qe("borderColor"),i=Qe("borderRadius"),o=Qe("borderSpacing"),l=Qe("borderWidth"),c=Qe("contrast"),d=Qe("grayscale"),h=Qe("hueRotate"),f=Qe("invert"),m=Qe("gap"),y=Qe("gradientColorStops"),w=Qe("gradientColorStopPositions"),x=Qe("inset"),T=Qe("margin"),_=Qe("opacity"),v=Qe("padding"),b=Qe("saturate"),R=Qe("scale"),D=Qe("sepia"),O=Qe("skew"),S=Qe("space"),N=Qe("translate"),I=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",_e,e],A=()=>[_e,e],k=()=>["",zr,Ss],q=()=>["auto",Yo,_e],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",_e],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[Yo,_e];return{cacheSize:500,separator:":",theme:{colors:[xl],spacing:[zr,Ss],blur:["none","",Ns,_e],brightness:Q(),borderColor:[t],borderRadius:["none","","full",Ns,_e],borderSpacing:A(),borderWidth:k(),contrast:Q(),grayscale:B(),hueRotate:Q(),invert:B(),gap:A(),gradientColorStops:[t],gradientColorStopPositions:[Xj,Ss],inset:j(),margin:j(),opacity:Q(),padding:A(),saturate:Q(),scale:Q(),sepia:B(),skew:Q(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",_e]}],container:["container"],columns:[{columns:[Ns]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),_e]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",vl,_e]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",_e]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",vl,_e]}],"grid-cols":[{"grid-cols":[xl]}],"col-start-end":[{col:["auto",{span:["full",vl,_e]},_e]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[xl]}],"row-start-end":[{row:["auto",{span:[vl,_e]},_e]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",_e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",_e]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",_e,e]}],"min-w":[{"min-w":[_e,e,"min","max","fit"]}],"max-w":[{"max-w":[_e,e,"none","full","min","max","fit","prose",{screen:[Ns]},Ns]}],h:[{h:[_e,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[_e,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[_e,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[_e,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ns,Ss]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Mm]}],"font-family":[{font:[xl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",_e]}],"line-clamp":[{"line-clamp":["none",Yo,Mm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",zr,_e]}],"list-image":[{"list-image":["none",_e]}],"list-style-type":[{list:["none","disc","decimal",_e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",zr,Ss]}],"underline-offset":[{"underline-offset":["auto",zr,_e]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),e4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Zj]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},n4]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:$()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[zr,_e]}],"outline-w":[{outline:[zr,Ss]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[zr,Ss]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ns,r4]}],"shadow-color":[{shadow:[xl]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...Z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ns,_e]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",_e]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",_e]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",_e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[vl,_e]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",_e]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[zr,Ss,Mm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},l4=zj(a4);function Le(...t){return l4(eS(t))}const c4=gj,dS=g.forwardRef(({className:t,...e},n)=>a.jsx(KT,{ref:n,className:Le("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));dS.displayName=KT.displayName;const u4=Zh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),hS=g.forwardRef(({className:t,variant:e,...n},r)=>a.jsx(GT,{ref:r,className:Le(u4({variant:e}),t),...n}));hS.displayName=GT.displayName;const d4=g.forwardRef(({className:t,...e},n)=>a.jsx(XT,{ref:n,className:Le("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));d4.displayName=XT.displayName;const fS=g.forwardRef(({className:t,...e},n)=>a.jsx(JT,{ref:n,className:Le("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(rv,{className:"h-4 w-4"})}));fS.displayName=JT.displayName;const mS=g.forwardRef(({className:t,...e},n)=>a.jsx(QT,{ref:n,className:Le("text-sm font-semibold",t),...e}));mS.displayName=QT.displayName;const pS=g.forwardRef(({className:t,...e},n)=>a.jsx(YT,{ref:n,className:Le("text-sm opacity-90",t),...e}));pS.displayName=YT.displayName;function h4(){const{toasts:t}=Yy();return a.jsxs(c4,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return a.jsxs(hS,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(mS,{children:n}),r&&a.jsx(pS,{children:r})]}),s,a.jsx(fS,{})]},e)}),a.jsx(dS,{})]})}var Vw=["light","dark"],f4="(prefers-color-scheme: dark)",m4=g.createContext(void 0),p4={setTheme:t=>{},themes:[]},g4=()=>{var t;return(t=g.useContext(m4))!=null?t:p4};g.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let d=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?Vw.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(w,x=!1,T=!0)=>{let _=o?o[w]:w,v=x?w+"|| ''":`'${_}'`,b="";return s&&T&&!x&&Vw.includes(w)&&(b+=`d.style.colorScheme = '${w}';`),n==="class"?x||_?b+=`c.add(${v})`:b+="null":_&&(b+=`d[s](n,${v})`),b},y=t?`!function(){${h}${m(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${d})){var t='${f4}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${d?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return g.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:y}})});var y4=t=>{switch(t){case"success":return w4;case"info":return E4;case"warning":return _4;case"error":return b4;default:return null}},v4=Array(12).fill(0),x4=({visible:t})=>J.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},J.createElement("div",{className:"sonner-spinner"},v4.map((e,n)=>J.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),w4=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),_4=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),E4=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),b4=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),T4=()=>{let[t,e]=J.useState(document.hidden);return J.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},dg=1,S4=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:dg++,o=this.toasts.find(c=>c.id===i),l=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:r}),{...c,...e,id:i,dismissible:l,title:r}):c):this.addToast({title:r,...s,dismissible:l,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0;return s.then(async o=>{if(I4(o)&&!o.ok){i=!1;let l=typeof n.error=="function"?await n.error(`HTTP error! status: ${o.status}`):n.error,c=typeof n.description=="function"?await n.description(`HTTP error! status: ${o.status}`):n.description;this.create({id:r,type:"error",message:l,description:c})}else if(n.success!==void 0){i=!1;let l=typeof n.success=="function"?await n.success(o):n.success,c=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"success",message:l,description:c})}}).catch(async o=>{if(n.error!==void 0){i=!1;let l=typeof n.error=="function"?await n.error(o):n.error,c=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"error",message:l,description:c})}}).finally(()=>{var o;i&&(this.dismiss(r),r=void 0),(o=n.finally)==null||o.call(n)}),r},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||dg++;return this.create({jsx:e(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},In=new S4,N4=(t,e)=>{let n=(e==null?void 0:e.id)||dg++;return In.addToast({title:t,...e,id:n}),n},I4=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",C4=N4,A4=()=>In.toasts;Object.assign(C4,{success:In.success,info:In.info,warning:In.warning,error:In.error,custom:In.custom,message:In.message,promise:In.promise,dismiss:In.dismiss,loading:In.loading},{getHistory:A4});function R4(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}R4(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Wu(t){return t.label!==void 0}var P4=3,k4="32px",j4=4e3,D4=356,L4=14,O4=20,M4=200;function V4(...t){return t.filter(Boolean).join(" ")}var F4=t=>{var e,n,r,s,i,o,l,c,d,h;let{invert:f,toast:m,unstyled:y,interacting:w,setHeights:x,visibleToasts:T,heights:_,index:v,toasts:b,expanded:R,removeToast:D,defaultRichColors:O,closeButton:S,style:N,cancelButtonStyle:I,actionButtonStyle:C,className:j="",descriptionClassName:A="",duration:k,position:q,gap:U,loadingIcon:$,expandByDefault:Z,classNames:L,icons:B,closeButtonAriaLabel:Y="Close toast",pauseWhenPageIsHidden:Q,cn:ne}=t,[oe,V]=J.useState(!1),[ce,ie]=J.useState(!1),[ee,pe]=J.useState(!1),[je,ue]=J.useState(!1),[le,me]=J.useState(0),[He,tt]=J.useState(0),It=J.useRef(null),Ke=J.useRef(null),nt=v===0,hn=v+1<=T,at=m.type,pr=m.dismissible!==!1,lu=m.className||"",qf=m.descriptionClassName||"",vs=J.useMemo(()=>_.findIndex(ge=>ge.toastId===m.id)||0,[_,m.id]),Qa=J.useMemo(()=>{var ge;return(ge=m.closeButton)!=null?ge:S},[m.closeButton,S]),Ya=J.useMemo(()=>m.duration||k||j4,[m.duration,k]),yt=J.useRef(0),lt=J.useRef(0),Ci=J.useRef(0),Fr=J.useRef(null),[Xa,Wf]=q.split("-"),xs=J.useMemo(()=>_.reduce((ge,$e,Fe)=>Fe>=vs?ge:ge+$e.height,0),[_,vs]),Ja=T4(),cu=m.invert||f,Ai=at==="loading";lt.current=J.useMemo(()=>vs*U+xs,[vs,xs]),J.useEffect(()=>{V(!0)},[]),J.useLayoutEffect(()=>{if(!oe)return;let ge=Ke.current,$e=ge.style.height;ge.style.height="auto";let Fe=ge.getBoundingClientRect().height;ge.style.height=$e,tt(Fe),x(Ut=>Ut.find(fn=>fn.toastId===m.id)?Ut.map(fn=>fn.toastId===m.id?{...fn,height:Fe}:fn):[{toastId:m.id,height:Fe,position:m.position},...Ut])},[oe,m.title,m.description,x,m.id]);let gr=J.useCallback(()=>{ie(!0),me(lt.current),x(ge=>ge.filter($e=>$e.toastId!==m.id)),setTimeout(()=>{D(m)},M4)},[m,D,x,lt]);J.useEffect(()=>{if(m.promise&&at==="loading"||m.duration===1/0||m.type==="loading")return;let ge,$e=Ya;return R||w||Q&&Ja?(()=>{if(Ci.current<yt.current){let Fe=new Date().getTime()-yt.current;$e=$e-Fe}Ci.current=new Date().getTime()})():$e!==1/0&&(yt.current=new Date().getTime(),ge=setTimeout(()=>{var Fe;(Fe=m.onAutoClose)==null||Fe.call(m,m),gr()},$e)),()=>clearTimeout(ge)},[R,w,Z,m,Ya,gr,m.promise,at,Q,Ja]),J.useEffect(()=>{let ge=Ke.current;if(ge){let $e=ge.getBoundingClientRect().height;return tt($e),x(Fe=>[{toastId:m.id,height:$e,position:m.position},...Fe]),()=>x(Fe=>Fe.filter(Ut=>Ut.toastId!==m.id))}},[x,m.id]),J.useEffect(()=>{m.delete&&gr()},[gr,m.delete]);function Hf(){return B!=null&&B.loading?J.createElement("div",{className:"sonner-loader","data-visible":at==="loading"},B.loading):$?J.createElement("div",{className:"sonner-loader","data-visible":at==="loading"},$):J.createElement(x4,{visible:at==="loading"})}return J.createElement("li",{"aria-live":m.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Ke,className:ne(j,lu,L==null?void 0:L.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[at],(n=m==null?void 0:m.classNames)==null?void 0:n[at]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:O,"data-styled":!(m.jsx||m.unstyled||y),"data-mounted":oe,"data-promise":!!m.promise,"data-removed":ce,"data-visible":hn,"data-y-position":Xa,"data-x-position":Wf,"data-index":v,"data-front":nt,"data-swiping":ee,"data-dismissible":pr,"data-type":at,"data-invert":cu,"data-swipe-out":je,"data-expanded":!!(R||Z&&oe),style:{"--index":v,"--toasts-before":v,"--z-index":b.length-v,"--offset":`${ce?le:lt.current}px`,"--initial-height":Z?"auto":`${He}px`,...N,...m.style},onPointerDown:ge=>{Ai||!pr||(It.current=new Date,me(lt.current),ge.target.setPointerCapture(ge.pointerId),ge.target.tagName!=="BUTTON"&&(pe(!0),Fr.current={x:ge.clientX,y:ge.clientY}))},onPointerUp:()=>{var ge,$e,Fe,Ut;if(je||!pr)return;Fr.current=null;let fn=Number(((ge=Ke.current)==null?void 0:ge.style.getPropertyValue("--swipe-amount").replace("px",""))||0),ws=new Date().getTime()-(($e=It.current)==null?void 0:$e.getTime()),Ur=Math.abs(fn)/ws;if(Math.abs(fn)>=O4||Ur>.11){me(lt.current),(Fe=m.onDismiss)==null||Fe.call(m,m),gr(),ue(!0);return}(Ut=Ke.current)==null||Ut.style.setProperty("--swipe-amount","0px"),pe(!1)},onPointerMove:ge=>{var $e;if(!Fr.current||!pr)return;let Fe=ge.clientY-Fr.current.y,Ut=ge.clientX-Fr.current.x,fn=(Xa==="top"?Math.min:Math.max)(0,Fe),ws=ge.pointerType==="touch"?10:2;Math.abs(fn)>ws?($e=Ke.current)==null||$e.style.setProperty("--swipe-amount",`${Fe}px`):Math.abs(Ut)>ws&&(Fr.current=null)}},Qa&&!m.jsx?J.createElement("button",{"aria-label":Y,"data-disabled":Ai,"data-close-button":!0,onClick:Ai||!pr?()=>{}:()=>{var ge;gr(),(ge=m.onDismiss)==null||ge.call(m,m)},className:ne(L==null?void 0:L.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},J.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),J.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,m.jsx||J.isValidElement(m.title)?m.jsx||m.title:J.createElement(J.Fragment,null,at||m.icon||m.promise?J.createElement("div",{"data-icon":"",className:ne(L==null?void 0:L.icon,(i=m==null?void 0:m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Hf():null,m.type!=="loading"?m.icon||(B==null?void 0:B[at])||y4(at):null):null,J.createElement("div",{"data-content":"",className:ne(L==null?void 0:L.content,(o=m==null?void 0:m.classNames)==null?void 0:o.content)},J.createElement("div",{"data-title":"",className:ne(L==null?void 0:L.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},m.title),m.description?J.createElement("div",{"data-description":"",className:ne(A,qf,L==null?void 0:L.description,(c=m==null?void 0:m.classNames)==null?void 0:c.description)},m.description):null),J.isValidElement(m.cancel)?m.cancel:m.cancel&&Wu(m.cancel)?J.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||I,onClick:ge=>{var $e,Fe;Wu(m.cancel)&&pr&&((Fe=($e=m.cancel).onClick)==null||Fe.call($e,ge),gr())},className:ne(L==null?void 0:L.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,J.isValidElement(m.action)?m.action:m.action&&Wu(m.action)?J.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||C,onClick:ge=>{var $e,Fe;Wu(m.action)&&(ge.defaultPrevented||((Fe=($e=m.action).onClick)==null||Fe.call($e,ge),gr()))},className:ne(L==null?void 0:L.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function Fw(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var U4=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:l,theme:c="light",richColors:d,duration:h,style:f,visibleToasts:m=P4,toastOptions:y,dir:w=Fw(),gap:x=L4,loadingIcon:T,icons:_,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:b,cn:R=V4}=t,[D,O]=J.useState([]),S=J.useMemo(()=>Array.from(new Set([n].concat(D.filter(Q=>Q.position).map(Q=>Q.position)))),[D,n]),[N,I]=J.useState([]),[C,j]=J.useState(!1),[A,k]=J.useState(!1),[q,U]=J.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=J.useRef(null),Z=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=J.useRef(null),B=J.useRef(!1),Y=J.useCallback(Q=>{var ne;(ne=D.find(oe=>oe.id===Q.id))!=null&&ne.delete||In.dismiss(Q.id),O(oe=>oe.filter(({id:V})=>V!==Q.id))},[D]);return J.useEffect(()=>In.subscribe(Q=>{if(Q.dismiss){O(ne=>ne.map(oe=>oe.id===Q.id?{...oe,delete:!0}:oe));return}setTimeout(()=>{NT.flushSync(()=>{O(ne=>{let oe=ne.findIndex(V=>V.id===Q.id);return oe!==-1?[...ne.slice(0,oe),{...ne[oe],...Q},...ne.slice(oe+1)]:[Q,...ne]})})})}),[]),J.useEffect(()=>{if(c!=="system"){U(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:Q})=>{U(Q?"dark":"light")})},[c]),J.useEffect(()=>{D.length<=1&&j(!1)},[D]),J.useEffect(()=>{let Q=ne=>{var oe,V;r.every(ce=>ne[ce]||ne.code===ce)&&(j(!0),(oe=$.current)==null||oe.focus()),ne.code==="Escape"&&(document.activeElement===$.current||(V=$.current)!=null&&V.contains(document.activeElement))&&j(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[r]),J.useEffect(()=>{if($.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,B.current=!1)}},[$.current]),D.length?J.createElement("section",{"aria-label":`${v} ${Z}`,tabIndex:-1},S.map((Q,ne)=>{var oe;let[V,ce]=Q.split("-");return J.createElement("ol",{key:Q,dir:w==="auto"?Fw():w,tabIndex:-1,ref:$,className:o,"data-sonner-toaster":!0,"data-theme":q,"data-y-position":V,"data-x-position":ce,style:{"--front-toast-height":`${((oe=N[0])==null?void 0:oe.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||k4,"--width":`${D4}px`,"--gap":`${x}px`,...f},onBlur:ie=>{B.current&&!ie.currentTarget.contains(ie.relatedTarget)&&(B.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||B.current||(B.current=!0,L.current=ie.relatedTarget)},onMouseEnter:()=>j(!0),onMouseMove:()=>j(!0),onMouseLeave:()=>{A||j(!1)},onPointerDown:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||k(!0)},onPointerUp:()=>k(!1)},D.filter(ie=>!ie.position&&ne===0||ie.position===Q).map((ie,ee)=>{var pe,je;return J.createElement(F4,{key:ie.id,icons:_,index:ee,toast:ie,defaultRichColors:d,duration:(pe=y==null?void 0:y.duration)!=null?pe:h,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:e,visibleToasts:m,closeButton:(je=y==null?void 0:y.closeButton)!=null?je:i,interacting:A,position:Q,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:Y,toasts:D.filter(ue=>ue.position==ie.position),heights:N.filter(ue=>ue.position==ie.position),setHeights:I,expandByDefault:s,gap:x,loadingIcon:T,expanded:C,pauseWhenPageIsHidden:b,cn:R})}))})):null};const $4=({...t})=>{const{theme:e="system"}=g4();return a.jsx(U4,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var B4=bE.useId||(()=>{}),z4=0;function Bc(t){const[e,n]=g.useState(B4());return Zt(()=>{t||n(r=>r??String(z4++))},[t]),t||(e?`radix-${e}`:"")}const q4=["top","right","bottom","left"],ui=Math.min,An=Math.max,sh=Math.round,Hu=Math.floor,di=t=>({x:t,y:t}),W4={left:"right",right:"left",bottom:"top",top:"bottom"},H4={start:"end",end:"start"};function hg(t,e,n){return An(t,ui(e,n))}function os(t,e){return typeof t=="function"?t(e):t}function as(t){return t.split("-")[0]}function Oa(t){return t.split("-")[1]}function iv(t){return t==="x"?"y":"x"}function ov(t){return t==="y"?"height":"width"}function hi(t){return["top","bottom"].includes(as(t))?"y":"x"}function av(t){return iv(hi(t))}function K4(t,e,n){n===void 0&&(n=!1);const r=Oa(t),s=av(t),i=ov(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=ih(o)),[o,ih(o)]}function G4(t){const e=ih(t);return[fg(t),e,fg(e)]}function fg(t){return t.replace(/start|end/g,e=>H4[e])}function Q4(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function Y4(t,e,n,r){const s=Oa(t);let i=Q4(as(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(fg)))),i}function ih(t){return t.replace(/left|right|bottom|top/g,e=>W4[e])}function X4(t){return{top:0,right:0,bottom:0,left:0,...t}}function gS(t){return typeof t!="number"?X4(t):{top:t,right:t,bottom:t,left:t}}function oh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Uw(t,e,n){let{reference:r,floating:s}=t;const i=hi(e),o=av(e),l=ov(o),c=as(e),d=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let y;switch(c){case"top":y={x:h,y:r.y-s.height};break;case"bottom":y={x:h,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:f};break;case"left":y={x:r.x-s.width,y:f};break;default:y={x:r.x,y:r.y}}switch(Oa(e)){case"start":y[o]-=m*(n&&d?-1:1);break;case"end":y[o]+=m*(n&&d?-1:1);break}return y}const J4=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=Uw(d,r,c),m=r,y={},w=0;for(let x=0;x<l.length;x++){const{name:T,fn:_}=l[x],{x:v,y:b,data:R,reset:D}=await _({x:h,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:y,rects:d,platform:o,elements:{reference:t,floating:e}});h=v??h,f=b??f,y={...y,[T]:{...y[T],...R}},D&&w<=50&&(w++,typeof D=="object"&&(D.placement&&(m=D.placement),D.rects&&(d=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:h,y:f}=Uw(d,m,c)),x=-1)}return{x:h,y:f,placement:m,strategy:s,middlewareData:y}};async function gc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:y=0}=os(e,t),w=gS(y),T=l[m?f==="floating"?"reference":"floating":f],_=oh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(T)))==null||n?T:T.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),v=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),R=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},D=oh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:b,strategy:c}):v);return{top:(_.top-D.top+w.top)/R.y,bottom:(D.bottom-_.bottom+w.bottom)/R.y,left:(_.left-D.left+w.left)/R.x,right:(D.right-_.right+w.right)/R.x}}const Z4=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:h=0}=os(t,e)||{};if(d==null)return{};const f=gS(h),m={x:n,y:r},y=av(s),w=ov(y),x=await o.getDimensions(d),T=y==="y",_=T?"top":"left",v=T?"bottom":"right",b=T?"clientHeight":"clientWidth",R=i.reference[w]+i.reference[y]-m[y]-i.floating[w],D=m[y]-i.reference[y],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let S=O?O[b]:0;(!S||!await(o.isElement==null?void 0:o.isElement(O)))&&(S=l.floating[b]||i.floating[w]);const N=R/2-D/2,I=S/2-x[w]/2-1,C=ui(f[_],I),j=ui(f[v],I),A=C,k=S-x[w]-j,q=S/2-x[w]/2+N,U=hg(A,q,k),$=!c.arrow&&Oa(s)!=null&&q!==U&&i.reference[w]/2-(q<A?C:j)-x[w]/2<0,Z=$?q<A?q-A:q-k:0;return{[y]:m[y]+Z,data:{[y]:U,centerOffset:q-U-Z,...$&&{alignmentOffset:Z}},reset:$}}}),eD=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:x=!0,...T}=os(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=as(s),v=hi(l),b=as(l)===l,R=await(c.isRTL==null?void 0:c.isRTL(d.floating)),D=m||(b||!x?[ih(l)]:G4(l)),O=w!=="none";!m&&O&&D.push(...Y4(l,x,w,R));const S=[l,...D],N=await gc(e,T),I=[];let C=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&I.push(N[_]),f){const q=K4(s,o,R);I.push(N[q[0]],N[q[1]])}if(C=[...C,{placement:s,overflows:I}],!I.every(q=>q<=0)){var j,A;const q=(((j=i.flip)==null?void 0:j.index)||0)+1,U=S[q];if(U)return{data:{index:q,overflows:C},reset:{placement:U}};let $=(A=C.filter(Z=>Z.overflows[0]<=0).sort((Z,L)=>Z.overflows[1]-L.overflows[1])[0])==null?void 0:A.placement;if(!$)switch(y){case"bestFit":{var k;const Z=(k=C.filter(L=>{if(O){const B=hi(L.placement);return B===v||B==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(B=>B>0).reduce((B,Y)=>B+Y,0)]).sort((L,B)=>L[1]-B[1])[0])==null?void 0:k[0];Z&&($=Z);break}case"initialPlacement":$=l;break}if(s!==$)return{reset:{placement:$}}}return{}}}};function $w(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Bw(t){return q4.some(e=>t[e]>=0)}const tD=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=os(t,e);switch(r){case"referenceHidden":{const i=await gc(e,{...s,elementContext:"reference"}),o=$w(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Bw(o)}}}case"escaped":{const i=await gc(e,{...s,altBoundary:!0}),o=$w(i,n.floating);return{data:{escapedOffsets:o,escaped:Bw(o)}}}default:return{}}}}};async function nD(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=as(n),l=Oa(n),c=hi(n)==="y",d=["left","top"].includes(o)?-1:1,h=i&&c?-1:1,f=os(e,t);let{mainAxis:m,crossAxis:y,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof w=="number"&&(y=l==="end"?w*-1:w),c?{x:y*h,y:m*d}:{x:m*d,y:y*h}}const rD=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:l}=e,c=await nD(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},sD=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:T=>{let{x:_,y:v}=T;return{x:_,y:v}}},...c}=os(t,e),d={x:n,y:r},h=await gc(e,c),f=hi(as(s)),m=iv(f);let y=d[m],w=d[f];if(i){const T=m==="y"?"top":"left",_=m==="y"?"bottom":"right",v=y+h[T],b=y-h[_];y=hg(v,y,b)}if(o){const T=f==="y"?"top":"left",_=f==="y"?"bottom":"right",v=w+h[T],b=w-h[_];w=hg(v,w,b)}const x=l.fn({...e,[m]:y,[f]:w});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[m]:i,[f]:o}}}}}},iD=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=os(t,e),h={x:n,y:r},f=hi(s),m=iv(f);let y=h[m],w=h[f];const x=os(l,e),T=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const b=m==="y"?"height":"width",R=i.reference[m]-i.floating[b]+T.mainAxis,D=i.reference[m]+i.reference[b]-T.mainAxis;y<R?y=R:y>D&&(y=D)}if(d){var _,v;const b=m==="y"?"width":"height",R=["top","left"].includes(as(s)),D=i.reference[f]-i.floating[b]+(R&&((_=o.offset)==null?void 0:_[f])||0)+(R?0:T.crossAxis),O=i.reference[f]+i.reference[b]+(R?0:((v=o.offset)==null?void 0:v[f])||0)-(R?T.crossAxis:0);w<D?w=D:w>O&&(w=O)}return{[m]:y,[f]:w}}}},oD=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:l}=e,{apply:c=()=>{},...d}=os(t,e),h=await gc(e,d),f=as(s),m=Oa(s),y=hi(s)==="y",{width:w,height:x}=i.floating;let T,_;f==="top"||f==="bottom"?(T=f,_=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(_=f,T=m==="end"?"top":"bottom");const v=x-h.top-h.bottom,b=w-h.left-h.right,R=ui(x-h[T],v),D=ui(w-h[_],b),O=!e.middlewareData.shift;let S=R,N=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(N=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=v),O&&!m){const C=An(h.left,0),j=An(h.right,0),A=An(h.top,0),k=An(h.bottom,0);y?N=w-2*(C!==0||j!==0?C+j:An(h.left,h.right)):S=x-2*(A!==0||k!==0?A+k:An(h.top,h.bottom))}await c({...e,availableWidth:N,availableHeight:S});const I=await o.getDimensions(l.floating);return w!==I.width||x!==I.height?{reset:{rects:!0}}:{}}}};function nf(){return typeof window<"u"}function Ma(t){return yS(t)?(t.nodeName||"").toLowerCase():"#document"}function Dn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Vr(t){var e;return(e=(yS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function yS(t){return nf()?t instanceof Node||t instanceof Dn(t).Node:!1}function hr(t){return nf()?t instanceof Element||t instanceof Dn(t).Element:!1}function Lr(t){return nf()?t instanceof HTMLElement||t instanceof Dn(t).HTMLElement:!1}function zw(t){return!nf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Dn(t).ShadowRoot}function zc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=fr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function aD(t){return["table","td","th"].includes(Ma(t))}function rf(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function lv(t){const e=cv(),n=hr(t)?fr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function lD(t){let e=fi(t);for(;Lr(e)&&!_a(e);){if(lv(e))return e;if(rf(e))return null;e=fi(e)}return null}function cv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function _a(t){return["html","body","#document"].includes(Ma(t))}function fr(t){return Dn(t).getComputedStyle(t)}function sf(t){return hr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function fi(t){if(Ma(t)==="html")return t;const e=t.assignedSlot||t.parentNode||zw(t)&&t.host||Vr(t);return zw(e)?e.host:e}function vS(t){const e=fi(t);return _a(e)?t.ownerDocument?t.ownerDocument.body:t.body:Lr(e)&&zc(e)?e:vS(e)}function yc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=vS(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Dn(s);if(i){const l=mg(o);return e.concat(o,o.visualViewport||[],zc(s)?s:[],l&&n?yc(l):[])}return e.concat(s,yc(s,[],n))}function mg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function xS(t){const e=fr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Lr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,l=sh(n)!==i||sh(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function uv(t){return hr(t)?t:t.contextElement}function Xo(t){const e=uv(t);if(!Lr(e))return di(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=xS(e);let o=(i?sh(n.width):n.width)/r,l=(i?sh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const cD=di(0);function wS(t){const e=Dn(t);return!cv()||!e.visualViewport?cD:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function uD(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Dn(t)?!1:e}function ro(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=uv(t);let o=di(1);e&&(r?hr(r)&&(o=Xo(r)):o=Xo(t));const l=uD(i,n,r)?wS(i):di(0);let c=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const m=Dn(i),y=r&&hr(r)?Dn(r):r;let w=m,x=mg(w);for(;x&&r&&y!==w;){const T=Xo(x),_=x.getBoundingClientRect(),v=fr(x),b=_.left+(x.clientLeft+parseFloat(v.paddingLeft))*T.x,R=_.top+(x.clientTop+parseFloat(v.paddingTop))*T.y;c*=T.x,d*=T.y,h*=T.x,f*=T.y,c+=b,d+=R,w=Dn(x),x=mg(w)}}return oh({width:h,height:f,x:c,y:d})}function dD(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Vr(r),l=e?rf(e.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},d=di(1);const h=di(0),f=Lr(r);if((f||!f&&!i)&&((Ma(r)!=="body"||zc(o))&&(c=sf(r)),Lr(r))){const m=ro(r);d=Xo(r),h.x=m.x+r.clientLeft,h.y=m.y+r.clientTop}return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+h.x,y:n.y*d.y-c.scrollTop*d.y+h.y}}function hD(t){return Array.from(t.getClientRects())}function pg(t,e){const n=sf(t).scrollLeft;return e?e.left+n:ro(Vr(t)).left+n}function fD(t){const e=Vr(t),n=sf(t),r=t.ownerDocument.body,s=An(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=An(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+pg(t);const l=-n.scrollTop;return fr(r).direction==="rtl"&&(o+=An(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:l}}function mD(t,e){const n=Dn(t),r=Vr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const d=cv();(!d||d&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l,y:c}}function pD(t,e){const n=ro(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Lr(t)?Xo(t):di(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,d=r*i.y;return{width:o,height:l,x:c,y:d}}function qw(t,e,n){let r;if(e==="viewport")r=mD(t,n);else if(e==="document")r=fD(Vr(t));else if(hr(e))r=pD(e,n);else{const s=wS(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return oh(r)}function _S(t,e){const n=fi(t);return n===e||!hr(n)||_a(n)?!1:fr(n).position==="fixed"||_S(n,e)}function gD(t,e){const n=e.get(t);if(n)return n;let r=yc(t,[],!1).filter(l=>hr(l)&&Ma(l)!=="body"),s=null;const i=fr(t).position==="fixed";let o=i?fi(t):t;for(;hr(o)&&!_a(o);){const l=fr(o),c=lv(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||zc(o)&&!c&&_S(t,o))?r=r.filter(h=>h!==o):s=l,o=fi(o)}return e.set(t,r),r}function yD(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?rf(e)?[]:gD(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((d,h)=>{const f=qw(e,h,s);return d.top=An(f.top,d.top),d.right=ui(f.right,d.right),d.bottom=ui(f.bottom,d.bottom),d.left=An(f.left,d.left),d},qw(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function vD(t){const{width:e,height:n}=xS(t);return{width:e,height:n}}function xD(t,e,n){const r=Lr(e),s=Vr(e),i=n==="fixed",o=ro(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=di(0);if(r||!r&&!i)if((Ma(e)!=="body"||zc(s))&&(l=sf(e)),r){const y=ro(e,!0,i,e);c.x=y.x+e.clientLeft,c.y=y.y+e.clientTop}else s&&(c.x=pg(s));let d=0,h=0;if(s&&!r&&!i){const y=s.getBoundingClientRect();h=y.top+l.scrollTop,d=y.left+l.scrollLeft-pg(s,y)}const f=o.left+l.scrollLeft-c.x-d,m=o.top+l.scrollTop-c.y-h;return{x:f,y:m,width:o.width,height:o.height}}function Vm(t){return fr(t).position==="static"}function Ww(t,e){if(!Lr(t)||fr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Vr(t)===n&&(n=n.ownerDocument.body),n}function ES(t,e){const n=Dn(t);if(rf(t))return n;if(!Lr(t)){let s=fi(t);for(;s&&!_a(s);){if(hr(s)&&!Vm(s))return s;s=fi(s)}return n}let r=Ww(t,e);for(;r&&aD(r)&&Vm(r);)r=Ww(r,e);return r&&_a(r)&&Vm(r)&&!lv(r)?n:r||lD(t)||n}const wD=async function(t){const e=this.getOffsetParent||ES,n=this.getDimensions,r=await n(t.floating);return{reference:xD(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function _D(t){return fr(t).direction==="rtl"}const ED={convertOffsetParentRelativeRectToViewportRelativeRect:dD,getDocumentElement:Vr,getClippingRect:yD,getOffsetParent:ES,getElementRects:wD,getClientRects:hD,getDimensions:vD,getScale:Xo,isElement:hr,isRTL:_D};function bD(t,e){let n=null,r;const s=Vr(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:d,top:h,width:f,height:m}=t.getBoundingClientRect();if(l||e(),!f||!m)return;const y=Hu(h),w=Hu(s.clientWidth-(d+f)),x=Hu(s.clientHeight-(h+m)),T=Hu(d),v={rootMargin:-y+"px "+-w+"px "+-x+"px "+-T+"px",threshold:An(0,ui(1,c))||1};let b=!0;function R(D){const O=D[0].intersectionRatio;if(O!==c){if(!b)return o();O?o(!1,O):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(R,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(R,v)}n.observe(t)}return o(!0),i}function TD(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=uv(t),h=s||i?[...d?yc(d):[],...yc(e)]:[];h.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const f=d&&l?bD(d,n):null;let m=-1,y=null;o&&(y=new ResizeObserver(_=>{let[v]=_;v&&v.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=y)==null||b.observe(e)})),n()}),d&&!c&&y.observe(d),y.observe(e));let w,x=c?ro(t):null;c&&T();function T(){const _=ro(t);x&&(_.x!==x.x||_.y!==x.y||_.width!==x.width||_.height!==x.height)&&n(),x=_,w=requestAnimationFrame(T)}return n(),()=>{var _;h.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),f==null||f(),(_=y)==null||_.disconnect(),y=null,c&&cancelAnimationFrame(w)}}const SD=rD,ND=sD,ID=eD,CD=oD,AD=tD,Hw=Z4,RD=iD,PD=(t,e,n)=>{const r=new Map,s={platform:ED,...n},i={...s.platform,_c:r};return J4(t,e,{...s,platform:i})};var xd=typeof document<"u"?g.useLayoutEffect:g.useEffect;function ah(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ah(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!ah(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function bS(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Kw(t,e){const n=bS(t);return Math.round(e*n)/n}function Fm(t){const e=g.useRef(t);return xd(()=>{e.current=t}),e}function kD(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[h,f]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,y]=g.useState(r);ah(m,r)||y(r);const[w,x]=g.useState(null),[T,_]=g.useState(null),v=g.useCallback(L=>{L!==O.current&&(O.current=L,x(L))},[]),b=g.useCallback(L=>{L!==S.current&&(S.current=L,_(L))},[]),R=i||w,D=o||T,O=g.useRef(null),S=g.useRef(null),N=g.useRef(h),I=c!=null,C=Fm(c),j=Fm(s),A=Fm(d),k=g.useCallback(()=>{if(!O.current||!S.current)return;const L={placement:e,strategy:n,middleware:m};j.current&&(L.platform=j.current),PD(O.current,S.current,L).then(B=>{const Y={...B,isPositioned:A.current!==!1};q.current&&!ah(N.current,Y)&&(N.current=Y,mo.flushSync(()=>{f(Y)}))})},[m,e,n,j,A]);xd(()=>{d===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[d]);const q=g.useRef(!1);xd(()=>(q.current=!0,()=>{q.current=!1}),[]),xd(()=>{if(R&&(O.current=R),D&&(S.current=D),R&&D){if(C.current)return C.current(R,D,k);k()}},[R,D,k,C,I]);const U=g.useMemo(()=>({reference:O,floating:S,setReference:v,setFloating:b}),[v,b]),$=g.useMemo(()=>({reference:R,floating:D}),[R,D]),Z=g.useMemo(()=>{const L={position:n,left:0,top:0};if(!$.floating)return L;const B=Kw($.floating,h.x),Y=Kw($.floating,h.y);return l?{...L,transform:"translate("+B+"px, "+Y+"px)",...bS($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:Y}},[n,l,$.floating,h.x,h.y]);return g.useMemo(()=>({...h,update:k,refs:U,elements:$,floatingStyles:Z}),[h,k,U,$,Z])}const jD=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Hw({element:r.current,padding:s}).fn(n):{}:r?Hw({element:r,padding:s}).fn(n):{}}}},DD=(t,e)=>({...SD(t),options:[t,e]}),LD=(t,e)=>({...ND(t),options:[t,e]}),OD=(t,e)=>({...RD(t),options:[t,e]}),MD=(t,e)=>({...ID(t),options:[t,e]}),VD=(t,e)=>({...CD(t),options:[t,e]}),FD=(t,e)=>({...AD(t),options:[t,e]}),UD=(t,e)=>({...jD(t),options:[t,e]});var $D="Arrow",TS=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return a.jsx(Te.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});TS.displayName=$D;var BD=TS;function zD(t,e=[]){let n=[];function r(i,o){const l=g.createContext(o),c=n.length;n=[...n,o];function d(f){const{scope:m,children:y,...w}=f,x=(m==null?void 0:m[t][c])||l,T=g.useMemo(()=>w,Object.values(w));return a.jsx(x.Provider,{value:T,children:y})}function h(f,m){const y=(m==null?void 0:m[t][c])||l,w=g.useContext(y);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,h]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,qD(s,...e)]}function qD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function SS(t){const[e,n]=g.useState(void 0);return Zt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var dv="Popper",[NS,of]=zD(dv),[WD,IS]=NS(dv),CS=t=>{const{__scopePopper:e,children:n}=t,[r,s]=g.useState(null);return a.jsx(WD,{scope:e,anchor:r,onAnchorChange:s,children:n})};CS.displayName=dv;var AS="PopperAnchor",RS=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=IS(AS,n),o=g.useRef(null),l=Ze(e,o);return g.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:a.jsx(Te.div,{...s,ref:l})});RS.displayName=AS;var hv="PopperContent",[HD,KD]=NS(hv),PS=g.forwardRef((t,e)=>{var ee,pe,je,ue,le,me;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:y="optimized",onPlaced:w,...x}=t,T=IS(hv,n),[_,v]=g.useState(null),b=Ze(e,He=>v(He)),[R,D]=g.useState(null),O=SS(R),S=(O==null?void 0:O.width)??0,N=(O==null?void 0:O.height)??0,I=r+(i!=="center"?"-"+i:""),C=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},j=Array.isArray(d)?d:[d],A=j.length>0,k={padding:C,boundary:j.filter(QD),altBoundary:A},{refs:q,floatingStyles:U,placement:$,isPositioned:Z,middlewareData:L}=kD({strategy:"fixed",placement:I,whileElementsMounted:(...He)=>TD(...He,{animationFrame:y==="always"}),elements:{reference:T.anchor},middleware:[DD({mainAxis:s+N,alignmentAxis:o}),c&&LD({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?OD():void 0,...k}),c&&MD({...k}),VD({...k,apply:({elements:He,rects:tt,availableWidth:It,availableHeight:Ke})=>{const{width:nt,height:hn}=tt.reference,at=He.floating.style;at.setProperty("--radix-popper-available-width",`${It}px`),at.setProperty("--radix-popper-available-height",`${Ke}px`),at.setProperty("--radix-popper-anchor-width",`${nt}px`),at.setProperty("--radix-popper-anchor-height",`${hn}px`)}}),R&&UD({element:R,padding:l}),YD({arrowWidth:S,arrowHeight:N}),m&&FD({strategy:"referenceHidden",...k})]}),[B,Y]=DS($),Q=En(w);Zt(()=>{Z&&(Q==null||Q())},[Z,Q]);const ne=(ee=L.arrow)==null?void 0:ee.x,oe=(pe=L.arrow)==null?void 0:pe.y,V=((je=L.arrow)==null?void 0:je.centerOffset)!==0,[ce,ie]=g.useState();return Zt(()=>{_&&ie(window.getComputedStyle(_).zIndex)},[_]),a.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:Z?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[(ue=L.transformOrigin)==null?void 0:ue.x,(le=L.transformOrigin)==null?void 0:le.y].join(" "),...((me=L.hide)==null?void 0:me.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(HD,{scope:n,placedSide:B,onArrowChange:D,arrowX:ne,arrowY:oe,shouldHideArrow:V,children:a.jsx(Te.div,{"data-side":B,"data-align":Y,...x,ref:b,style:{...x.style,animation:Z?void 0:"none"}})})})});PS.displayName=hv;var kS="PopperArrow",GD={top:"bottom",right:"left",bottom:"top",left:"right"},jS=g.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=KD(kS,r),o=GD[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(BD,{...s,ref:n,style:{...s.style,display:"block"}})})});jS.displayName=kS;function QD(t){return t!==null}var YD=t=>({name:"transformOrigin",options:t,fn(e){var T,_,v;const{placement:n,rects:r,middlewareData:s}=e,o=((T=s.arrow)==null?void 0:T.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,h]=DS(n),f={start:"0%",center:"50%",end:"100%"}[h],m=(((_=s.arrow)==null?void 0:_.x)??0)+l/2,y=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let w="",x="";return d==="bottom"?(w=o?f:`${m}px`,x=`${-c}px`):d==="top"?(w=o?f:`${m}px`,x=`${r.floating.height+c}px`):d==="right"?(w=`${-c}px`,x=o?f:`${y}px`):d==="left"&&(w=`${r.floating.width+c}px`,x=o?f:`${y}px`),{data:{x:w,y:x}}}});function DS(t){const[e,n="center"]=t.split("-");return[e,n]}var XD=CS,LS=RS,OS=PS,MS=jS,[af,K8]=Da("Tooltip",[of]),fv=of(),VS="TooltipProvider",JD=700,Gw="tooltip.open",[ZD,FS]=af(VS),US=t=>{const{__scopeTooltip:e,delayDuration:n=JD,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,l]=g.useState(!0),c=g.useRef(!1),d=g.useRef(0);return g.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),a.jsx(ZD,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(d.current),l(!1)},[]),onClose:g.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:g.useCallback(h=>{c.current=h},[]),disableHoverableContent:s,children:i})};US.displayName=VS;var $S="Tooltip",[G8,lf]=af($S),gg="TooltipTrigger",eL=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=lf(gg,n),i=FS(gg,n),o=fv(n),l=g.useRef(null),c=Ze(e,l,s.onTriggerChange),d=g.useRef(!1),h=g.useRef(!1),f=g.useCallback(()=>d.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(LS,{asChild:!0,...o,children:a.jsx(Te.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:fe(t.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:fe(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:fe(t.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:fe(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:fe(t.onBlur,s.onClose),onClick:fe(t.onClick,s.onClose)})})});eL.displayName=gg;var tL="TooltipPortal",[Q8,nL]=af(tL,{forceMount:void 0}),Ea="TooltipContent",BS=g.forwardRef((t,e)=>{const n=nL(Ea,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=lf(Ea,t.__scopeTooltip);return a.jsx(Uc,{present:r||o.open,children:o.disableHoverableContent?a.jsx(zS,{side:s,...i,ref:e}):a.jsx(rL,{side:s,...i,ref:e})})}),rL=g.forwardRef((t,e)=>{const n=lf(Ea,t.__scopeTooltip),r=FS(Ea,t.__scopeTooltip),s=g.useRef(null),i=Ze(e,s),[o,l]=g.useState(null),{trigger:c,onClose:d}=n,h=s.current,{onPointerInTransitChange:f}=r,m=g.useCallback(()=>{l(null),f(!1)},[f]),y=g.useCallback((w,x)=>{const T=w.currentTarget,_={x:w.clientX,y:w.clientY},v=aL(_,T.getBoundingClientRect()),b=lL(_,v),R=cL(x.getBoundingClientRect()),D=dL([...b,...R]);l(D),f(!0)},[f]);return g.useEffect(()=>()=>m(),[m]),g.useEffect(()=>{if(c&&h){const w=T=>y(T,h),x=T=>y(T,c);return c.addEventListener("pointerleave",w),h.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",w),h.removeEventListener("pointerleave",x)}}},[c,h,y,m]),g.useEffect(()=>{if(o){const w=x=>{const T=x.target,_={x:x.clientX,y:x.clientY},v=(c==null?void 0:c.contains(T))||(h==null?void 0:h.contains(T)),b=!uL(_,o);v?m():b&&(m(),d())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,h,o,d,m]),a.jsx(zS,{...t,ref:i})}),[sL,iL]=af($S,{isInside:!1}),zS=g.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=t,c=lf(Ea,n),d=fv(n),{onClose:h}=c;return g.useEffect(()=>(document.addEventListener(Gw,h),()=>document.removeEventListener(Gw,h)),[h]),g.useEffect(()=>{if(c.trigger){const f=m=>{const y=m.target;y!=null&&y.contains(c.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,h]),a.jsx(Yh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:a.jsxs(OS,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(AT,{children:r}),a.jsx(sL,{scope:n,isInside:!0,children:a.jsx(J2,{id:c.contentId,role:"tooltip",children:s||r})})]})})});BS.displayName=Ea;var qS="TooltipArrow",oL=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=fv(n);return iL(qS,n).isInside?null:a.jsx(MS,{...s,...r,ref:e})});oL.displayName=qS;function aL(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function lL(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function cL(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function uL(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i].x,c=e[i].y,d=e[o].x,h=e[o].y;c>r!=h>r&&n<(d-l)*(r-c)/(h-c)+l&&(s=!s)}return s}function dL(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),hL(e)}function hL(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var fL=US,WS=BS;const mL=fL,pL=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>a.jsx(WS,{ref:r,sideOffset:e,className:Le("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));pL.displayName=WS.displayName;var cf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},uf=typeof window>"u"||"Deno"in globalThis;function nr(){}function gL(t,e){return typeof t=="function"?t(e):t}function yL(t){return typeof t=="number"&&t>=0&&t!==1/0}function vL(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Qw(t,e){return typeof t=="function"?t(e):t}function xL(t,e){return typeof t=="function"?t(e):t}function Yw(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==mv(o,e.options))return!1}else if(!xc(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function Xw(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(vc(e.options.mutationKey)!==vc(i))return!1}else if(!xc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function mv(t,e){return((e==null?void 0:e.queryKeyHashFn)||vc)(t)}function vc(t){return JSON.stringify(t,(e,n)=>yg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function xc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!xc(t[n],e[n])):!1}function HS(t,e){if(t===e)return t;const n=Jw(t)&&Jw(e);if(n||yg(t)&&yg(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,l=n?[]:{};let c=0;for(let d=0;d<o;d++){const h=n?d:i[d];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(l[h]=void 0,c++):(l[h]=HS(t[h],e[h]),l[h]===t[h]&&t[h]!==void 0&&c++)}return s===o&&c===s?t:l}return e}function Jw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function yg(t){if(!Zw(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Zw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Zw(t){return Object.prototype.toString.call(t)==="[object Object]"}function wL(t){return new Promise(e=>{setTimeout(e,t)})}function _L(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?HS(t,e):e}function EL(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function bL(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var pv=Symbol();function KS(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===pv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var $i,Vs,ra,sE,TL=(sE=class extends cf{constructor(){super();Me(this,$i);Me(this,Vs);Me(this,ra);Ee(this,ra,e=>{if(!uf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){H(this,Vs)||this.setEventListener(H(this,ra))}onUnsubscribe(){var e;this.hasListeners()||((e=H(this,Vs))==null||e.call(this),Ee(this,Vs,void 0))}setEventListener(e){var n;Ee(this,ra,e),(n=H(this,Vs))==null||n.call(this),Ee(this,Vs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){H(this,$i)!==e&&(Ee(this,$i,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof H(this,$i)=="boolean"?H(this,$i):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},$i=new WeakMap,Vs=new WeakMap,ra=new WeakMap,sE),GS=new TL,sa,Fs,ia,iE,SL=(iE=class extends cf{constructor(){super();Me(this,sa,!0);Me(this,Fs);Me(this,ia);Ee(this,ia,e=>{if(!uf&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){H(this,Fs)||this.setEventListener(H(this,ia))}onUnsubscribe(){var e;this.hasListeners()||((e=H(this,Fs))==null||e.call(this),Ee(this,Fs,void 0))}setEventListener(e){var n;Ee(this,ia,e),(n=H(this,Fs))==null||n.call(this),Ee(this,Fs,e(this.setOnline.bind(this)))}setOnline(e){H(this,sa)!==e&&(Ee(this,sa,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return H(this,sa)}},sa=new WeakMap,Fs=new WeakMap,ia=new WeakMap,iE),lh=new SL;function NL(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function IL(t){return Math.min(1e3*2**t,3e4)}function QS(t){return(t??"online")==="online"?lh.isOnline():!0}var YS=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Um(t){return t instanceof YS}function XS(t){let e=!1,n=0,r=!1,s;const i=NL(),o=x=>{var T;r||(m(new YS(x)),(T=t.abort)==null||T.call(t))},l=()=>{e=!0},c=()=>{e=!1},d=()=>GS.isFocused()&&(t.networkMode==="always"||lh.isOnline())&&t.canRun(),h=()=>QS(t.networkMode)&&t.canRun(),f=x=>{var T;r||(r=!0,(T=t.onSuccess)==null||T.call(t,x),s==null||s(),i.resolve(x))},m=x=>{var T;r||(r=!0,(T=t.onError)==null||T.call(t,x),s==null||s(),i.reject(x))},y=()=>new Promise(x=>{var T;s=_=>{(r||d())&&x(_)},(T=t.onPause)==null||T.call(t)}).then(()=>{var x;s=void 0,r||(x=t.onContinue)==null||x.call(t)}),w=()=>{if(r)return;let x;const T=n===0?t.initialPromise:void 0;try{x=T??t.fn()}catch(_){x=Promise.reject(_)}Promise.resolve(x).then(f).catch(_=>{var O;if(r)return;const v=t.retry??(uf?0:3),b=t.retryDelay??IL,R=typeof b=="function"?b(n,_):b,D=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,_);if(e||!D){m(_);return}n++,(O=t.onFail)==null||O.call(t,n,_),wL(R).then(()=>d()?void 0:y()).then(()=>{e?m(_):w()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?w():y().then(w),i)}}function CL(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=l=>setTimeout(l,0);const i=l=>{e?t.push(l):s(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var sn=CL(),Bi,oE,JS=(oE=class{constructor(){Me(this,Bi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),yL(this.gcTime)&&Ee(this,Bi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(uf?1/0:5*60*1e3))}clearGcTimeout(){H(this,Bi)&&(clearTimeout(H(this,Bi)),Ee(this,Bi,void 0))}},Bi=new WeakMap,oE),oa,aa,Un,Kt,jc,zi,rr,qr,aE,AL=(aE=class extends JS{constructor(n){super();Me(this,rr);Me(this,oa);Me(this,aa);Me(this,Un);Me(this,Kt);Me(this,jc);Me(this,zi);Ee(this,zi,!1),Ee(this,jc,n.defaultOptions),this.setOptions(n.options),this.observers=[],Ee(this,Un,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Ee(this,oa,PL(this.options)),this.state=n.state??H(this,oa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=H(this,Kt))==null?void 0:n.promise}setOptions(n){this.options={...H(this,jc),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&H(this,Un).remove(this)}setData(n,r){const s=_L(this.state.data,n,this.options);return zt(this,rr,qr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){zt(this,rr,qr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=H(this,Kt))==null?void 0:s.promise;return(i=H(this,Kt))==null||i.cancel(n),r?r.then(nr).catch(nr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(H(this,oa))}isActive(){return this.observers.some(n=>xL(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===pv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!vL(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=H(this,Kt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=H(this,Kt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),H(this,Un).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(H(this,Kt)&&(H(this,zi)?H(this,Kt).cancel({revert:!0}):H(this,Kt).cancelRetry()),this.scheduleGc()),H(this,Un).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||zt(this,rr,qr).call(this,{type:"invalidate"})}fetch(n,r){var d,h,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(H(this,Kt))return H(this,Kt).continueRetry(),H(this,Kt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const m=this.observers.find(y=>y.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(Ee(this,zi,!0),s.signal)})},o=()=>{const m=KS(this.options,r),y={queryKey:this.queryKey,meta:this.meta};return i(y),Ee(this,zi,!1),this.options.persister?this.options.persister(m,y,this):m(y)},l={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(l),(d=this.options.behavior)==null||d.onFetch(l,this),Ee(this,aa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&zt(this,rr,qr).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=m=>{var y,w,x,T;Um(m)&&m.silent||zt(this,rr,qr).call(this,{type:"error",error:m}),Um(m)||((w=(y=H(this,Un).config).onError)==null||w.call(y,m,this),(T=(x=H(this,Un).config).onSettled)==null||T.call(x,this.state.data,m,this)),this.scheduleGc()};return Ee(this,Kt,XS({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var y,w,x,T;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(_){c(_);return}(w=(y=H(this,Un).config).onSuccess)==null||w.call(y,m,this),(T=(x=H(this,Un).config).onSettled)==null||T.call(x,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,y)=>{zt(this,rr,qr).call(this,{type:"failed",failureCount:m,error:y})},onPause:()=>{zt(this,rr,qr).call(this,{type:"pause"})},onContinue:()=>{zt(this,rr,qr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),H(this,Kt).start()}},oa=new WeakMap,aa=new WeakMap,Un=new WeakMap,Kt=new WeakMap,jc=new WeakMap,zi=new WeakMap,rr=new WeakSet,qr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...RL(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Um(i)&&i.revert&&H(this,aa)?{...H(this,aa),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),sn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),H(this,Un).notify({query:this,type:"updated",action:n})})},aE);function RL(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:QS(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function PL(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var wr,lE,kL=(lE=class extends cf{constructor(e={}){super();Me(this,wr);this.config=e,Ee(this,wr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??mv(s,n);let o=this.get(i);return o||(o=new AL({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){H(this,wr).has(e.queryHash)||(H(this,wr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=H(this,wr).get(e.queryHash);n&&(e.destroy(),n===e&&H(this,wr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){sn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return H(this,wr).get(e)}getAll(){return[...H(this,wr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Yw(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Yw(e,r)):n}notify(e){sn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){sn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){sn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},wr=new WeakMap,lE),_r,nn,qi,Er,As,cE,jL=(cE=class extends JS{constructor(n){super();Me(this,Er);Me(this,_r);Me(this,nn);Me(this,qi);this.mutationId=n.mutationId,Ee(this,nn,n.mutationCache),Ee(this,_r,[]),this.state=n.state||DL(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){H(this,_r).includes(n)||(H(this,_r).push(n),this.clearGcTimeout(),H(this,nn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Ee(this,_r,H(this,_r).filter(r=>r!==n)),this.scheduleGc(),H(this,nn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){H(this,_r).length||(this.state.status==="pending"?this.scheduleGc():H(this,nn).remove(this))}continue(){var n;return((n=H(this,qi))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,l,c,d,h,f,m,y,w,x,T,_,v,b,R,D,O,S,N;Ee(this,qi,XS({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(I,C)=>{zt(this,Er,As).call(this,{type:"failed",failureCount:I,error:C})},onPause:()=>{zt(this,Er,As).call(this,{type:"pause"})},onContinue:()=>{zt(this,Er,As).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>H(this,nn).canRun(this)}));const r=this.state.status==="pending",s=!H(this,qi).canStart();try{if(!r){zt(this,Er,As).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=H(this,nn).config).onMutate)==null?void 0:o.call(i,n,this));const C=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,n));C!==this.state.context&&zt(this,Er,As).call(this,{type:"pending",context:C,variables:n,isPaused:s})}const I=await H(this,qi).start();return await((h=(d=H(this,nn).config).onSuccess)==null?void 0:h.call(d,I,n,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,I,n,this.state.context)),await((w=(y=H(this,nn).config).onSettled)==null?void 0:w.call(y,I,null,this.state.variables,this.state.context,this)),await((T=(x=this.options).onSettled)==null?void 0:T.call(x,I,null,n,this.state.context)),zt(this,Er,As).call(this,{type:"success",data:I}),I}catch(I){try{throw await((v=(_=H(this,nn).config).onError)==null?void 0:v.call(_,I,n,this.state.context,this)),await((R=(b=this.options).onError)==null?void 0:R.call(b,I,n,this.state.context)),await((O=(D=H(this,nn).config).onSettled)==null?void 0:O.call(D,void 0,I,this.state.variables,this.state.context,this)),await((N=(S=this.options).onSettled)==null?void 0:N.call(S,void 0,I,n,this.state.context)),I}finally{zt(this,Er,As).call(this,{type:"error",error:I})}}finally{H(this,nn).runNext(this)}}},_r=new WeakMap,nn=new WeakMap,qi=new WeakMap,Er=new WeakSet,As=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),sn.batch(()=>{H(this,_r).forEach(s=>{s.onMutationUpdate(n)}),H(this,nn).notify({mutation:this,type:"updated",action:n})})},cE);function DL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Nn,Dc,uE,LL=(uE=class extends cf{constructor(e={}){super();Me(this,Nn);Me(this,Dc);this.config=e,Ee(this,Nn,new Map),Ee(this,Dc,Date.now())}build(e,n,r){const s=new jL({mutationCache:this,mutationId:++Su(this,Dc)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Ku(e),r=H(this,Nn).get(n)??[];r.push(e),H(this,Nn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Ku(e);if(H(this,Nn).has(n)){const s=(r=H(this,Nn).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?H(this,Nn).delete(n):H(this,Nn).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=H(this,Nn).get(Ku(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=H(this,Nn).get(Ku(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){sn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...H(this,Nn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Xw(n,r))}findAll(e={}){return this.getAll().filter(n=>Xw(e,n))}notify(e){sn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return sn.batch(()=>Promise.all(e.map(n=>n.continue().catch(nr))))}},Nn=new WeakMap,Dc=new WeakMap,uE);function Ku(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function e_(t){return{onFetch:(e,n)=>{var h,f,m,y,w;const r=e.options,s=(m=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((y=e.state.data)==null?void 0:y.pages)||[],o=((w=e.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let x=!1;const T=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},_=KS(e.options,e.fetchOptions),v=async(b,R,D)=>{if(x)return Promise.reject();if(R==null&&b.pages.length)return Promise.resolve(b);const O={queryKey:e.queryKey,pageParam:R,direction:D?"backward":"forward",meta:e.options.meta};T(O);const S=await _(O),{maxPages:N}=e.options,I=D?bL:EL;return{pages:I(b.pages,S,N),pageParams:I(b.pageParams,R,N)}};if(s&&i.length){const b=s==="backward",R=b?OL:t_,D={pages:i,pageParams:o},O=R(r,D);l=await v(D,O,b)}else{const b=t??i.length;do{const R=c===0?o[0]??r.initialPageParam:t_(r,l);if(c>0&&R==null)break;l=await v(l,R),c++}while(c<b)}return l};e.options.persister?e.fetchFn=()=>{var x,T;return(T=(x=e.options).persister)==null?void 0:T.call(x,d,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=d}}}function t_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function OL(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var ut,Us,$s,la,ca,Bs,ua,da,dE,ML=(dE=class{constructor(t={}){Me(this,ut);Me(this,Us);Me(this,$s);Me(this,la);Me(this,ca);Me(this,Bs);Me(this,ua);Me(this,da);Ee(this,ut,t.queryCache||new kL),Ee(this,Us,t.mutationCache||new LL),Ee(this,$s,t.defaultOptions||{}),Ee(this,la,new Map),Ee(this,ca,new Map),Ee(this,Bs,0)}mount(){Su(this,Bs)._++,H(this,Bs)===1&&(Ee(this,ua,GS.subscribe(async t=>{t&&(await this.resumePausedMutations(),H(this,ut).onFocus())})),Ee(this,da,lh.subscribe(async t=>{t&&(await this.resumePausedMutations(),H(this,ut).onOnline())})))}unmount(){var t,e;Su(this,Bs)._--,H(this,Bs)===0&&((t=H(this,ua))==null||t.call(this),Ee(this,ua,void 0),(e=H(this,da))==null||e.call(this),Ee(this,da,void 0))}isFetching(t){return H(this,ut).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return H(this,Us).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=H(this,ut).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=H(this,ut).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Qw(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return H(this,ut).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=H(this,ut).get(r.queryHash),i=s==null?void 0:s.state.data,o=gL(e,i);if(o!==void 0)return H(this,ut).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return sn.batch(()=>H(this,ut).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=H(this,ut).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=H(this,ut);sn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=H(this,ut),r={type:"active",...t};return sn.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=sn.batch(()=>H(this,ut).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(nr).catch(nr)}invalidateQueries(t={},e={}){return sn.batch(()=>{if(H(this,ut).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=sn.batch(()=>H(this,ut).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(nr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(nr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=H(this,ut).build(this,e);return n.isStaleByTime(Qw(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(nr).catch(nr)}fetchInfiniteQuery(t){return t.behavior=e_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(nr).catch(nr)}ensureInfiniteQueryData(t){return t.behavior=e_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return lh.isOnline()?H(this,Us).resumePausedMutations():Promise.resolve()}getQueryCache(){return H(this,ut)}getMutationCache(){return H(this,Us)}getDefaultOptions(){return H(this,$s)}setDefaultOptions(t){Ee(this,$s,t)}setQueryDefaults(t,e){H(this,la).set(vc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...H(this,la).values()];let n={};return e.forEach(r=>{xc(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){H(this,ca).set(vc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...H(this,ca).values()];let n={};return e.forEach(r=>{xc(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...H(this,$s).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=mv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===pv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...H(this,$s).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){H(this,ut).clear(),H(this,Us).clear()}},ut=new WeakMap,Us=new WeakMap,$s=new WeakMap,la=new WeakMap,ca=new WeakMap,Bs=new WeakMap,ua=new WeakMap,da=new WeakMap,dE),VL=g.createContext(void 0),FL=({client:t,children:e})=>(g.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(VL.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wc(){return wc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wc.apply(this,arguments)}var Ws;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ws||(Ws={}));const n_="popstate";function UL(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return vg("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ch(s)}return BL(e,n,null,t)}function bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ZS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $L(){return Math.random().toString(36).substr(2,8)}function r_(t,e){return{usr:t.state,key:t.key,idx:e}}function vg(t,e,n,r){return n===void 0&&(n=null),wc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Va(e):e,{state:n,key:e&&e.key||r||$L()})}function ch(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Va(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function BL(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=Ws.Pop,c=null,d=h();d==null&&(d=0,o.replaceState(wc({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function f(){l=Ws.Pop;let T=h(),_=T==null?null:T-d;d=T,c&&c({action:l,location:x.location,delta:_})}function m(T,_){l=Ws.Push;let v=vg(x.location,T,_);d=h()+1;let b=r_(v,d),R=x.createHref(v);try{o.pushState(b,"",R)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(R)}i&&c&&c({action:l,location:x.location,delta:1})}function y(T,_){l=Ws.Replace;let v=vg(x.location,T,_);d=h();let b=r_(v,d),R=x.createHref(v);o.replaceState(b,"",R),i&&c&&c({action:l,location:x.location,delta:0})}function w(T){let _=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof T=="string"?T:ch(T);return v=v.replace(/ $/,"%20"),bt(_,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,_)}let x={get action(){return l},get location(){return t(s,o)},listen(T){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(n_,f),c=T,()=>{s.removeEventListener(n_,f),c=null}},createHref(T){return e(s,T)},createURL:w,encodeLocation(T){let _=w(T);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:m,replace:y,go(T){return o.go(T)}};return x}var s_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(s_||(s_={}));function zL(t,e,n){return n===void 0&&(n="/"),qL(t,e,n,!1)}function qL(t,e,n,r){let s=typeof e=="string"?Va(e):e,i=gv(s.pathname||"/",n);if(i==null)return null;let o=eN(t);WL(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=nO(i);l=eO(o[c],d,r)}return l}function eN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(bt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=ni([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(bt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),eN(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:JL(d,i.index),routesMeta:h})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of tN(i.path))s(i,o,c)}),e}function tN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=tN(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function WL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ZL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const HL=/^:[\w-]+$/,KL=3,GL=2,QL=1,YL=10,XL=-2,i_=t=>t==="*";function JL(t,e){let n=t.split("/"),r=n.length;return n.some(i_)&&(r+=XL),e&&(r+=GL),n.filter(s=>!i_(s)).reduce((s,i)=>s+(HL.test(i)?KL:i===""?QL:YL),r)}function ZL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function eO(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=o_({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),m=c.route;if(!f&&d&&n&&!r[r.length-1].route.index&&(f=o_({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:ni([i,f.pathname]),pathnameBase:oO(ni([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=ni([i,f.pathnameBase]))}return o}function o_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=tO(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((d,h,f)=>{let{paramName:m,isOptional:y}=h;if(m==="*"){let x=l[f]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const w=l[f];return y&&!w?d[m]=void 0:d[m]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function tO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ZS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function nO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ZS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function gv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function rO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Va(t):t;return{pathname:n?n.startsWith("/")?n:sO(n,e):e,search:aO(r),hash:lO(s)}}function sO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function $m(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function iO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function nN(t,e){let n=iO(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function rN(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Va(t):(s=wc({},t),bt(!s.pathname||!s.pathname.includes("?"),$m("?","pathname","search",s)),bt(!s.pathname||!s.pathname.includes("#"),$m("#","pathname","hash",s)),bt(!s.search||!s.search.includes("#"),$m("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?e[f]:"/"}let c=rO(s,l),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const ni=t=>t.join("/").replace(/\/\/+/g,"/"),oO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),aO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function cO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const sN=["post","put","patch","delete"];new Set(sN);const uO=["get",...sN];new Set(uO);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _c(){return _c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_c.apply(this,arguments)}const yv=g.createContext(null),dO=g.createContext(null),po=g.createContext(null),df=g.createContext(null),bi=g.createContext({outlet:null,matches:[],isDataRoute:!1}),iN=g.createContext(null);function hO(t,e){let{relative:n}=e===void 0?{}:e;qc()||bt(!1);let{basename:r,navigator:s}=g.useContext(po),{hash:i,pathname:o,search:l}=aN(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:ni([r,o])),s.createHref({pathname:c,search:l,hash:i})}function qc(){return g.useContext(df)!=null}function Fa(){return qc()||bt(!1),g.useContext(df).location}function oN(t){g.useContext(po).static||g.useLayoutEffect(t)}function bn(){let{isDataRoute:t}=g.useContext(bi);return t?NO():fO()}function fO(){qc()||bt(!1);let t=g.useContext(yv),{basename:e,future:n,navigator:r}=g.useContext(po),{matches:s}=g.useContext(bi),{pathname:i}=Fa(),o=JSON.stringify(nN(s,n.v7_relativeSplatPath)),l=g.useRef(!1);return oN(()=>{l.current=!0}),g.useCallback(function(d,h){if(h===void 0&&(h={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let f=rN(d,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ni([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,i,t])}function mO(){let{matches:t}=g.useContext(bi),e=t[t.length-1];return e?e.params:{}}function aN(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=g.useContext(po),{matches:s}=g.useContext(bi),{pathname:i}=Fa(),o=JSON.stringify(nN(s,r.v7_relativeSplatPath));return g.useMemo(()=>rN(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function pO(t,e){return gO(t,e)}function gO(t,e,n,r){qc()||bt(!1);let{navigator:s}=g.useContext(po),{matches:i}=g.useContext(bi),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Fa(),h;if(e){var f;let T=typeof e=="string"?Va(e):e;c==="/"||(f=T.pathname)!=null&&f.startsWith(c)||bt(!1),h=T}else h=d;let m=h.pathname||"/",y=m;if(c!=="/"){let T=c.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(T.length).join("/")}let w=zL(t,{pathname:y}),x=_O(w&&w.map(T=>Object.assign({},T,{params:Object.assign({},l,T.params),pathname:ni([c,s.encodeLocation?s.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?c:ni([c,s.encodeLocation?s.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),i,n,r);return e&&x?g.createElement(df.Provider,{value:{location:_c({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ws.Pop}},x):x}function yO(){let t=SO(),e=cO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:s},n):null,null)}const vO=g.createElement(yO,null);class xO extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?g.createElement(bi.Provider,{value:this.props.routeContext},g.createElement(iN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wO(t){let{routeContext:e,match:n,children:r}=t,s=g.useContext(yv);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(bi.Provider,{value:e},r)}function _O(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let h=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);h>=0||bt(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:m,errors:y}=n,w=f.route.loader&&m[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||w){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,f,m)=>{let y,w=!1,x=null,T=null;n&&(y=l&&f.route.id?l[f.route.id]:void 0,x=f.route.errorElement||vO,c&&(d<0&&m===0?(w=!0,T=null):d===m&&(w=!0,T=f.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,m+1)),v=()=>{let b;return y?b=x:w?b=T:f.route.Component?b=g.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=h,g.createElement(wO,{match:f,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?g.createElement(xO,{location:n.location,revalidation:n.revalidation,component:x,error:y,children:v(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):v()},null)}var lN=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(lN||{}),uh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(uh||{});function EO(t){let e=g.useContext(yv);return e||bt(!1),e}function bO(t){let e=g.useContext(dO);return e||bt(!1),e}function TO(t){let e=g.useContext(bi);return e||bt(!1),e}function cN(t){let e=TO(),n=e.matches[e.matches.length-1];return n.route.id||bt(!1),n.route.id}function SO(){var t;let e=g.useContext(iN),n=bO(uh.UseRouteError),r=cN(uh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function NO(){let{router:t}=EO(lN.UseNavigateStable),e=cN(uh.UseNavigateStable),n=g.useRef(!1);return oN(()=>{n.current=!0}),g.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,_c({fromRouteId:e},i)))},[t,e])}function Sn(t){bt(!1)}function IO(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ws.Pop,navigator:i,static:o=!1,future:l}=t;qc()&&bt(!1);let c=e.replace(/^\/*/,"/"),d=g.useMemo(()=>({basename:c,navigator:i,static:o,future:_c({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=Va(r));let{pathname:h="/",search:f="",hash:m="",state:y=null,key:w="default"}=r,x=g.useMemo(()=>{let T=gv(h,c);return T==null?null:{location:{pathname:T,search:f,hash:m,state:y,key:w},navigationType:s}},[c,h,f,m,y,w,s]);return x==null?null:g.createElement(po.Provider,{value:d},g.createElement(df.Provider,{children:n,value:x}))}function CO(t){let{children:e,location:n}=t;return pO(xg(e),n)}new Promise(()=>{});function xg(t,e){e===void 0&&(e=[]);let n=[];return g.Children.forEach(t,(r,s)=>{if(!g.isValidElement(r))return;let i=[...e,s];if(r.type===g.Fragment){n.push.apply(n,xg(r.props.children,i));return}r.type!==Sn&&bt(!1),!r.props.index||!r.props.children||bt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=xg(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wg(){return wg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wg.apply(this,arguments)}function AO(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function RO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function PO(t,e){return t.button===0&&(!e||e==="_self")&&!RO(t)}const kO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],jO="6";try{window.__reactRouterVersion=jO}catch{}const DO="startTransition",a_=bE[DO];function LO(t){let{basename:e,children:n,future:r,window:s}=t,i=g.useRef();i.current==null&&(i.current=UL({window:s,v5Compat:!0}));let o=i.current,[l,c]=g.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},h=g.useCallback(f=>{d&&a_?a_(()=>c(f)):c(f)},[c,d]);return g.useLayoutEffect(()=>o.listen(h),[o,h]),g.createElement(IO,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const OO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",MO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ql=g.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:h,viewTransition:f}=e,m=AO(e,kO),{basename:y}=g.useContext(po),w,x=!1;if(typeof d=="string"&&MO.test(d)&&(w=d,OO))try{let b=new URL(window.location.href),R=d.startsWith("//")?new URL(b.protocol+d):new URL(d),D=gv(R.pathname,y);R.origin===b.origin&&D!=null?d=D+R.search+R.hash:x=!0}catch{}let T=hO(d,{relative:s}),_=VO(d,{replace:o,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:f});function v(b){r&&r(b),b.defaultPrevented||_(b)}return g.createElement("a",wg({},m,{href:w||T,onClick:x||i?r:v,ref:n,target:c}))});var l_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(l_||(l_={}));var c_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(c_||(c_={}));function VO(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,c=bn(),d=Fa(),h=aN(t,{relative:o});return g.useCallback(f=>{if(PO(f,n)){f.preventDefault();let m=r!==void 0?r:ch(d)===ch(h);c(t,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,h,r,s,n,t,i,o,l])}const FO=Zh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",golden:"bg-gradient-to-r from-gold to-gold-light text-primary-foreground hover:shadow-gold transition-all duration-300 hover:scale-105"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),K=g.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?xa:"button";return a.jsx(o,{className:Le(FO({variant:e,size:n,className:t})),ref:i,...s})});K.displayName="Button";const UO={ar:{"nav.home":"","nav.howItWorks":" ","nav.features":"","nav.contact":" ","nav.login":" ","nav.getStarted":" ","hero.title1":" ","hero.title2":" ","hero.subtitle":"       .          .","hero.startLending":" ","hero.requestLoan":" ","hero.activeUsers":" ","hero.repaymentRate":" ","hero.averageReturn":" ","hero.highReturns":" ","hero.highReturnsDesc":"     ","hero.highSecurity":" ","hero.highSecurityDesc":"   ","hero.trustedCommunity":" ","hero.trustedCommunityDesc":"    ","features.title":" ","features.subtitle":"        ","features.security":" ","features.securityDesc":"      ","features.returns":" ","features.returnsDesc":"      15% ","features.processing":" ","features.processingDesc":"    24 ","features.assessment":" ","features.assessmentDesc":"     ","features.flexibility":"  ","features.flexibilityDesc":"    ","features.transparency":" ","features.transparencyDesc":"    ","howItWorks.title":"  ","howItWorks.subtitle":"   ","howItWorks.forBorrowers":"","howItWorks.forInvestors":"","howItWorks.step1Borrower":" ","howItWorks.step1BorrowerDesc":"    ","howItWorks.step2Borrower":" ","howItWorks.step2BorrowerDesc":"     ","howItWorks.step3Borrower":"  ","howItWorks.step3BorrowerDesc":"!    24 ","howItWorks.step1Investor":" ","howItWorks.step1InvestorDesc":"    ","howItWorks.step2Investor":" ","howItWorks.step2InvestorDesc":"    ","howItWorks.step3Investor":" ","howItWorks.step3InvestorDesc":"     ","footer.description":"      .        .","footer.services":"","footer.personalLoans":" ","footer.businessLoans":" ","footer.investment":"","footer.portfolioManagement":" ","footer.company":"","footer.aboutUs":" ","footer.team":"","footer.careers":"","footer.news":"","footer.support":"","footer.helpCenter":" ","footer.faq":" ","footer.contactUs":" ","footer.privacyPolicy":" ","footer.copyright":" 2024 .   .","footer.terms":" ","footer.cookies":"  "},en:{"nav.home":"Home","nav.howItWorks":"How It Works","nav.features":"Features","nav.contact":"Contact","nav.login":"Login","nav.getStarted":"Get Started","hero.title1":"Peer-to-Peer","hero.title2":"Lending Platform","hero.subtitle":"Connect investors with borrowers in a secure and transparent environment. Get the funding you need or invest your money with attractive returns.","hero.startLending":"Start Lending","hero.requestLoan":"Request Loan","hero.activeUsers":"Active Users","hero.repaymentRate":"Repayment Rate","hero.averageReturn":"Average Return","hero.highReturns":"High Returns","hero.highReturnsDesc":"Invest smartly and get competitive returns","hero.highSecurity":"High Security","hero.highSecurityDesc":"Advanced protection for your money and information","hero.trustedCommunity":"Trusted Community","hero.trustedCommunityDesc":"Join thousands of trusted users","features.title":"Why Choose","features.subtitle":"We provide the best lending and investment experience with security and transparency guarantees","features.security":"Advanced Security","features.securityDesc":"Bank-grade encryption and comprehensive data protection","features.returns":"Attractive Returns","features.returnsDesc":"Get competitive returns up to 15% annually","features.processing":"Fast Processing","features.processingDesc":"Instant approval and transfer within 24 hours","features.assessment":"Comprehensive Assessment","features.assessmentDesc":"Advanced credit scoring system to ensure quality","features.flexibility":"Payment Flexibility","features.flexibilityDesc":"Flexible repayment plans that suit your needs","features.transparency":"Complete Transparency","features.transparencyDesc":"Full tracking of all transactions and investments","howItWorks.title":"How Does Qersheen Work?","howItWorks.subtitle":"A simple and secure process for everyone","howItWorks.forBorrowers":"For Borrowers","howItWorks.forInvestors":"For Investors","howItWorks.step1Borrower":"Submit Application","howItWorks.step1BorrowerDesc":"Complete loan application with your financial information","howItWorks.step2Borrower":"Instant Assessment","howItWorks.step2BorrowerDesc":"Our system evaluates your application and determines interest rate","howItWorks.step3Borrower":"Get Funding","howItWorks.step3BorrowerDesc":"Done! Receive your money within 24 hours","howItWorks.step1Investor":"Create Account","howItWorks.step1InvestorDesc":"Register and complete quick verification process","howItWorks.step2Investor":"Choose Investments","howItWorks.step2InvestorDesc":"Browse opportunities and select what suits you","howItWorks.step3Investor":"Earn Returns","howItWorks.step3InvestorDesc":"Monitor your investment growth and receive returns","footer.description":"The leading peer-to-peer lending platform in the region. We connect investors with borrowers in a secure and transparent environment.","footer.services":"Services","footer.personalLoans":"Personal Loans","footer.businessLoans":"Business Loans","footer.investment":"Investment","footer.portfolioManagement":"Portfolio Management","footer.company":"Company","footer.aboutUs":"About Us","footer.team":"Team","footer.careers":"Careers","footer.news":"News","footer.support":"Support","footer.helpCenter":"Help Center","footer.faq":"FAQ","footer.contactUs":"Contact Us","footer.privacyPolicy":"Privacy Policy","footer.copyright":" 2024 Qersheen. All rights reserved.","footer.terms":"Terms & Conditions","footer.cookies":"Cookies"}},uN=g.createContext(void 0),dN=({children:t})=>{const[e,n]=g.useState(()=>localStorage.getItem("preferred-language")||"ar"),r=l=>UO[e][l]||l,s=l=>{console.log(` Language changing from ${e} to ${l}`),n(l),localStorage.setItem("preferred-language",l),console.log(` Language preference saved to localStorage: ${l}`)};g.useEffect(()=>{document.documentElement.dir=e==="ar"?"rtl":"ltr",document.documentElement.lang=e,console.log(` Document updated: dir=${document.documentElement.dir}, lang=${document.documentElement.lang}`)},[e]),g.useEffect(()=>{const l=localStorage.getItem("preferred-language");console.log(` App initialization - Saved language from localStorage: ${l}`),l&&l!==e&&(console.log(` Restoring language from localStorage: ${l}`),n(l))},[]);const i=()=>{const l=localStorage.getItem("preferred-language");console.log(` Manual language restore - Saved language: ${l}`),l&&n(l)},o=()=>{const l=localStorage.getItem("preferred-language");l&&l!==e&&(console.log(" Language consistency issue detected. Attempting to fix."),n(l),localStorage.setItem("preferred-language",l),console.log(` Language preference fixed in localStorage: ${l}`))};return a.jsx(uN.Provider,{value:{language:e,setLanguage:s,t:r,restoreLanguage:i,checkLanguageConsistency:o},children:t})},Ft=()=>{const t=g.useContext(uN);if(t===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return t},$O=()=>{};var u_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},BO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},fN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,h=i>>2,f=(i&3)<<4|l>>4;let m=(l&15)<<2|d>>6,y=d&63;c||(y=64,o||(m=64)),r.push(n[h],n[f],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):BO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||d==null||f==null)throw new zO;const m=i<<2|l>>4;if(r.push(m),d!==64){const y=l<<4&240|d>>2;if(r.push(y),f!==64){const w=d<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qO=function(t){const e=hN(t);return fN.encodeByteArray(e,!0)},dh=function(t){return qO(t).replace(/\./g,"")},mN=function(t){try{return fN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO=()=>WO().__FIREBASE_DEFAULTS__,KO=()=>{if(typeof process>"u"||typeof u_>"u")return;const t=u_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},GO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mN(t[1]);return e&&JSON.parse(e)},hf=()=>{try{return $O()||HO()||KO()||GO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},pN=t=>{var e,n;return(n=(e=hf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},QO=t=>{const e=pN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},gN=()=>{var t;return(t=hf())==null?void 0:t.config},yN=t=>{var e;return(e=hf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vN(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[dh(JSON.stringify(n)),dh(JSON.stringify(o)),""].join(".")}const Wl={};function JO(){const t={prod:[],emulator:[]};for(const e of Object.keys(Wl))Wl[e]?t.emulator.push(e):t.prod.push(e);return t}function ZO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let d_=!1;function xN(t,e){if(typeof window>"u"||typeof document>"u"||!Ua(window.location.host)||Wl[t]===e||Wl[t]||d_)return;Wl[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=JO().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{d_=!0,o()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=ZO(r),y=n("text"),w=document.getElementById(y)||document.createElement("span"),x=n("learnmore"),T=document.getElementById(x)||document.createElement("a"),_=n("preprendIcon"),v=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const b=m.element;l(b),h(T,x);const R=d();c(v,_),b.append(v,w,T,R),document.body.appendChild(b)}i?(w.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function tM(){var e;const t=(e=hf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function sM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iM(){const t=en();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function oM(){return!tM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aM(){try{return typeof indexedDB=="object"}catch{return!1}}function lM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM="FirebaseError";class fs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=cM,Object.setPrototypeOf(this,fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wc.prototype.create)}}class Wc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?uM(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new fs(s,l,r)}}function uM(t,e){return t.replace(dM,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const dM=/\{\$([^}]+)}/g;function hM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function so(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(h_(i)&&h_(o)){if(!so(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function h_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Tl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Sl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function fM(t,e){const n=new mM(t,e);return n.subscribe.bind(n)}class mM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");pM(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Bm),s.error===void 0&&(s.error=Bm),s.complete===void 0&&(s.complete=Bm);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Bm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(t){return t&&t._delegate?t._delegate:t}class io{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new YO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vM(e))try{this.getOrInitializeService({instanceIdentifier:Li})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Li){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Li){return this.instances.has(e)}getOptions(e=Li){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Li){return this.component?this.component.multipleInstances?e:Li:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yM(t){return t===Li?void 0:t}function vM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const wM={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},_M=Ne.INFO,EM={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},bM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=EM[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vv{constructor(e){this.name=e,this._logLevel=_M,this._logHandler=bM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const TM=(t,e)=>e.some(n=>t instanceof n);let f_,m_;function SM(){return f_||(f_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NM(){return m_||(m_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wN=new WeakMap,_g=new WeakMap,_N=new WeakMap,zm=new WeakMap,xv=new WeakMap;function IM(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ri(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&wN.set(n,t)}).catch(()=>{}),xv.set(e,t),e}function CM(t){if(_g.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});_g.set(t,e)}let Eg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _g.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_N.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ri(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function AM(t){Eg=t(Eg)}function RM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(qm(this),e,...n);return _N.set(r,e.sort?e.sort():[e]),ri(r)}:NM().includes(t)?function(...e){return t.apply(qm(this),e),ri(wN.get(this))}:function(...e){return ri(t.apply(qm(this),e))}}function PM(t){return typeof t=="function"?RM(t):(t instanceof IDBTransaction&&CM(t),TM(t,SM())?new Proxy(t,Eg):t)}function ri(t){if(t instanceof IDBRequest)return IM(t);if(zm.has(t))return zm.get(t);const e=PM(t);return e!==t&&(zm.set(t,e),xv.set(e,t)),e}const qm=t=>xv.get(t);function kM(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=ri(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ri(o.result),c.oldVersion,c.newVersion,ri(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const jM=["get","getKey","getAll","getAllKeys","count"],DM=["put","add","delete","clear"],Wm=new Map;function p_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wm.get(e))return Wm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=DM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||jM.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),s&&c.done]))[0]};return Wm.set(e,i),i}AM(t=>({...t,get:(e,n,r)=>p_(e,n)||t.get(e,n,r),has:(e,n)=>!!p_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function OM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bg="@firebase/app",g_="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=new vv("@firebase/app"),MM="@firebase/app-compat",VM="@firebase/analytics-compat",FM="@firebase/analytics",UM="@firebase/app-check-compat",$M="@firebase/app-check",BM="@firebase/auth",zM="@firebase/auth-compat",qM="@firebase/database",WM="@firebase/data-connect",HM="@firebase/database-compat",KM="@firebase/functions",GM="@firebase/functions-compat",QM="@firebase/installations",YM="@firebase/installations-compat",XM="@firebase/messaging",JM="@firebase/messaging-compat",ZM="@firebase/performance",eV="@firebase/performance-compat",tV="@firebase/remote-config",nV="@firebase/remote-config-compat",rV="@firebase/storage",sV="@firebase/storage-compat",iV="@firebase/firestore",oV="@firebase/ai",aV="@firebase/firestore-compat",lV="firebase",cV="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg="[DEFAULT]",uV={[bg]:"fire-core",[MM]:"fire-core-compat",[FM]:"fire-analytics",[VM]:"fire-analytics-compat",[$M]:"fire-app-check",[UM]:"fire-app-check-compat",[BM]:"fire-auth",[zM]:"fire-auth-compat",[qM]:"fire-rtdb",[WM]:"fire-data-connect",[HM]:"fire-rtdb-compat",[KM]:"fire-fn",[GM]:"fire-fn-compat",[QM]:"fire-iid",[YM]:"fire-iid-compat",[XM]:"fire-fcm",[JM]:"fire-fcm-compat",[ZM]:"fire-perf",[eV]:"fire-perf-compat",[tV]:"fire-rc",[nV]:"fire-rc-compat",[rV]:"fire-gcs",[sV]:"fire-gcs-compat",[iV]:"fire-fst",[aV]:"fire-fst-compat",[oV]:"fire-vertex","fire-js":"fire-js",[lV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Map,dV=new Map,Sg=new Map;function y_(t,e){try{t.container.addComponent(e)}catch(n){ls.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ba(t){const e=t.name;if(Sg.has(e))return ls.debug(`There were multiple attempts to register component ${e}.`),!1;Sg.set(e,t);for(const n of hh.values())y_(n,t);for(const n of dV.values())y_(n,t);return!0}function wv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Rn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},si=new Wc("app","Firebase",hV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=cV;function EN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Tg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw si.create("bad-app-name",{appName:String(s)});if(n||(n=gN()),!n)throw si.create("no-options");const i=hh.get(s);if(i){if(so(n,i.options)&&so(r,i.config))return i;throw si.create("duplicate-app",{appName:s})}const o=new xM(s);for(const c of Sg.values())o.addComponent(c);const l=new fV(n,r,o);return hh.set(s,l),l}function bN(t=Tg){const e=hh.get(t);if(!e&&t===Tg&&gN())return EN();if(!e)throw si.create("no-app",{appName:t});return e}function ii(t,e,n){let r=uV[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ls.warn(o.join(" "));return}ba(new io(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV="firebase-heartbeat-database",pV=1,Ec="firebase-heartbeat-store";let Hm=null;function TN(){return Hm||(Hm=kM(mV,pV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ec)}catch(n){console.warn(n)}}}}).catch(t=>{throw si.create("idb-open",{originalErrorMessage:t.message})})),Hm}async function gV(t){try{const n=(await TN()).transaction(Ec),r=await n.objectStore(Ec).get(SN(t));return await n.done,r}catch(e){if(e instanceof fs)ls.warn(e.message);else{const n=si.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ls.warn(n.message)}}}async function v_(t,e){try{const r=(await TN()).transaction(Ec,"readwrite");await r.objectStore(Ec).put(e,SN(t)),await r.done}catch(n){if(n instanceof fs)ls.warn(n.message);else{const r=si.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ls.warn(r.message)}}}function SN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=1024,vV=30;class xV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _V(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=x_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>vV){const o=EV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ls.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=x_(),{heartbeatsToSend:r,unsentEntries:s}=wV(this._heartbeatsCache.heartbeats),i=dh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ls.warn(n),""}}}function x_(){return new Date().toISOString().substring(0,10)}function wV(t,e=yV){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),w_(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),w_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _V{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aM()?lM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return v_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return v_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function w_(t){return dh(JSON.stringify({version:2,heartbeats:t})).length}function EV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(t){ba(new io("platform-logger",e=>new LM(e),"PRIVATE")),ba(new io("heartbeat",e=>new xV(e),"PRIVATE")),ii(bg,g_,t),ii(bg,g_,"esm2020"),ii("fire-js","")}bV("");var TV="firebase",SV="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ii(TV,SV,"app");function NN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NV=NN,IN=new Wc("auth","Firebase",NN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new vv("@firebase/auth");function IV(t,...e){fh.logLevel<=Ne.WARN&&fh.warn(`Auth (${$a}): ${t}`,...e)}function wd(t,...e){fh.logLevel<=Ne.ERROR&&fh.error(`Auth (${$a}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(t,...e){throw Ev(t,...e)}function cr(t,...e){return Ev(t,...e)}function _v(t,e,n){const r={...NV(),[e]:n};return new Wc("auth","Firebase",r).create(e,{appName:t.name})}function Zr(t){return _v(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function CV(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Yn(t,"argument-error"),_v(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ev(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return IN.create(t,...e)}function de(t,e,...n){if(!t)throw Ev(e,...n)}function Yr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wd(e),new Error(e)}function cs(t,e){t||Yr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function AV(){return __()==="http:"||__()==="https:"}function __(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AV()||rM()||"connection"in navigator)?navigator.onLine:!0}function PV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n){this.shortDelay=e,this.longDelay=n,cs(n>e,"Short delay should be less than long delay!"),this.isMobile=eM()||sM()}get(){return RV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(t,e){cs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DV=new Kc(3e4,6e4);function ms(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ps(t,e,n,r,s={}){return AN(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=Hc({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...i};return nM()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Ua(t.emulatorConfig.host)&&(d.credentials="include"),CN.fetch()(await RN(t,t.config.apiHost,n,l),d)})}async function AN(t,e,n){t._canInitEmulator=!1;const r={...kV,...e};try{const s=new OV(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Gu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gu(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Gu(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Gu(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw _v(t,h,d);Yn(t,h)}}catch(s){if(s instanceof fs)throw s;Yn(t,"network-request-failed",{message:String(s)})}}async function Gc(t,e,n,r,s={}){const i=await ps(t,e,n,r,s);return"mfaPendingCredential"in i&&Yn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function RN(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?bv(t.config,s):`${t.config.apiScheme}://${s}`;return jV.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function LV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class OV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(cr(this.auth,"network-request-failed")),DV.get())})}}function Gu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=cr(t,e,r);return s.customData._tokenResponse=n,s}function E_(t){return t!==void 0&&t.enterprise!==void 0}class MV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return LV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function VV(t,e){return ps(t,"GET","/v2/recaptchaConfig",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FV(t,e){return ps(t,"POST","/v1/accounts:delete",e)}async function mh(t,e){return ps(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function UV(t,e=!1){const n=ft(t),r=await n.getIdToken(e),s=Tv(r);de(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Hl(Km(s.auth_time)),issuedAtTime:Hl(Km(s.iat)),expirationTime:Hl(Km(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Km(t){return Number(t)*1e3}function Tv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return wd("JWT malformed, contained fewer than 3 sections"),null;try{const s=mN(n);return s?JSON.parse(s):(wd("Failed to decode base64 JWT payload"),null)}catch(s){return wd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function b_(t){const e=Tv(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof fs&&$V(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function $V({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hl(this.lastLoginAt),this.creationTime=Hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ph(t){var f;const e=t.auth,n=await t.getIdToken(),r=await bc(t,mh(e,{idToken:n}));de(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?PN(s.providerUserInfo):[],o=qV(t.providerData,i),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Ig(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function zV(t){const e=ft(t);await ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qV(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function PN(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WV(t,e){const n=await AN(t,{},async()=>{const r=Hc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await RN(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&Ua(t.emulatorConfig.host)&&(c.credentials="include"),CN.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function HV(t,e){return ps(t,"POST","/v2/accounts:revokeToken",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):b_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){de(e.length!==0,"internal-error");const n=b_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await WV(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Jo;return r&&(de(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(de(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(de(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jo,this.toJSON())}_performRefresh(){return Yr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class or{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new BV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ig(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await bc(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return UV(this,e)}reload(){return zV(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new or({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ph(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rn(this.auth.app))return Promise.reject(Zr(this.auth));const e=await this.getIdToken();return await bc(this,FV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:y,providerData:w,stsTokenManager:x}=n;de(f&&x,e,"internal-error");const T=Jo.fromJSON(this.name,x);de(typeof f=="string",e,"internal-error"),Is(r,e.name),Is(s,e.name),de(typeof m=="boolean",e,"internal-error"),de(typeof y=="boolean",e,"internal-error"),Is(i,e.name),Is(o,e.name),Is(l,e.name),Is(c,e.name),Is(d,e.name),Is(h,e.name);const _=new or({uid:f,auth:e,email:s,emailVerified:m,displayName:r,isAnonymous:y,photoURL:o,phoneNumber:i,tenantId:l,stsTokenManager:T,createdAt:d,lastLoginAt:h});return w&&Array.isArray(w)&&(_.providerData=w.map(v=>({...v}))),c&&(_._redirectEventId=c),_}static async _fromIdTokenResponse(e,n,r=!1){const s=new Jo;s.updateFromServerResponse(n);const i=new or({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ph(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];de(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?PN(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new Jo;l.updateFromIdToken(r);const c=new or({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Ig(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=new Map;function Xr(t){cs(t instanceof Function,"Expected a class definition");let e=T_.get(t);return e?(cs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,T_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}kN.type="NONE";const S_=kN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(t,e,n){return`firebase:${t}:${e}:${n}`}class Zo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=_d(this.userKey,s.apiKey,i),this.fullPersistenceKey=_d("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await mh(this.auth,{idToken:e}).catch(()=>{});return n?or._fromGetAccountInfoResponse(this.auth,n,e):null}return or._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Zo(Xr(S_),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Xr(S_);const o=_d(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const h=await d._get(o);if(h){let f;if(typeof h=="string"){const m=await mh(e,{idToken:h}).catch(()=>{});if(!m)break;f=await or._fromGetAccountInfoResponse(e,m,h)}else f=or._fromJSON(e,h);d!==i&&(l=f),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Zo(i,e,r):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new Zo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ON(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VN(e))return"Blackberry";if(FN(e))return"Webos";if(DN(e))return"Safari";if((e.includes("chrome/")||LN(e))&&!e.includes("edge/"))return"Chrome";if(MN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function jN(t=en()){return/firefox\//i.test(t)}function DN(t=en()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LN(t=en()){return/crios\//i.test(t)}function ON(t=en()){return/iemobile/i.test(t)}function MN(t=en()){return/android/i.test(t)}function VN(t=en()){return/blackberry/i.test(t)}function FN(t=en()){return/webos/i.test(t)}function Sv(t=en()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function KV(t=en()){var e;return Sv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function GV(){return iM()&&document.documentMode===10}function UN(t=en()){return Sv(t)||MN(t)||FN(t)||VN(t)||/windows phone/i.test(t)||ON(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(t,e=[]){let n;switch(t){case"Browser":n=N_(en());break;case"Worker":n=`${N_(en())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$a}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const c=e(i);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YV(t,e={}){return ps(t,"GET","/v2/passwordPolicy",ms(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV=6;class JV{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??XV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new I_(this),this.idTokenSubscription=new I_(this),this.beforeStateQueue=new QV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Zo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await mh(this,{idToken:e}),r=await or._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Rn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ph(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=PV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rn(this.app))return Promise.reject(Zr(this));const n=e?ft(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rn(this.app)?Promise.reject(Zr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rn(this.app)?Promise.reject(Zr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YV(this),n=new JV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await HV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xr(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await Zo.create(this,[Xr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$N(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&IV(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function gs(t){return ft(t)}class I_{constructor(e){this.auth=e,this.observer=null,this.addObserver=fM(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ff={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function e5(t){ff=t}function BN(t){return ff.loadJS(t)}function t5(){return ff.recaptchaEnterpriseScript}function n5(){return ff.gapiScript}function r5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class s5{constructor(){this.enterprise=new i5}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class i5{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const o5="recaptcha-enterprise",zN="NO_RECAPTCHA";class a5{constructor(e){this.type=o5,this.auth=gs(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,l)=>{VV(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new MV(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(c=>{l(c)})})}function s(i,o,l){const c=window.grecaptcha;E_(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(zN)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new s5().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(l=>{if(!n&&E_(window.grecaptcha))s(l,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=t5();c.length!==0&&(c+=l),BN(c).then(()=>{s(l,i,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function C_(t,e,n,r=!1,s=!1){const i=new a5(t);let o;if(s)o=zN;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function gh(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await C_(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await C_(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(t,e){const n=wv(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(so(i,e??{}))return s;Yn(s,"already-initialized")}return n.initialize({options:e})}function c5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Xr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function u5(t,e,n){const r=gs(t);de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=qN(e),{host:o,port:l}=d5(e),c=l===null?"":`:${l}`,d={url:`${i}//${o}${c}/`},h=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){de(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),de(so(d,r.config.emulator)&&so(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Ua(o)?(vN(`${i}//${o}${c}`),xN("Auth",!0)):h5()}function qN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function d5(t){const e=qN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:A_(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:A_(o)}}}function A_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function h5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yr("not implemented")}_getIdTokenResponse(e){return Yr("not implemented")}_linkToIdToken(e,n){return Yr("not implemented")}_getReauthenticationResolver(e){return Yr("not implemented")}}async function f5(t,e){return ps(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m5(t,e){return Gc(t,"POST","/v1/accounts:signInWithPassword",ms(t,e))}async function WN(t,e){return ps(t,"POST","/v1/accounts:sendOobCode",ms(t,e))}async function p5(t,e){return WN(t,e)}async function g5(t,e){return WN(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y5(t,e){return Gc(t,"POST","/v1/accounts:signInWithEmailLink",ms(t,e))}async function v5(t,e){return Gc(t,"POST","/v1/accounts:signInWithEmailLink",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends Nv{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Tc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Tc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gh(e,n,"signInWithPassword",m5);case"emailLink":return y5(e,{email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gh(e,r,"signUpPassword",f5);case"emailLink":return v5(e,{idToken:n,email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ea(t,e){return Gc(t,"POST","/v1/accounts:signInWithIdp",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5="http://localhost";class oo extends Nv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new oo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new oo(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ea(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ea(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ea(e,n)}buildRequest(){const e={requestUri:x5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Hc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _5(t){const e=Tl(Sl(t)).link,n=e?Tl(Sl(e)).deep_link_id:null,r=Tl(Sl(t)).deep_link_id;return(r?Tl(Sl(r)).link:null)||r||n||e||t}class Iv{constructor(e){const n=Tl(Sl(e)),r=n.apiKey??null,s=n.oobCode??null,i=w5(n.mode??null);de(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=_5(e);try{return new Iv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(){this.providerId=Ba.PROVIDER_ID}static credential(e,n){return Tc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Iv.parseLink(n);return de(r,"argument-error"),Tc._fromEmailAndCode(e,r.code,r.tenantId)}}Ba.PROVIDER_ID="password";Ba.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ba.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc extends Cv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends Qc{constructor(){super("facebook.com")}static credential(e){return oo._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ls.credential(e.oauthAccessToken)}catch{return null}}}Ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ls.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends Qc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return oo._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Kr.credential(n,r)}catch{return null}}}Kr.GOOGLE_SIGN_IN_METHOD="google.com";Kr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends Qc{constructor(){super("github.com")}static credential(e){return oo._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Os.credential(e.oauthAccessToken)}catch{return null}}}Os.GITHUB_SIGN_IN_METHOD="github.com";Os.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends Qc{constructor(){super("twitter.com")}static credential(e,n){return oo._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ms.credential(n,r)}catch{return null}}}Ms.TWITTER_SIGN_IN_METHOD="twitter.com";Ms.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E5(t,e){return Gc(t,"POST","/v1/accounts:signUp",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await or._fromIdTokenResponse(e,r,s),o=R_(r);return new ao({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=R_(r);return new ao({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function R_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh extends fs{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,yh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new yh(e,n,r,s)}}function HN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?yh._fromErrorAndOperation(t,i,e,r):i})}async function b5(t,e,n=!1){const r=await bc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ao._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T5(t,e,n=!1){const{auth:r}=t;if(Rn(r.app))return Promise.reject(Zr(r));const s="reauthenticate";try{const i=await bc(t,HN(r,s,e,t),n);de(i.idToken,r,"internal-error");const o=Tv(i.idToken);de(o,r,"internal-error");const{sub:l}=o;return de(t.uid===l,r,"user-mismatch"),ao._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Yn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(t,e,n=!1){if(Rn(t.app))return Promise.reject(Zr(t));const r="signIn",s=await HN(t,r,e),i=await ao._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function S5(t,e){return KN(gs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(t){const e=gs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function N5(t,e,n){const r=gs(t);await gh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",g5)}async function I5(t,e,n){if(Rn(t.app))return Promise.reject(Zr(t));const r=gs(t),o=await gh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",E5).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&GN(t),c}),l=await ao._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function C5(t,e,n){return Rn(t.app)?Promise.reject(Zr(t)):S5(ft(t),Ba.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&GN(t),r})}async function P_(t,e){const n=ft(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:i}=await p5(n.auth,s);i!==t.email&&await t.reload()}function A5(t,e,n,r){return ft(t).onIdTokenChanged(e,n,r)}function R5(t,e,n){return ft(t).beforeAuthStateChanged(e,n)}function P5(t,e,n,r){return ft(t).onAuthStateChanged(e,n,r)}function k5(t){return ft(t).signOut()}const vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vh,"1"),this.storage.removeItem(vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5=1e3,D5=10;class YN extends QN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);GV()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,D5):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},j5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}YN.type="LOCAL";const L5=YN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN extends QN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}XN.type="SESSION";const JN=XN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new mf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async d=>d(n.origin,i)),c=await O5(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const d=Av("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(m.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(){return window}function V5(t){Ar().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(){return typeof Ar().WorkerGlobalScope<"u"&&typeof Ar().importScripts=="function"}async function F5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function U5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function $5(){return ZN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="firebaseLocalStorageDb",B5=1,xh="firebaseLocalStorage",tI="fbase_key";class Yc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pf(t,e){return t.transaction([xh],e?"readwrite":"readonly").objectStore(xh)}function z5(){const t=indexedDB.deleteDatabase(eI);return new Yc(t).toPromise()}function Cg(){const t=indexedDB.open(eI,B5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(xh,{keyPath:tI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(xh)?e(r):(r.close(),await z5(),e(await Cg()))})})}async function k_(t,e,n){const r=pf(t,!0).put({[tI]:e,value:n});return new Yc(r).toPromise()}async function q5(t,e){const n=pf(t,!1).get(e),r=await new Yc(n).toPromise();return r===void 0?null:r.value}function j_(t,e){const n=pf(t,!0).delete(e);return new Yc(n).toPromise()}const W5=800,H5=3;class nI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>H5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mf._getInstance($5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await F5(),!this.activeServiceWorker)return;this.sender=new M5(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||U5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cg();return await k_(e,vh,"1"),await j_(e,vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>k_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>q5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>j_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=pf(s,!1).getAll();return new Yc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),W5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nI.type="LOCAL";const K5=nI;new Kc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(t,e){return e?Xr(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv extends Nv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ea(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ea(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ea(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function G5(t){return KN(t.auth,new Rv(t),t.bypassAuthState)}function Q5(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),T5(n,new Rv(t),t.bypassAuthState)}async function Y5(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),b5(n,new Rv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return G5;case"linkViaPopup":case"linkViaRedirect":return Y5;case"reauthViaPopup":case"reauthViaRedirect":return Q5;default:Yn(this.auth,"internal-error")}}resolve(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5=new Kc(2e3,1e4);async function J5(t,e,n){if(Rn(t.app))return Promise.reject(cr(t,"operation-not-supported-in-this-environment"));const r=gs(t);CV(t,e,Cv);const s=rI(r,n);return new Fi(r,"signInViaPopup",e,s).executeNotNull()}class Fi extends sI{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Fi.currentPopupAction&&Fi.currentPopupAction.cancel(),Fi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){cs(this.filter.length===1,"Popup operations only handle one event");const e=Av();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,X5.get())};e()}}Fi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5="pendingRedirect",Ed=new Map;class e3 extends sI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ed.get(this.auth._key());if(!e){try{const r=await t3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ed.set(this.auth._key(),e)}return this.bypassAuthState||Ed.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function t3(t,e){const n=s3(e),r=r3(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function n3(t,e){Ed.set(t._key(),e)}function r3(t){return Xr(t._redirectPersistence)}function s3(t){return _d(Z5,t.config.apiKey,t.name)}async function i3(t,e,n=!1){if(Rn(t.app))return Promise.reject(Zr(t));const r=gs(t),s=rI(r,e),o=await new e3(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=10*60*1e3;class a3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!l3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!iI(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(cr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=o3&&this.cachedEventUids.clear(),this.cachedEventUids.has(D_(e))}saveEventToCache(e){this.cachedEventUids.add(D_(e)),this.lastProcessedEventTime=Date.now()}}function D_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function iI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function l3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c3(t,e={}){return ps(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,d3=/^https?/;async function h3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await c3(t);for(const n of e)try{if(f3(n))return}catch{}Yn(t,"unauthorized-domain")}function f3(t){const e=Ng(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!d3.test(n))return!1;if(u3.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=new Kc(3e4,6e4);function L_(){const t=Ar().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function p3(t){return new Promise((e,n)=>{var s,i,o;function r(){L_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{L_(),n(cr(t,"network-request-failed"))},timeout:m3.get()})}if((i=(s=Ar().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Ar().gapi)!=null&&o.load)r();else{const l=r5("iframefcb");return Ar()[l]=()=>{gapi.load?r():n(cr(t,"network-request-failed"))},BN(`${n5()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw bd=null,e})}let bd=null;function g3(t){return bd=bd||p3(t),bd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3=new Kc(5e3,15e3),v3="__/auth/iframe",x3="emulator/auth/iframe",w3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function E3(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?bv(e,x3):`https://${t.config.authDomain}/${v3}`,r={apiKey:e.apiKey,appName:t.name,v:$a},s=_3.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Hc(r).slice(1)}`}async function b3(t){const e=await g3(t),n=Ar().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:E3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:w3,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=cr(t,"network-request-failed"),l=Ar().setTimeout(()=>{i(o)},y3.get());function c(){Ar().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},S3=500,N3=600,I3="_blank",C3="http://localhost";class O_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function A3(t,e,n,r=S3,s=N3){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...T3,width:r.toString(),height:s.toString(),top:i,left:o},d=en().toLowerCase();n&&(l=LN(d)?I3:n),jN(d)&&(e=e||C3,c.scrollbars="yes");const h=Object.entries(c).reduce((m,[y,w])=>`${m}${y}=${w},`,"");if(KV(d)&&l!=="_self")return R3(e||"",l),new O_(null);const f=window.open(e||"",l,h);de(f,t,"popup-blocked");try{f.focus()}catch{}return new O_(f)}function R3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3="__/auth/handler",k3="emulator/auth/handler",j3=encodeURIComponent("fac");async function M_(t,e,n,r,s,i){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$a,eventId:s};if(e instanceof Cv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",hM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Qc){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),d=c?`#${j3}=${encodeURIComponent(c)}`:"";return`${D3(t)}?${Hc(l).slice(1)}${d}`}function D3({config:t}){return t.emulator?bv(t,k3):`https://${t.authDomain}/${P3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="webStorageSupport";class L3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JN,this._completeRedirectFn=i3,this._overrideRedirectResult=n3}async _openPopup(e,n,r,s){var o;cs((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await M_(e,n,r,Ng(),s);return A3(e,i,Av())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await M_(e,n,r,Ng(),s);return V5(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(cs(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await b3(e),r=new a3(e);return n.register("authEvent",s=>(de(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gm,{type:Gm},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Gm];i!==void 0&&n(!!i),Yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=h3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return UN()||DN()||Sv()}}const O3=L3;var V_="@firebase/auth",F_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function F3(t){ba(new io("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;de(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$N(t)},d=new ZV(r,s,i,c);return c5(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ba(new io("auth-internal",e=>{const n=gs(e.getProvider("auth").getImmediate());return(r=>new M3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ii(V_,F_,V3(t)),ii(V_,F_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3=5*60,$3=yN("authIdTokenMaxAge")||U3;let U_=null;const B3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$3)return;const s=n==null?void 0:n.token;U_!==s&&(U_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function z3(t=bN()){const e=wv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=l5(t,{popupRedirectResolver:O3,persistence:[K5,L5,JN]}),r=yN("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=B3(i.toString());R5(n,o,()=>o(n.currentUser)),A5(n,l=>o(l))}}const s=pN("auth");return s&&u5(n,`http://${s}`),n}function q3(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}e5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=cr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",q3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});F3("Browser");var $_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oi,oI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,N){function I(){}I.prototype=N.prototype,S.D=N.prototype,S.prototype=new I,S.prototype.constructor=S,S.C=function(C,j,A){for(var k=Array(arguments.length-2),q=2;q<arguments.length;q++)k[q-2]=arguments[q];return N.prototype[j].apply(C,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,N,I){I||(I=0);var C=Array(16);if(typeof N=="string")for(var j=0;16>j;++j)C[j]=N.charCodeAt(I++)|N.charCodeAt(I++)<<8|N.charCodeAt(I++)<<16|N.charCodeAt(I++)<<24;else for(j=0;16>j;++j)C[j]=N[I++]|N[I++]<<8|N[I++]<<16|N[I++]<<24;N=S.g[0],I=S.g[1],j=S.g[2];var A=S.g[3],k=N+(A^I&(j^A))+C[0]+3614090360&4294967295;N=I+(k<<7&4294967295|k>>>25),k=A+(j^N&(I^j))+C[1]+3905402710&4294967295,A=N+(k<<12&4294967295|k>>>20),k=j+(I^A&(N^I))+C[2]+606105819&4294967295,j=A+(k<<17&4294967295|k>>>15),k=I+(N^j&(A^N))+C[3]+3250441966&4294967295,I=j+(k<<22&4294967295|k>>>10),k=N+(A^I&(j^A))+C[4]+4118548399&4294967295,N=I+(k<<7&4294967295|k>>>25),k=A+(j^N&(I^j))+C[5]+1200080426&4294967295,A=N+(k<<12&4294967295|k>>>20),k=j+(I^A&(N^I))+C[6]+2821735955&4294967295,j=A+(k<<17&4294967295|k>>>15),k=I+(N^j&(A^N))+C[7]+4249261313&4294967295,I=j+(k<<22&4294967295|k>>>10),k=N+(A^I&(j^A))+C[8]+1770035416&4294967295,N=I+(k<<7&4294967295|k>>>25),k=A+(j^N&(I^j))+C[9]+2336552879&4294967295,A=N+(k<<12&4294967295|k>>>20),k=j+(I^A&(N^I))+C[10]+4294925233&4294967295,j=A+(k<<17&4294967295|k>>>15),k=I+(N^j&(A^N))+C[11]+2304563134&4294967295,I=j+(k<<22&4294967295|k>>>10),k=N+(A^I&(j^A))+C[12]+1804603682&4294967295,N=I+(k<<7&4294967295|k>>>25),k=A+(j^N&(I^j))+C[13]+4254626195&4294967295,A=N+(k<<12&4294967295|k>>>20),k=j+(I^A&(N^I))+C[14]+2792965006&4294967295,j=A+(k<<17&4294967295|k>>>15),k=I+(N^j&(A^N))+C[15]+1236535329&4294967295,I=j+(k<<22&4294967295|k>>>10),k=N+(j^A&(I^j))+C[1]+4129170786&4294967295,N=I+(k<<5&4294967295|k>>>27),k=A+(I^j&(N^I))+C[6]+3225465664&4294967295,A=N+(k<<9&4294967295|k>>>23),k=j+(N^I&(A^N))+C[11]+643717713&4294967295,j=A+(k<<14&4294967295|k>>>18),k=I+(A^N&(j^A))+C[0]+3921069994&4294967295,I=j+(k<<20&4294967295|k>>>12),k=N+(j^A&(I^j))+C[5]+3593408605&4294967295,N=I+(k<<5&4294967295|k>>>27),k=A+(I^j&(N^I))+C[10]+38016083&4294967295,A=N+(k<<9&4294967295|k>>>23),k=j+(N^I&(A^N))+C[15]+3634488961&4294967295,j=A+(k<<14&4294967295|k>>>18),k=I+(A^N&(j^A))+C[4]+3889429448&4294967295,I=j+(k<<20&4294967295|k>>>12),k=N+(j^A&(I^j))+C[9]+568446438&4294967295,N=I+(k<<5&4294967295|k>>>27),k=A+(I^j&(N^I))+C[14]+3275163606&4294967295,A=N+(k<<9&4294967295|k>>>23),k=j+(N^I&(A^N))+C[3]+4107603335&4294967295,j=A+(k<<14&4294967295|k>>>18),k=I+(A^N&(j^A))+C[8]+1163531501&4294967295,I=j+(k<<20&4294967295|k>>>12),k=N+(j^A&(I^j))+C[13]+2850285829&4294967295,N=I+(k<<5&4294967295|k>>>27),k=A+(I^j&(N^I))+C[2]+4243563512&4294967295,A=N+(k<<9&4294967295|k>>>23),k=j+(N^I&(A^N))+C[7]+1735328473&4294967295,j=A+(k<<14&4294967295|k>>>18),k=I+(A^N&(j^A))+C[12]+2368359562&4294967295,I=j+(k<<20&4294967295|k>>>12),k=N+(I^j^A)+C[5]+4294588738&4294967295,N=I+(k<<4&4294967295|k>>>28),k=A+(N^I^j)+C[8]+2272392833&4294967295,A=N+(k<<11&4294967295|k>>>21),k=j+(A^N^I)+C[11]+1839030562&4294967295,j=A+(k<<16&4294967295|k>>>16),k=I+(j^A^N)+C[14]+4259657740&4294967295,I=j+(k<<23&4294967295|k>>>9),k=N+(I^j^A)+C[1]+2763975236&4294967295,N=I+(k<<4&4294967295|k>>>28),k=A+(N^I^j)+C[4]+1272893353&4294967295,A=N+(k<<11&4294967295|k>>>21),k=j+(A^N^I)+C[7]+4139469664&4294967295,j=A+(k<<16&4294967295|k>>>16),k=I+(j^A^N)+C[10]+3200236656&4294967295,I=j+(k<<23&4294967295|k>>>9),k=N+(I^j^A)+C[13]+681279174&4294967295,N=I+(k<<4&4294967295|k>>>28),k=A+(N^I^j)+C[0]+3936430074&4294967295,A=N+(k<<11&4294967295|k>>>21),k=j+(A^N^I)+C[3]+3572445317&4294967295,j=A+(k<<16&4294967295|k>>>16),k=I+(j^A^N)+C[6]+76029189&4294967295,I=j+(k<<23&4294967295|k>>>9),k=N+(I^j^A)+C[9]+3654602809&4294967295,N=I+(k<<4&4294967295|k>>>28),k=A+(N^I^j)+C[12]+3873151461&4294967295,A=N+(k<<11&4294967295|k>>>21),k=j+(A^N^I)+C[15]+530742520&4294967295,j=A+(k<<16&4294967295|k>>>16),k=I+(j^A^N)+C[2]+3299628645&4294967295,I=j+(k<<23&4294967295|k>>>9),k=N+(j^(I|~A))+C[0]+4096336452&4294967295,N=I+(k<<6&4294967295|k>>>26),k=A+(I^(N|~j))+C[7]+1126891415&4294967295,A=N+(k<<10&4294967295|k>>>22),k=j+(N^(A|~I))+C[14]+2878612391&4294967295,j=A+(k<<15&4294967295|k>>>17),k=I+(A^(j|~N))+C[5]+4237533241&4294967295,I=j+(k<<21&4294967295|k>>>11),k=N+(j^(I|~A))+C[12]+1700485571&4294967295,N=I+(k<<6&4294967295|k>>>26),k=A+(I^(N|~j))+C[3]+2399980690&4294967295,A=N+(k<<10&4294967295|k>>>22),k=j+(N^(A|~I))+C[10]+4293915773&4294967295,j=A+(k<<15&4294967295|k>>>17),k=I+(A^(j|~N))+C[1]+2240044497&4294967295,I=j+(k<<21&4294967295|k>>>11),k=N+(j^(I|~A))+C[8]+1873313359&4294967295,N=I+(k<<6&4294967295|k>>>26),k=A+(I^(N|~j))+C[15]+4264355552&4294967295,A=N+(k<<10&4294967295|k>>>22),k=j+(N^(A|~I))+C[6]+2734768916&4294967295,j=A+(k<<15&4294967295|k>>>17),k=I+(A^(j|~N))+C[13]+1309151649&4294967295,I=j+(k<<21&4294967295|k>>>11),k=N+(j^(I|~A))+C[4]+4149444226&4294967295,N=I+(k<<6&4294967295|k>>>26),k=A+(I^(N|~j))+C[11]+3174756917&4294967295,A=N+(k<<10&4294967295|k>>>22),k=j+(N^(A|~I))+C[2]+718787259&4294967295,j=A+(k<<15&4294967295|k>>>17),k=I+(A^(j|~N))+C[9]+3951481745&4294967295,S.g[0]=S.g[0]+N&4294967295,S.g[1]=S.g[1]+(j+(k<<21&4294967295|k>>>11))&4294967295,S.g[2]=S.g[2]+j&4294967295,S.g[3]=S.g[3]+A&4294967295}r.prototype.u=function(S,N){N===void 0&&(N=S.length);for(var I=N-this.blockSize,C=this.B,j=this.h,A=0;A<N;){if(j==0)for(;A<=I;)s(this,S,A),A+=this.blockSize;if(typeof S=="string"){for(;A<N;)if(C[j++]=S.charCodeAt(A++),j==this.blockSize){s(this,C),j=0;break}}else for(;A<N;)if(C[j++]=S[A++],j==this.blockSize){s(this,C),j=0;break}}this.h=j,this.o+=N},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var N=1;N<S.length-8;++N)S[N]=0;var I=8*this.o;for(N=S.length-8;N<S.length;++N)S[N]=I&255,I/=256;for(this.u(S),S=Array(16),N=I=0;4>N;++N)for(var C=0;32>C;C+=8)S[I++]=this.g[N]>>>C&255;return S};function i(S,N){var I=l;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=N(S)}function o(S,N){this.h=N;for(var I=[],C=!0,j=S.length-1;0<=j;j--){var A=S[j]|0;C&&A==N||(I[j]=A,C=!1)}this.g=I}var l={};function c(S){return-128<=S&&128>S?i(S,function(N){return new o([N|0],0>N?-1:0)}):new o([S|0],0>S?-1:0)}function d(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return T(d(-S));for(var N=[],I=1,C=0;S>=I;C++)N[C]=S/I|0,I*=4294967296;return new o(N,0)}function h(S,N){if(S.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(S.charAt(0)=="-")return T(h(S.substring(1),N));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=d(Math.pow(N,8)),C=f,j=0;j<S.length;j+=8){var A=Math.min(8,S.length-j),k=parseInt(S.substring(j,j+A),N);8>A?(A=d(Math.pow(N,A)),C=C.j(A).add(d(k))):(C=C.j(I),C=C.add(d(k)))}return C}var f=c(0),m=c(1),y=c(16777216);t=o.prototype,t.m=function(){if(x(this))return-T(this).m();for(var S=0,N=1,I=0;I<this.g.length;I++){var C=this.i(I);S+=(0<=C?C:4294967296+C)*N,N*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(w(this))return"0";if(x(this))return"-"+T(this).toString(S);for(var N=d(Math.pow(S,6)),I=this,C="";;){var j=R(I,N).g;I=_(I,j.j(N));var A=((0<I.g.length?I.g[0]:I.h)>>>0).toString(S);if(I=j,w(I))return A+C;for(;6>A.length;)A="0"+A;C=A+C}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function w(S){if(S.h!=0)return!1;for(var N=0;N<S.g.length;N++)if(S.g[N]!=0)return!1;return!0}function x(S){return S.h==-1}t.l=function(S){return S=_(this,S),x(S)?-1:w(S)?0:1};function T(S){for(var N=S.g.length,I=[],C=0;C<N;C++)I[C]=~S.g[C];return new o(I,~S.h).add(m)}t.abs=function(){return x(this)?T(this):this},t.add=function(S){for(var N=Math.max(this.g.length,S.g.length),I=[],C=0,j=0;j<=N;j++){var A=C+(this.i(j)&65535)+(S.i(j)&65535),k=(A>>>16)+(this.i(j)>>>16)+(S.i(j)>>>16);C=k>>>16,A&=65535,k&=65535,I[j]=k<<16|A}return new o(I,I[I.length-1]&-2147483648?-1:0)};function _(S,N){return S.add(T(N))}t.j=function(S){if(w(this)||w(S))return f;if(x(this))return x(S)?T(this).j(T(S)):T(T(this).j(S));if(x(S))return T(this.j(T(S)));if(0>this.l(y)&&0>S.l(y))return d(this.m()*S.m());for(var N=this.g.length+S.g.length,I=[],C=0;C<2*N;C++)I[C]=0;for(C=0;C<this.g.length;C++)for(var j=0;j<S.g.length;j++){var A=this.i(C)>>>16,k=this.i(C)&65535,q=S.i(j)>>>16,U=S.i(j)&65535;I[2*C+2*j]+=k*U,v(I,2*C+2*j),I[2*C+2*j+1]+=A*U,v(I,2*C+2*j+1),I[2*C+2*j+1]+=k*q,v(I,2*C+2*j+1),I[2*C+2*j+2]+=A*q,v(I,2*C+2*j+2)}for(C=0;C<N;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=N;C<2*N;C++)I[C]=0;return new o(I,0)};function v(S,N){for(;(S[N]&65535)!=S[N];)S[N+1]+=S[N]>>>16,S[N]&=65535,N++}function b(S,N){this.g=S,this.h=N}function R(S,N){if(w(N))throw Error("division by zero");if(w(S))return new b(f,f);if(x(S))return N=R(T(S),N),new b(T(N.g),T(N.h));if(x(N))return N=R(S,T(N)),new b(T(N.g),N.h);if(30<S.g.length){if(x(S)||x(N))throw Error("slowDivide_ only works with positive integers.");for(var I=m,C=N;0>=C.l(S);)I=D(I),C=D(C);var j=O(I,1),A=O(C,1);for(C=O(C,2),I=O(I,2);!w(C);){var k=A.add(C);0>=k.l(S)&&(j=j.add(I),A=k),C=O(C,1),I=O(I,1)}return N=_(S,j.j(N)),new b(j,N)}for(j=f;0<=S.l(N);){for(I=Math.max(1,Math.floor(S.m()/N.m())),C=Math.ceil(Math.log(I)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),A=d(I),k=A.j(N);x(k)||0<k.l(S);)I-=C,A=d(I),k=A.j(N);w(A)&&(A=m),j=j.add(A),S=_(S,k)}return new b(j,S)}t.A=function(S){return R(this,S).h},t.and=function(S){for(var N=Math.max(this.g.length,S.g.length),I=[],C=0;C<N;C++)I[C]=this.i(C)&S.i(C);return new o(I,this.h&S.h)},t.or=function(S){for(var N=Math.max(this.g.length,S.g.length),I=[],C=0;C<N;C++)I[C]=this.i(C)|S.i(C);return new o(I,this.h|S.h)},t.xor=function(S){for(var N=Math.max(this.g.length,S.g.length),I=[],C=0;C<N;C++)I[C]=this.i(C)^S.i(C);return new o(I,this.h^S.h)};function D(S){for(var N=S.g.length+1,I=[],C=0;C<N;C++)I[C]=S.i(C)<<1|S.i(C-1)>>>31;return new o(I,S.h)}function O(S,N){var I=N>>5;N%=32;for(var C=S.g.length-I,j=[],A=0;A<C;A++)j[A]=0<N?S.i(A+I)>>>N|S.i(A+I+1)<<32-N:S.i(A+I);return new o(j,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,oI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,oi=o}).apply(typeof $_<"u"?$_:typeof self<"u"?self:typeof window<"u"?window:{});var Qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aI,Nl,lI,Td,Ag,cI,uI,dI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,E){return u==Array.prototype||u==Object.prototype||(u[p]=E.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qu=="object"&&Qu];for(var p=0;p<u.length;++p){var E=u[p];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(u,p){if(p)e:{var E=r;u=u.split(".");for(var P=0;P<u.length-1;P++){var M=u[P];if(!(M in E))break e;E=E[M]}u=u[u.length-1],P=E[u],p=p(P),p!=P&&p!=null&&e(E,u,{configurable:!0,writable:!0,value:p})}}function i(u,p){u instanceof String&&(u+="");var E=0,P=!1,M={next:function(){if(!P&&E<u.length){var F=E++;return{value:p(F,u[F]),done:!1}}return P=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(u){return u||function(){return i(this,function(p,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function d(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function h(u,p,E){return u.call.apply(u.bind,arguments)}function f(u,p,E){if(!u)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,P),u.apply(p,M)}}return function(){return u.apply(p,arguments)}}function m(u,p,E){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,m.apply(null,arguments)}function y(u,p){var E=Array.prototype.slice.call(arguments,1);return function(){var P=E.slice();return P.push.apply(P,arguments),u.apply(this,P)}}function w(u,p){function E(){}E.prototype=p.prototype,u.aa=p.prototype,u.prototype=new E,u.prototype.constructor=u,u.Qb=function(P,M,F){for(var X=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)X[Be-2]=arguments[Be];return p.prototype[M].apply(P,X)}}function x(u){const p=u.length;if(0<p){const E=Array(p);for(let P=0;P<p;P++)E[P]=u[P];return E}return[]}function T(u,p){for(let E=1;E<arguments.length;E++){const P=arguments[E];if(c(P)){const M=u.length||0,F=P.length||0;u.length=M+F;for(let X=0;X<F;X++)u[M+X]=P[X]}else u.push(P)}}class _{constructor(p,E){this.i=p,this.j=E,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function v(u){return/^[\s\xa0]*$/.test(u)}function b(){var u=l.navigator;return u&&(u=u.userAgent)?u:""}function R(u){return R[" "](u),u}R[" "]=function(){};var D=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function O(u,p,E){for(const P in u)p.call(E,u[P],P,u)}function S(u,p){for(const E in u)p.call(void 0,u[E],E,u)}function N(u){const p={};for(const E in u)p[E]=u[E];return p}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(u,p){let E,P;for(let M=1;M<arguments.length;M++){P=arguments[M];for(E in P)u[E]=P[E];for(let F=0;F<I.length;F++)E=I[F],Object.prototype.hasOwnProperty.call(P,E)&&(u[E]=P[E])}}function j(u){var p=1;u=u.split(":");const E=[];for(;0<p&&u.length;)E.push(u.shift()),p--;return u.length&&E.push(u.join(":")),E}function A(u){l.setTimeout(()=>{throw u},0)}function k(){var u=B;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class q{constructor(){this.h=this.g=null}add(p,E){const P=U.get();P.set(p,E),this.h?this.h.next=P:this.g=P,this.h=P}}var U=new _(()=>new $,u=>u.reset());class ${constructor(){this.next=this.g=this.h=null}set(p,E){this.h=p,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,L=!1,B=new q,Y=()=>{const u=l.Promise.resolve(void 0);Z=()=>{u.then(Q)}};var Q=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(E){A(E)}var p=U;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}L=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var V=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};l.addEventListener("test",E,p),l.removeEventListener("test",E,p)}catch{}return u}();function ce(u,p){if(oe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var E=this.type=u.type,P=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(D){e:{try{R(p.nodeName);var M=!0;break e}catch{}M=!1}M||(p=null)}}else E=="mouseover"?p=u.fromElement:E=="mouseout"&&(p=u.toElement);this.relatedTarget=p,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ie[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ce.aa.h.call(this)}}w(ce,oe);var ie={2:"touch",3:"pen",4:"mouse"};ce.prototype.h=function(){ce.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ee="closure_listenable_"+(1e6*Math.random()|0),pe=0;function je(u,p,E,P,M){this.listener=u,this.proxy=null,this.src=p,this.type=E,this.capture=!!P,this.ha=M,this.key=++pe,this.da=this.fa=!1}function ue(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function le(u){this.src=u,this.g={},this.h=0}le.prototype.add=function(u,p,E,P,M){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var X=He(u,p,P,M);return-1<X?(p=u[X],E||(p.fa=!1)):(p=new je(p,this.src,F,!!P,M),p.fa=E,u.push(p)),p};function me(u,p){var E=p.type;if(E in u.g){var P=u.g[E],M=Array.prototype.indexOf.call(P,p,void 0),F;(F=0<=M)&&Array.prototype.splice.call(P,M,1),F&&(ue(p),u.g[E].length==0&&(delete u.g[E],u.h--))}}function He(u,p,E,P){for(var M=0;M<u.length;++M){var F=u[M];if(!F.da&&F.listener==p&&F.capture==!!E&&F.ha==P)return M}return-1}var tt="closure_lm_"+(1e6*Math.random()|0),It={};function Ke(u,p,E,P,M){if(Array.isArray(p)){for(var F=0;F<p.length;F++)Ke(u,p[F],E,P,M);return null}return E=Ya(E),u&&u[ee]?u.K(p,E,d(P)?!!P.capture:!!P,M):nt(u,p,E,!1,P,M)}function nt(u,p,E,P,M,F){if(!p)throw Error("Invalid event type");var X=d(M)?!!M.capture:!!M,Be=vs(u);if(Be||(u[tt]=Be=new le(u)),E=Be.add(p,E,P,X,F),E.proxy)return E;if(P=hn(),E.proxy=P,P.src=u,P.listener=E,u.addEventListener)V||(M=X),M===void 0&&(M=!1),u.addEventListener(p.toString(),P,M);else if(u.attachEvent)u.attachEvent(lu(p.toString()),P);else if(u.addListener&&u.removeListener)u.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return E}function hn(){function u(E){return p.call(u.src,u.listener,E)}const p=qf;return u}function at(u,p,E,P,M){if(Array.isArray(p))for(var F=0;F<p.length;F++)at(u,p[F],E,P,M);else P=d(P)?!!P.capture:!!P,E=Ya(E),u&&u[ee]?(u=u.i,p=String(p).toString(),p in u.g&&(F=u.g[p],E=He(F,E,P,M),-1<E&&(ue(F[E]),Array.prototype.splice.call(F,E,1),F.length==0&&(delete u.g[p],u.h--)))):u&&(u=vs(u))&&(p=u.g[p.toString()],u=-1,p&&(u=He(p,E,P,M)),(E=-1<u?p[u]:null)&&pr(E))}function pr(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[ee])me(p.i,u);else{var E=u.type,P=u.proxy;p.removeEventListener?p.removeEventListener(E,P,u.capture):p.detachEvent?p.detachEvent(lu(E),P):p.addListener&&p.removeListener&&p.removeListener(P),(E=vs(p))?(me(E,u),E.h==0&&(E.src=null,p[tt]=null)):ue(u)}}}function lu(u){return u in It?It[u]:It[u]="on"+u}function qf(u,p){if(u.da)u=!0;else{p=new ce(p,this);var E=u.listener,P=u.ha||u.src;u.fa&&pr(u),u=E.call(P,p)}return u}function vs(u){return u=u[tt],u instanceof le?u:null}var Qa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ya(u){return typeof u=="function"?u:(u[Qa]||(u[Qa]=function(p){return u.handleEvent(p)}),u[Qa])}function yt(){ne.call(this),this.i=new le(this),this.M=this,this.F=null}w(yt,ne),yt.prototype[ee]=!0,yt.prototype.removeEventListener=function(u,p,E,P){at(this,u,p,E,P)};function lt(u,p){var E,P=u.F;if(P)for(E=[];P;P=P.F)E.push(P);if(u=u.M,P=p.type||p,typeof p=="string")p=new oe(p,u);else if(p instanceof oe)p.target=p.target||u;else{var M=p;p=new oe(P,u),C(p,M)}if(M=!0,E)for(var F=E.length-1;0<=F;F--){var X=p.g=E[F];M=Ci(X,P,!0,p)&&M}if(X=p.g=u,M=Ci(X,P,!0,p)&&M,M=Ci(X,P,!1,p)&&M,E)for(F=0;F<E.length;F++)X=p.g=E[F],M=Ci(X,P,!1,p)&&M}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var E=u.g[p],P=0;P<E.length;P++)ue(E[P]);delete u.g[p],u.h--}}this.F=null},yt.prototype.K=function(u,p,E,P){return this.i.add(String(u),p,!1,E,P)},yt.prototype.L=function(u,p,E,P){return this.i.add(String(u),p,!0,E,P)};function Ci(u,p,E,P){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var M=!0,F=0;F<p.length;++F){var X=p[F];if(X&&!X.da&&X.capture==E){var Be=X.listener,kt=X.ha||X.src;X.fa&&me(u.i,X),M=Be.call(kt,P)!==!1&&M}}return M&&!P.defaultPrevented}function Fr(u,p,E){if(typeof u=="function")E&&(u=m(u,E));else if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:l.setTimeout(u,p||0)}function Xa(u){u.g=Fr(()=>{u.g=null,u.i&&(u.i=!1,Xa(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Wf extends ne{constructor(p,E){super(),this.m=p,this.l=E,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Xa(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xs(u){ne.call(this),this.h=u,this.g={}}w(xs,ne);var Ja=[];function cu(u){O(u.g,function(p,E){this.g.hasOwnProperty(E)&&pr(p)},u),u.g={}}xs.prototype.N=function(){xs.aa.N.call(this),cu(this)},xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ai=l.JSON.stringify,gr=l.JSON.parse,Hf=class{stringify(u){return l.JSON.stringify(u,void 0)}parse(u){return l.JSON.parse(u,void 0)}};function ge(){}ge.prototype.h=null;function $e(u){return u.h||(u.h=u.i())}function Fe(){}var Ut={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fn(){oe.call(this,"d")}w(fn,oe);function ws(){oe.call(this,"c")}w(ws,oe);var Ur={},I0=null;function uu(){return I0=I0||new yt}Ur.La="serverreachability";function C0(u){oe.call(this,Ur.La,u)}w(C0,oe);function Za(u){const p=uu();lt(p,new C0(p))}Ur.STAT_EVENT="statevent";function A0(u,p){oe.call(this,Ur.STAT_EVENT,u),this.stat=p}w(A0,oe);function tn(u){const p=uu();lt(p,new A0(p,u))}Ur.Ma="timingevent";function R0(u,p){oe.call(this,Ur.Ma,u),this.size=p}w(R0,oe);function el(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){u()},p)}function tl(){this.g=!0}tl.prototype.xa=function(){this.g=!1};function AR(u,p,E,P,M,F){u.info(function(){if(u.g)if(F)for(var X="",Be=F.split("&"),kt=0;kt<Be.length;kt++){var Oe=Be[kt].split("=");if(1<Oe.length){var $t=Oe[0];Oe=Oe[1];var Bt=$t.split("_");X=2<=Bt.length&&Bt[1]=="type"?X+($t+"="+Oe+"&"):X+($t+"=redacted&")}}else X=null;else X=F;return"XMLHTTP REQ ("+P+") [attempt "+M+"]: "+p+`
`+E+`
`+X})}function RR(u,p,E,P,M,F,X){u.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+M+"]: "+p+`
`+E+`
`+F+" "+X})}function vo(u,p,E,P){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+kR(u,E)+(P?" "+P:"")})}function PR(u,p){u.info(function(){return"TIMEOUT: "+p})}tl.prototype.info=function(){};function kR(u,p){if(!u.g)return p;if(!p)return null;try{var E=JSON.parse(p);if(E){for(u=0;u<E.length;u++)if(Array.isArray(E[u])){var P=E[u];if(!(2>P.length)){var M=P[1];if(Array.isArray(M)&&!(1>M.length)){var F=M[0];if(F!="noop"&&F!="stop"&&F!="close")for(var X=1;X<M.length;X++)M[X]=""}}}}return Ai(E)}catch{return p}}var du={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},P0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kf;function hu(){}w(hu,ge),hu.prototype.g=function(){return new XMLHttpRequest},hu.prototype.i=function(){return{}},Kf=new hu;function _s(u,p,E,P){this.j=u,this.i=p,this.l=E,this.R=P||1,this.U=new xs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new k0}function k0(){this.i=null,this.g="",this.h=!1}var j0={},Gf={};function Qf(u,p,E){u.L=1,u.v=gu($r(p)),u.m=E,u.P=!0,D0(u,null)}function D0(u,p){u.F=Date.now(),fu(u),u.A=$r(u.v);var E=u.A,P=u.R;Array.isArray(P)||(P=[String(P)]),G0(E.i,"t",P),u.C=0,E=u.j.J,u.h=new k0,u.g=hx(u.j,E?p:null,!u.m),0<u.O&&(u.M=new Wf(m(u.Y,u,u.g),u.O)),p=u.U,E=u.g,P=u.ca;var M="readystatechange";Array.isArray(M)||(M&&(Ja[0]=M.toString()),M=Ja);for(var F=0;F<M.length;F++){var X=Ke(E,M[F],P||p.handleEvent,!1,p.h||p);if(!X)break;p.g[X.key]=X}p=u.H?N(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),Za(),AR(u.i,u.u,u.A,u.l,u.R,u.m)}_s.prototype.ca=function(u){u=u.target;const p=this.M;p&&Br(u)==3?p.j():this.Y(u)},_s.prototype.Y=function(u){try{if(u==this.g)e:{const Bt=Br(this.g);var p=this.g.Ba();const _o=this.g.Z();if(!(3>Bt)&&(Bt!=3||this.g&&(this.h.h||this.g.oa()||tx(this.g)))){this.J||Bt!=4||p==7||(p==8||0>=_o?Za(3):Za(2)),Yf(this);var E=this.g.Z();this.X=E;t:if(L0(this)){var P=tx(this.g);u="";var M=P.length,F=Br(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ri(this),nl(this);var X="";break t}this.h.i=new l.TextDecoder}for(p=0;p<M;p++)this.h.h=!0,u+=this.h.i.decode(P[p],{stream:!(F&&p==M-1)});P.length=0,this.h.g+=u,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=E==200,RR(this.i,this.u,this.A,this.l,this.R,Bt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,kt=this.g;if((Be=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Be)){var Oe=Be;break t}}Oe=null}if(E=Oe)vo(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xf(this,E);else{this.o=!1,this.s=3,tn(12),Ri(this),nl(this);break e}}if(this.P){E=!0;let Jn;for(;!this.J&&this.C<X.length;)if(Jn=jR(this,X),Jn==Gf){Bt==4&&(this.s=4,tn(14),E=!1),vo(this.i,this.l,null,"[Incomplete Response]");break}else if(Jn==j0){this.s=4,tn(15),vo(this.i,this.l,X,"[Invalid Chunk]"),E=!1;break}else vo(this.i,this.l,Jn,null),Xf(this,Jn);if(L0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||X.length!=0||this.h.h||(this.s=1,tn(16),E=!1),this.o=this.o&&E,!E)vo(this.i,this.l,X,"[Invalid Chunked Response]"),Ri(this),nl(this);else if(0<X.length&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.ba&&!$t.M&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),rm($t),$t.M=!0,tn(11))}}else vo(this.i,this.l,X,null),Xf(this,X);Bt==4&&Ri(this),this.o&&!this.J&&(Bt==4?lx(this.j,this):(this.o=!1,fu(this)))}else YR(this.g),E==400&&0<X.indexOf("Unknown SID")?(this.s=3,tn(12)):(this.s=0,tn(13)),Ri(this),nl(this)}}}catch{}finally{}};function L0(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function jR(u,p){var E=u.C,P=p.indexOf(`
`,E);return P==-1?Gf:(E=Number(p.substring(E,P)),isNaN(E)?j0:(P+=1,P+E>p.length?Gf:(p=p.slice(P,P+E),u.C=P+E,p)))}_s.prototype.cancel=function(){this.J=!0,Ri(this)};function fu(u){u.S=Date.now()+u.I,O0(u,u.I)}function O0(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=el(m(u.ba,u),p)}function Yf(u){u.B&&(l.clearTimeout(u.B),u.B=null)}_s.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(PR(this.i,this.A),this.L!=2&&(Za(),tn(17)),Ri(this),this.s=2,nl(this)):O0(this,this.S-u)};function nl(u){u.j.G==0||u.J||lx(u.j,u)}function Ri(u){Yf(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,cu(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Xf(u,p){try{var E=u.j;if(E.G!=0&&(E.g==u||Jf(E.h,u))){if(!u.K&&Jf(E.h,u)&&E.G==3){try{var P=E.Da.g.parse(p)}catch{P=null}if(Array.isArray(P)&&P.length==3){var M=P;if(M[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<u.F)Eu(E),wu(E);else break e;nm(E),tn(18)}}else E.za=M[1],0<E.za-E.T&&37500>M[2]&&E.F&&E.v==0&&!E.C&&(E.C=el(m(E.Za,E),6e3));if(1>=F0(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else ki(E,11)}else if((u.K||E.g==u)&&Eu(E),!v(p))for(M=E.Da.g.parse(p),p=0;p<M.length;p++){let Oe=M[p];if(E.T=Oe[0],Oe=Oe[1],E.G==2)if(Oe[0]=="c"){E.K=Oe[1],E.ia=Oe[2];const $t=Oe[3];$t!=null&&(E.la=$t,E.j.info("VER="+E.la));const Bt=Oe[4];Bt!=null&&(E.Aa=Bt,E.j.info("SVER="+E.Aa));const _o=Oe[5];_o!=null&&typeof _o=="number"&&0<_o&&(P=1.5*_o,E.L=P,E.j.info("backChannelRequestTimeoutMs_="+P)),P=E;const Jn=u.g;if(Jn){const Tu=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tu){var F=P.h;F.g||Tu.indexOf("spdy")==-1&&Tu.indexOf("quic")==-1&&Tu.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Zf(F,F.h),F.h=null))}if(P.D){const sm=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;sm&&(P.ya=sm,Ge(P.I,P.D,sm))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-u.F,E.j.info("Handshake RTT: "+E.R+"ms")),P=E;var X=u;if(P.qa=dx(P,P.J?P.ia:null,P.W),X.K){U0(P.h,X);var Be=X,kt=P.L;kt&&(Be.I=kt),Be.B&&(Yf(Be),fu(Be)),P.g=X}else ox(P);0<E.i.length&&_u(E)}else Oe[0]!="stop"&&Oe[0]!="close"||ki(E,7);else E.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?ki(E,7):tm(E):Oe[0]!="noop"&&E.l&&E.l.ta(Oe),E.v=0)}}Za(4)}catch{}}var DR=class{constructor(u,p){this.g=u,this.map=p}};function M0(u){this.l=u||10,l.PerformanceNavigationTiming?(u=l.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function V0(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function F0(u){return u.h?1:u.g?u.g.size:0}function Jf(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Zf(u,p){u.g?u.g.add(p):u.h=p}function U0(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}M0.prototype.cancel=function(){if(this.i=$0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function $0(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const E of u.g.values())p=p.concat(E.D);return p}return x(u.i)}function LR(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var p=[],E=u.length,P=0;P<E;P++)p.push(u[P]);return p}p=[],E=0;for(P in u)p[E++]=u[P];return p}function OR(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var p=[];u=u.length;for(var E=0;E<u;E++)p.push(E);return p}p=[],E=0;for(const P in u)p[E++]=P;return p}}}function B0(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var E=OR(u),P=LR(u),M=P.length,F=0;F<M;F++)p.call(void 0,P[F],E&&E[F],u)}var z0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function MR(u,p){if(u){u=u.split("&");for(var E=0;E<u.length;E++){var P=u[E].indexOf("="),M=null;if(0<=P){var F=u[E].substring(0,P);M=u[E].substring(P+1)}else F=u[E];p(F,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Pi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Pi){this.h=u.h,mu(this,u.j),this.o=u.o,this.g=u.g,pu(this,u.s),this.l=u.l;var p=u.i,E=new il;E.i=p.i,p.g&&(E.g=new Map(p.g),E.h=p.h),q0(this,E),this.m=u.m}else u&&(p=String(u).match(z0))?(this.h=!1,mu(this,p[1]||"",!0),this.o=rl(p[2]||""),this.g=rl(p[3]||"",!0),pu(this,p[4]),this.l=rl(p[5]||"",!0),q0(this,p[6]||"",!0),this.m=rl(p[7]||"")):(this.h=!1,this.i=new il(null,this.h))}Pi.prototype.toString=function(){var u=[],p=this.j;p&&u.push(sl(p,W0,!0),":");var E=this.g;return(E||p=="file")&&(u.push("//"),(p=this.o)&&u.push(sl(p,W0,!0),"@"),u.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&u.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(sl(E,E.charAt(0)=="/"?UR:FR,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",sl(E,BR)),u.join("")};function $r(u){return new Pi(u)}function mu(u,p,E){u.j=E?rl(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function pu(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function q0(u,p,E){p instanceof il?(u.i=p,zR(u.i,u.h)):(E||(p=sl(p,$R)),u.i=new il(p,u.h))}function Ge(u,p,E){u.i.set(p,E)}function gu(u){return Ge(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function rl(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function sl(u,p,E){return typeof u=="string"?(u=encodeURI(u).replace(p,VR),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function VR(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var W0=/[#\/\?@]/g,FR=/[#\?:]/g,UR=/[#\?]/g,$R=/[#\?@]/g,BR=/#/g;function il(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Es(u){u.g||(u.g=new Map,u.h=0,u.i&&MR(u.i,function(p,E){u.add(decodeURIComponent(p.replace(/\+/g," ")),E)}))}t=il.prototype,t.add=function(u,p){Es(this),this.i=null,u=xo(this,u);var E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(p),this.h+=1,this};function H0(u,p){Es(u),p=xo(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function K0(u,p){return Es(u),p=xo(u,p),u.g.has(p)}t.forEach=function(u,p){Es(this),this.g.forEach(function(E,P){E.forEach(function(M){u.call(p,M,P,this)},this)},this)},t.na=function(){Es(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),E=[];for(let P=0;P<p.length;P++){const M=u[P];for(let F=0;F<M.length;F++)E.push(p[P])}return E},t.V=function(u){Es(this);let p=[];if(typeof u=="string")K0(this,u)&&(p=p.concat(this.g.get(xo(this,u))));else{u=Array.from(this.g.values());for(let E=0;E<u.length;E++)p=p.concat(u[E])}return p},t.set=function(u,p){return Es(this),this.i=null,u=xo(this,u),K0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function G0(u,p,E){H0(u,p),0<E.length&&(u.i=null,u.g.set(xo(u,p),x(E)),u.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var E=0;E<p.length;E++){var P=p[E];const F=encodeURIComponent(String(P)),X=this.V(P);for(P=0;P<X.length;P++){var M=F;X[P]!==""&&(M+="="+encodeURIComponent(String(X[P]))),u.push(M)}}return this.i=u.join("&")};function xo(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function zR(u,p){p&&!u.j&&(Es(u),u.i=null,u.g.forEach(function(E,P){var M=P.toLowerCase();P!=M&&(H0(this,P),G0(this,M,E))},u)),u.j=p}function qR(u,p){const E=new tl;if(l.Image){const P=new Image;P.onload=y(bs,E,"TestLoadImage: loaded",!0,p,P),P.onerror=y(bs,E,"TestLoadImage: error",!1,p,P),P.onabort=y(bs,E,"TestLoadImage: abort",!1,p,P),P.ontimeout=y(bs,E,"TestLoadImage: timeout",!1,p,P),l.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=u}else p(!1)}function WR(u,p){const E=new tl,P=new AbortController,M=setTimeout(()=>{P.abort(),bs(E,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:P.signal}).then(F=>{clearTimeout(M),F.ok?bs(E,"TestPingServer: ok",!0,p):bs(E,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),bs(E,"TestPingServer: error",!1,p)})}function bs(u,p,E,P,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),P(E)}catch{}}function HR(){this.g=new Hf}function KR(u,p,E){const P=E||"";try{B0(u,function(M,F){let X=M;d(M)&&(X=Ai(M)),p.push(P+F+"="+encodeURIComponent(X))})}catch(M){throw p.push(P+"type="+encodeURIComponent("_badmap")),M}}function yu(u){this.l=u.Ub||null,this.j=u.eb||!1}w(yu,ge),yu.prototype.g=function(){return new vu(this.l,this.j)},yu.prototype.i=function(u){return function(){return u}}({});function vu(u,p){yt.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(vu,yt),t=vu.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,al(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||l).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ol(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,al(this)),this.g&&(this.readyState=3,al(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Q0(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Q0(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?ol(this):al(this),this.readyState==3&&Q0(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,ol(this))},t.Qa=function(u){this.g&&(this.response=u,ol(this))},t.ga=function(){this.g&&ol(this)};function ol(u){u.readyState=4,u.l=null,u.j=null,u.v=null,al(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var E=p.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=p.next();return u.join(`\r
`)};function al(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(vu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Y0(u){let p="";return O(u,function(E,P){p+=P,p+=":",p+=E,p+=`\r
`}),p}function em(u,p,E){e:{for(P in E){var P=!1;break e}P=!0}P||(E=Y0(E),typeof u=="string"?E!=null&&encodeURIComponent(String(E)):Ge(u,p,E))}function ct(u){yt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(ct,yt);var GR=/^https?$/i,QR=["POST","PUT"];t=ct.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,E,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kf.g(),this.v=this.o?$e(this.o):$e(Kf),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(F){X0(this,F);return}if(u=E||"",E=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var M in P)E.set(M,P[M]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const F of P.keys())E.set(F,P.get(F));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(E.keys()).find(F=>F.toLowerCase()=="content-type"),M=l.FormData&&u instanceof l.FormData,!(0<=Array.prototype.indexOf.call(QR,p,void 0))||P||M||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,X]of E)this.g.setRequestHeader(F,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ex(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){X0(this,F)}};function X0(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,J0(u),xu(u)}function J0(u){u.A||(u.A=!0,lt(u,"complete"),lt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,lt(this,"complete"),lt(this,"abort"),xu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xu(this,!0)),ct.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Z0(this):this.bb())},t.bb=function(){Z0(this)};function Z0(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Br(u)!=4||u.Z()!=2)){if(u.u&&Br(u)==4)Fr(u.Ea,0,u);else if(lt(u,"readystatechange"),Br(u)==4){u.h=!1;try{const X=u.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var E;if(!(E=p)){var P;if(P=X===0){var M=String(u.D).match(z0)[1]||null;!M&&l.self&&l.self.location&&(M=l.self.location.protocol.slice(0,-1)),P=!GR.test(M?M.toLowerCase():"")}E=P}if(E)lt(u,"complete"),lt(u,"success");else{u.m=6;try{var F=2<Br(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",J0(u)}}finally{xu(u)}}}}function xu(u,p){if(u.g){ex(u);const E=u.g,P=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||lt(u,"ready");try{E.onreadystatechange=P}catch{}}}function ex(u){u.I&&(l.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Br(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Br(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),gr(p)}};function tx(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function YR(u){const p={};u=(u.g&&2<=Br(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<u.length;P++){if(v(u[P]))continue;var E=j(u[P]);const M=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const F=p[M]||[];p[M]=F,F.push(E)}S(p,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ll(u,p,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||p}function nx(u){this.Aa=0,this.i=[],this.j=new tl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ll("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ll("baseRetryDelayMs",5e3,u),this.cb=ll("retryDelaySeedMs",1e4,u),this.Wa=ll("forwardChannelMaxRetries",2,u),this.wa=ll("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new M0(u&&u.concurrentRequestLimit),this.Da=new HR,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=nx.prototype,t.la=8,t.G=1,t.connect=function(u,p,E,P){tn(0),this.W=u,this.H=p||{},E&&P!==void 0&&(this.H.OSID=E,this.H.OAID=P),this.F=this.X,this.I=dx(this,null,this.W),_u(this)};function tm(u){if(rx(u),u.G==3){var p=u.U++,E=$r(u.I);if(Ge(E,"SID",u.K),Ge(E,"RID",p),Ge(E,"TYPE","terminate"),cl(u,E),p=new _s(u,u.j,p),p.L=2,p.v=gu($r(E)),E=!1,l.navigator&&l.navigator.sendBeacon)try{E=l.navigator.sendBeacon(p.v.toString(),"")}catch{}!E&&l.Image&&(new Image().src=p.v,E=!0),E||(p.g=hx(p.j,null),p.g.ea(p.v)),p.F=Date.now(),fu(p)}ux(u)}function wu(u){u.g&&(rm(u),u.g.cancel(),u.g=null)}function rx(u){wu(u),u.u&&(l.clearTimeout(u.u),u.u=null),Eu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&l.clearTimeout(u.s),u.s=null)}function _u(u){if(!V0(u.h)&&!u.s){u.s=!0;var p=u.Ga;Z||Y(),L||(Z(),L=!0),B.add(p,u),u.B=0}}function XR(u,p){return F0(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=el(m(u.Ga,u,p),cx(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const M=new _s(this,this.j,u);let F=this.o;if(this.S&&(F?(F=N(F),C(F,this.S)):F=this.S),this.m!==null||this.O||(M.H=F,F=null),this.P)e:{for(var p=0,E=0;E<this.i.length;E++){t:{var P=this.i[E];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(p+=P,4096<p){p=E;break e}if(p===4096||E===this.i.length-1){p=E+1;break e}}p=1e3}else p=1e3;p=ix(this,M,p),E=$r(this.I),Ge(E,"RID",u),Ge(E,"CVER",22),this.D&&Ge(E,"X-HTTP-Session-Id",this.D),cl(this,E),F&&(this.O?p="headers="+encodeURIComponent(String(Y0(F)))+"&"+p:this.m&&em(E,this.m,F)),Zf(this.h,M),this.Ua&&Ge(E,"TYPE","init"),this.P?(Ge(E,"$req",p),Ge(E,"SID","null"),M.T=!0,Qf(M,E,null)):Qf(M,E,p),this.G=2}}else this.G==3&&(u?sx(this,u):this.i.length==0||V0(this.h)||sx(this))};function sx(u,p){var E;p?E=p.l:E=u.U++;const P=$r(u.I);Ge(P,"SID",u.K),Ge(P,"RID",E),Ge(P,"AID",u.T),cl(u,P),u.m&&u.o&&em(P,u.m,u.o),E=new _s(u,u.j,E,u.B+1),u.m===null&&(E.H=u.o),p&&(u.i=p.D.concat(u.i)),p=ix(u,E,1e3),E.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Zf(u.h,E),Qf(E,P,p)}function cl(u,p){u.H&&O(u.H,function(E,P){Ge(p,P,E)}),u.l&&B0({},function(E,P){Ge(p,P,E)})}function ix(u,p,E){E=Math.min(u.i.length,E);var P=u.l?m(u.l.Na,u.l,u):null;e:{var M=u.i;let F=-1;for(;;){const X=["count="+E];F==-1?0<E?(F=M[0].g,X.push("ofs="+F)):F=0:X.push("ofs="+F);let Be=!0;for(let kt=0;kt<E;kt++){let Oe=M[kt].g;const $t=M[kt].map;if(Oe-=F,0>Oe)F=Math.max(0,M[kt].g-100),Be=!1;else try{KR($t,X,"req"+Oe+"_")}catch{P&&P($t)}}if(Be){P=X.join("&");break e}}}return u=u.i.splice(0,E),p.D=u,P}function ox(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;Z||Y(),L||(Z(),L=!0),B.add(p,u),u.v=0}}function nm(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=el(m(u.Fa,u),cx(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,ax(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=el(m(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tn(10),wu(this),ax(this))};function rm(u){u.A!=null&&(l.clearTimeout(u.A),u.A=null)}function ax(u){u.g=new _s(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=$r(u.qa);Ge(p,"RID","rpc"),Ge(p,"SID",u.K),Ge(p,"AID",u.T),Ge(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ge(p,"TO",u.ja),Ge(p,"TYPE","xmlhttp"),cl(u,p),u.m&&u.o&&em(p,u.m,u.o),u.L&&(u.g.I=u.L);var E=u.g;u=u.ia,E.L=1,E.v=gu($r(p)),E.m=null,E.P=!0,D0(E,u)}t.Za=function(){this.C!=null&&(this.C=null,wu(this),nm(this),tn(19))};function Eu(u){u.C!=null&&(l.clearTimeout(u.C),u.C=null)}function lx(u,p){var E=null;if(u.g==p){Eu(u),rm(u),u.g=null;var P=2}else if(Jf(u.h,p))E=p.D,U0(u.h,p),P=1;else return;if(u.G!=0){if(p.o)if(P==1){E=p.m?p.m.length:0,p=Date.now()-p.F;var M=u.B;P=uu(),lt(P,new R0(P,E)),_u(u)}else ox(u);else if(M=p.s,M==3||M==0&&0<p.X||!(P==1&&XR(u,p)||P==2&&nm(u)))switch(E&&0<E.length&&(p=u.h,p.i=p.i.concat(E)),M){case 1:ki(u,5);break;case 4:ki(u,10);break;case 3:ki(u,6);break;default:ki(u,2)}}}function cx(u,p){let E=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(E*=2),E*p}function ki(u,p){if(u.j.info("Error code "+p),p==2){var E=m(u.fb,u),P=u.Xa;const M=!P;P=new Pi(P||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||mu(P,"https"),gu(P),M?qR(P.toString(),E):WR(P.toString(),E)}else tn(2);u.G=0,u.l&&u.l.sa(p),ux(u),rx(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),tn(2)):(this.j.info("Failed to ping google.com"),tn(1))};function ux(u){if(u.G=0,u.ka=[],u.l){const p=$0(u.h);(p.length!=0||u.i.length!=0)&&(T(u.ka,p),T(u.ka,u.i),u.h.i.length=0,x(u.i),u.i.length=0),u.l.ra()}}function dx(u,p,E){var P=E instanceof Pi?$r(E):new Pi(E);if(P.g!="")p&&(P.g=p+"."+P.g),pu(P,P.s);else{var M=l.location;P=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;var F=new Pi(null);P&&mu(F,P),p&&(F.g=p),M&&pu(F,M),E&&(F.l=E),P=F}return E=u.D,p=u.ya,E&&p&&Ge(P,E,p),Ge(P,"VER",u.la),cl(u,P),P}function hx(u,p,E){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new ct(new yu({eb:E})):new ct(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function fx(){}t=fx.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function bu(){}bu.prototype.g=function(u,p){return new Tn(u,p)};function Tn(u,p){yt.call(this),this.g=new nx(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!v(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!v(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new wo(this)}w(Tn,yt),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){tm(this.g)},Tn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.u&&(E={},E.__data__=Ai(u),u=E);p.i.push(new DR(p.Ya++,u)),p.G==3&&_u(p)},Tn.prototype.N=function(){this.g.l=null,delete this.j,tm(this.g),delete this.g,Tn.aa.N.call(this)};function mx(u){fn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const E in p){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}w(mx,fn);function px(){ws.call(this),this.status=1}w(px,ws);function wo(u){this.g=u}w(wo,fx),wo.prototype.ua=function(){lt(this.g,"a")},wo.prototype.ta=function(u){lt(this.g,new mx(u))},wo.prototype.sa=function(u){lt(this.g,new px)},wo.prototype.ra=function(){lt(this.g,"b")},bu.prototype.createWebChannel=bu.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,dI=function(){return new bu},uI=function(){return uu()},cI=Ur,Ag={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},du.NO_ERROR=0,du.TIMEOUT=8,du.HTTP_ERROR=6,Td=du,P0.COMPLETE="complete",lI=P0,Fe.EventType=Ut,Ut.OPEN="a",Ut.CLOSE="b",Ut.ERROR="c",Ut.MESSAGE="d",yt.prototype.listen=yt.prototype.K,Nl=Fe,ct.prototype.listenOnce=ct.prototype.L,ct.prototype.getLastError=ct.prototype.Ka,ct.prototype.getLastErrorCode=ct.prototype.Ba,ct.prototype.getStatus=ct.prototype.Z,ct.prototype.getResponseJson=ct.prototype.Oa,ct.prototype.getResponseText=ct.prototype.oa,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Ha,aI=ct}).apply(typeof Qu<"u"?Qu:typeof self<"u"?self:typeof window<"u"?window:{});const B_="@firebase/firestore",z_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let za="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=new vv("@firebase/firestore");function No(){return lo.logLevel}function re(t,...e){if(lo.logLevel<=Ne.DEBUG){const n=e.map(Pv);lo.debug(`Firestore (${za}): ${t}`,...n)}}function us(t,...e){if(lo.logLevel<=Ne.ERROR){const n=e.map(Pv);lo.error(`Firestore (${za}): ${t}`,...n)}}function Ta(t,...e){if(lo.logLevel<=Ne.WARN){const n=e.map(Pv);lo.warn(`Firestore (${za}): ${t}`,...n)}}function Pv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,hI(t,r,n)}function hI(t,e,n){let r=`FIRESTORE (${za}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw us(r),new Error(r)}function Ve(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||hI(e,s,r)}function ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends fs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class W3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Gt.UNAUTHENTICATED))}shutdown(){}}class H3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class K3{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ve(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new es;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new es,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new es)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string",31837,{l:r}),new fI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string",2055,{h:e}),new Gt(e)}}class G3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Q3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new G3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class q_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Y3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ve(this.o===void 0,3512);const r=i=>{i.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,re("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new q_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ve(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new q_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=X3(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ie(t,e){return t<e?-1:t>e?1:0}function Rg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Qm(s)===Qm(i)?Ie(s,i):Qm(s)?1:-1}return Ie(t.length,e.length)}const J3=55296,Z3=57343;function Qm(t){const e=t.charCodeAt(0);return e>=J3&&e<=Z3}function Sa(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="__name__";class xr{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&he(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return xr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=xr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ie(e.length,n.length)}static compareSegments(e,n){const r=xr.isNumericId(e),s=xr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?xr.extractNumericId(e).compare(xr.extractNumericId(n)):Rg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return oi.fromString(e.substring(4,e.length-2))}}class qe extends xr{construct(e,n,r){return new qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new qe(n)}static emptyPath(){return new qe([])}}const eF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lt extends xr{construct(e,n,r){return new Lt(e,n,r)}static isValidIdentifier(e){return eF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===W_}static keyField(){return new Lt([W_])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new te(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new te(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new te(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new te(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lt(n)}static emptyPath(){return new Lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae(qe.fromString(e))}static fromName(e){return new ae(qe.fromString(e).popFirst(5))}static empty(){return new ae(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new qe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(t,e,n){if(!n)throw new te(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function tF(t,e,n,r){if(e===!0&&r===!0)throw new te(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function H_(t){if(!ae.isDocumentKey(t))throw new te(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function K_(t){if(ae.isDocumentKey(t))throw new te(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function pI(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function gf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he(12329,{type:typeof t})}function ln(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gf(t);throw new te(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(t,e){const n={typeString:t};return e&&(n.value=e),n}function Xc(t,e){if(!pI(t))throw new te(z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new te(z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_=-62135596800,Q_=1e6;class Xe{static now(){return Xe.fromMillis(Date.now())}static fromDate(e){return Xe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Q_);return new Xe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<G_)throw new te(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Q_}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xc(e,Xe._jsonSchema))return new Xe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-G_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xe._jsonSchemaVersion="firestore/timestamp/1.0",Xe._jsonSchema={type:_t("string",Xe._jsonSchemaVersion),seconds:_t("number"),nanoseconds:_t("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{static fromTimestamp(e){return new ye(e)}static min(){return new ye(new Xe(0,0))}static max(){return new ye(new Xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc=-1;function nF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ye.fromTimestamp(r===1e9?new Xe(n+1,0):new Xe(n,r));return new mi(s,ae.empty(),e)}function rF(t){return new mi(t.readTime,t.key,Sc)}class mi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new mi(ye.min(),ae.empty(),Sc)}static max(){return new mi(ye.max(),ae.empty(),Sc)}}function sF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:Ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qa(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==iF)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,r)=>{n(e)})}static reject(e){return new W((n,r)=>{r(e)})}static waitFor(e){return new W((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next(s=>s?W.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new W((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(h=>{o[d]=h,++l,l===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new W((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function aF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=-1;function vf(t){return t==null}function wh(t){return t===0&&1/t==-1/0}function lF(t){return typeof t=="number"&&Number.isInteger(t)&&!wh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="";function cF(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Y_(e)),e=uF(t.get(n),e);return Y_(e)}function uF(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case gI:n+="";break;default:n+=i}}return n}function Y_(t){return t+gI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ti(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||Dt.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Dt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yu(this.root,e,this.comparator,!0)}}class Yu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Dt.RED,this.left=s??Dt.EMPTY,this.right=i??Dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Dt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Dt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw he(43730,{key:this.key,value:this.value});if(this.right.isRed())throw he(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw he(27949);return e+(this.isRed()?0:1)}}Dt.EMPTY=null,Dt.RED=!0,Dt.BLACK=!1;Dt.EMPTY=new class{constructor(){this.size=0}get key(){throw he(57766)}get value(){throw he(16141)}get color(){throw he(16727)}get left(){throw he(29726)}get right(){throw he(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Dt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new J_(this.data.getIterator())}getIteratorFrom(e){return new J_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Nt(this.comparator);return n.data=e,n}}class J_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.fields=e,e.sort(Lt.comparator)}static empty(){return new kn([])}unionWith(e){let n=new Nt(Lt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Sa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new vI("Invalid base64 string: "+i):i}}(e);return new Vt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const dF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pi(t){if(Ve(!!t,39018),typeof t=="string"){let e=0;const n=dF.exec(t);if(Ve(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(t.seconds),nanos:mt(t.nanos)}}function mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function gi(t){return typeof t=="string"?Vt.fromBase64String(t):Vt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="server_timestamp",wI="__type__",_I="__previous_value__",EI="__local_write_time__";function Dv(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[wI])==null?void 0:r.stringValue)===xI}function xf(t){const e=t.mapValue.fields[_I];return Dv(e)?xf(e):e}function Nc(t){const e=pi(t.mapValue.fields[EI].timestampValue);return new Xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e,n,r,s,i,o,l,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const _h="(default)";class Ic{constructor(e,n){this.projectId=e,this.database=n||_h}static empty(){return new Ic("","")}get isDefaultDatabase(){return this.database===_h}isEqual(e){return e instanceof Ic&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="__type__",TI="__max__",Xu={mapValue:{fields:{__type__:{stringValue:TI}}}},SI="__vector__",Eh="value";function yi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Dv(t)?4:mF(t)?9007199254740991:fF(t)?10:11:he(28295,{value:t})}function Or(t,e){if(t===e)return!0;const n=yi(t);if(n!==yi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Nc(t).isEqual(Nc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=pi(s.timestampValue),l=pi(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return gi(s.bytesValue).isEqual(gi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return mt(s.geoPointValue.latitude)===mt(i.geoPointValue.latitude)&&mt(s.geoPointValue.longitude)===mt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return mt(s.integerValue)===mt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=mt(s.doubleValue),l=mt(i.doubleValue);return o===l?wh(o)===wh(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Sa(t.arrayValue.values||[],e.arrayValue.values||[],Or);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(X_(o)!==X_(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Or(o[c],l[c])))return!1;return!0}(t,e);default:return he(52216,{left:t})}}function Cc(t,e){return(t.values||[]).find(n=>Or(n,e))!==void 0}function Na(t,e){if(t===e)return 0;const n=yi(t),r=yi(e);if(n!==r)return Ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=mt(i.integerValue||i.doubleValue),c=mt(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Z_(t.timestampValue,e.timestampValue);case 4:return Z_(Nc(t),Nc(e));case 5:return Rg(t.stringValue,e.stringValue);case 6:return function(i,o){const l=gi(i),c=gi(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),c=o.split("/");for(let d=0;d<l.length&&d<c.length;d++){const h=Ie(l[d],c[d]);if(h!==0)return h}return Ie(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=Ie(mt(i.latitude),mt(o.latitude));return l!==0?l:Ie(mt(i.longitude),mt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return e1(t.arrayValue,e.arrayValue);case 10:return function(i,o){var m,y,w,x;const l=i.fields||{},c=o.fields||{},d=(m=l[Eh])==null?void 0:m.arrayValue,h=(y=c[Eh])==null?void 0:y.arrayValue,f=Ie(((w=d==null?void 0:d.values)==null?void 0:w.length)||0,((x=h==null?void 0:h.values)==null?void 0:x.length)||0);return f!==0?f:e1(d,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Xu.mapValue&&o===Xu.mapValue)return 0;if(i===Xu.mapValue)return 1;if(o===Xu.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const m=Rg(c[f],h[f]);if(m!==0)return m;const y=Na(l[c[f]],d[h[f]]);if(y!==0)return y}return Ie(c.length,h.length)}(t.mapValue,e.mapValue);default:throw he(23264,{he:n})}}function Z_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);const n=pi(t),r=pi(e),s=Ie(n.seconds,r.seconds);return s!==0?s:Ie(n.nanos,r.nanos)}function e1(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Na(n[s],r[s]);if(i)return i}return Ie(n.length,r.length)}function Ia(t){return Pg(t)}function Pg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=pi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return gi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Pg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Pg(n.fields[o])}`;return s+"}"}(t.mapValue):he(61005,{value:t})}function Sd(t){switch(yi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xf(t);return e?16+Sd(e):16;case 5:return 2*t.stringValue.length;case 6:return gi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Sd(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Ti(r.fields,(i,o)=>{s+=i.length+Sd(o)}),s}(t.mapValue);default:throw he(13486,{value:t})}}function t1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function kg(t){return!!t&&"integerValue"in t}function Lv(t){return!!t&&"arrayValue"in t}function n1(t){return!!t&&"nullValue"in t}function r1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Nd(t){return!!t&&"mapValue"in t}function fF(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[bI])==null?void 0:r.stringValue)===SI}function Kl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ti(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Kl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kl(t.arrayValue.values[n]);return e}return{...t}}function mF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===TI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Nd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(n)}setAll(e){let n=Lt.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=Kl(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Nd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Or(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Nd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ti(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new yn(Kl(this.value))}}function NI(t){const e=[];return Ti(t.fields,(n,r)=>{const s=new Lt([n]);if(Nd(r)){const i=NI(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Yt(e,0,ye.min(),ye.min(),ye.min(),yn.empty(),0)}static newFoundDocument(e,n,r,s){return new Yt(e,1,n,ye.min(),r,s,0)}static newNoDocument(e,n){return new Yt(e,2,n,ye.min(),ye.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new Yt(e,3,n,ye.min(),ye.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n){this.position=e,this.inclusive=n}}function s1(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ae.comparator(ae.fromName(o.referenceValue),n.key):r=Na(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function i1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Or(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n="asc"){this.field=e,this.dir=n}}function pF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{}class wt extends II{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new yF(e,n,r):n==="array-contains"?new wF(e,r):n==="in"?new _F(e,r):n==="not-in"?new EF(e,r):n==="array-contains-any"?new bF(e,r):new wt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new vF(e,r):new xF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Na(n,this.value)):n!==null&&yi(this.value)===yi(n)&&this.matchesComparison(Na(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mr extends II{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new mr(e,n)}matches(e){return CI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function CI(t){return t.op==="and"}function AI(t){return gF(t)&&CI(t)}function gF(t){for(const e of t.filters)if(e instanceof mr)return!1;return!0}function jg(t){if(t instanceof wt)return t.field.canonicalString()+t.op.toString()+Ia(t.value);if(AI(t))return t.filters.map(e=>jg(e)).join(",");{const e=t.filters.map(n=>jg(n)).join(",");return`${t.op}(${e})`}}function RI(t,e){return t instanceof wt?function(r,s){return s instanceof wt&&r.op===s.op&&r.field.isEqual(s.field)&&Or(r.value,s.value)}(t,e):t instanceof mr?function(r,s){return s instanceof mr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&RI(o,s.filters[l]),!0):!1}(t,e):void he(19439)}function PI(t){return t instanceof wt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ia(n.value)}`}(t):t instanceof mr?function(n){return n.op.toString()+" {"+n.getFilters().map(PI).join(" ,")+"}"}(t):"Filter"}class yF extends wt{constructor(e,n,r){super(e,n,r),this.key=ae.fromName(r.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class vF extends wt{constructor(e,n){super(e,"in",n),this.keys=kI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class xF extends wt{constructor(e,n){super(e,"not-in",n),this.keys=kI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function kI(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ae.fromName(r.referenceValue))}class wF extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Lv(n)&&Cc(n.arrayValue,this.value)}}class _F extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Cc(this.value.arrayValue,n)}}class EF extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Cc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Cc(this.value.arrayValue,n)}}class bF extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Lv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Cc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.Te=null}}function o1(t,e=null,n=[],r=[],s=null,i=null,o=null){return new TF(t,e,n,r,s,i,o)}function Ov(t){const e=ve(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>jg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),vf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ia(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ia(r)).join(",")),e.Te=n}return e.Te}function Mv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!RI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!i1(t.startAt,e.startAt)&&i1(t.endAt,e.endAt)}function Dg(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function SF(t,e,n,r,s,i,o,l){return new Ha(t,e,n,r,s,i,o,l)}function wf(t){return new Ha(t)}function a1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jI(t){return t.collectionGroup!==null}function Gl(t){const e=ve(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Nt(Lt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Ac(i,r))}),n.has(Lt.keyField().canonicalString())||e.Ie.push(new Ac(Lt.keyField(),r))}return e.Ie}function Rr(t){const e=ve(t);return e.Ee||(e.Ee=NF(e,Gl(t))),e.Ee}function NF(t,e){if(t.limitType==="F")return o1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Ac(s.field,i)});const n=t.endAt?new bh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new bh(t.startAt.position,t.startAt.inclusive):null;return o1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Lg(t,e){const n=t.filters.concat([e]);return new Ha(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Th(t,e,n){return new Ha(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _f(t,e){return Mv(Rr(t),Rr(e))&&t.limitType===e.limitType}function DI(t){return`${Ov(Rr(t))}|lt:${t.limitType}`}function Io(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>PI(s)).join(", ")}]`),vf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ia(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ia(s)).join(",")),`Target(${r})`}(Rr(t))}; limitType=${t.limitType})`}function Ef(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ae.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Gl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,c){const d=s1(o,l,c);return o.inclusive?d<=0:d<0}(r.startAt,Gl(r),s)||r.endAt&&!function(o,l,c){const d=s1(o,l,c);return o.inclusive?d>=0:d>0}(r.endAt,Gl(r),s))}(t,e)}function IF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function LI(t){return(e,n)=>{let r=!1;for(const s of Gl(t)){const i=CF(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function CF(t,e,n){const r=t.field.isKeyField()?ae.comparator(e.key,n.key):function(i,o,l){const c=o.data.field(i),d=l.data.field(i);return c!==null&&d!==null?Na(c,d):he(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ti(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return yI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF=new ot(ae.comparator);function ds(){return AF}const OI=new ot(ae.comparator);function Il(...t){let e=OI;for(const n of t)e=e.insert(n.key,n);return e}function MI(t){let e=OI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ui(){return Ql()}function VI(){return Ql()}function Ql(){return new go(t=>t.toString(),(t,e)=>t.isEqual(e))}const RF=new ot(ae.comparator),PF=new Nt(ae.comparator);function Ce(...t){let e=PF;for(const n of t)e=e.add(n);return e}const kF=new Nt(Ie);function jF(){return kF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wh(e)?"-0":e}}function FI(t){return{integerValue:""+t}}function DF(t,e){return lF(e)?FI(e):Vv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(){this._=void 0}}function LF(t,e,n){return t instanceof Rc?function(s,i){const o={fields:{[wI]:{stringValue:xI},[EI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Dv(i)&&(i=xf(i)),i&&(o.fields[_I]=i),{mapValue:o}}(n,e):t instanceof Pc?$I(t,e):t instanceof kc?BI(t,e):function(s,i){const o=UI(s,i),l=l1(o)+l1(s.Ae);return kg(o)&&kg(s.Ae)?FI(l):Vv(s.serializer,l)}(t,e)}function OF(t,e,n){return t instanceof Pc?$I(t,e):t instanceof kc?BI(t,e):n}function UI(t,e){return t instanceof Sh?function(r){return kg(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Rc extends bf{}class Pc extends bf{constructor(e){super(),this.elements=e}}function $I(t,e){const n=zI(e);for(const r of t.elements)n.some(s=>Or(s,r))||n.push(r);return{arrayValue:{values:n}}}class kc extends bf{constructor(e){super(),this.elements=e}}function BI(t,e){let n=zI(e);for(const r of t.elements)n=n.filter(s=>!Or(s,r));return{arrayValue:{values:n}}}class Sh extends bf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function l1(t){return mt(t.integerValue||t.doubleValue)}function zI(t){return Lv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e,n){this.field=e,this.transform=n}}function VF(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Pc&&s instanceof Pc||r instanceof kc&&s instanceof kc?Sa(r.elements,s.elements,Or):r instanceof Sh&&s instanceof Sh?Or(r.Ae,s.Ae):r instanceof Rc&&s instanceof Rc}(t.transform,e.transform)}class FF{constructor(e,n){this.version=e,this.transformResults=n}}class cn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cn}static exists(e){return new cn(void 0,e)}static updateTime(e){return new cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Id(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Tf{}function qI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sf(t.key,cn.none()):new Jc(t.key,t.data,cn.none());{const n=t.data,r=yn.empty();let s=new Nt(Lt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Si(t.key,r,new kn(s.toArray()),cn.none())}}function UF(t,e,n){t instanceof Jc?function(s,i,o){const l=s.value.clone(),c=u1(s.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Si?function(s,i,o){if(!Id(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=u1(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(WI(s)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Yl(t,e,n,r){return t instanceof Jc?function(i,o,l,c){if(!Id(i.precondition,o))return l;const d=i.value.clone(),h=d1(i.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Si?function(i,o,l,c){if(!Id(i.precondition,o))return l;const d=d1(i.fieldTransforms,c,o),h=o.data;return h.setAll(WI(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,l){return Id(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function $F(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=UI(r.transform,s||null);i!=null&&(n===null&&(n=yn.empty()),n.set(r.field,i))}return n||null}function c1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Sa(r,s,(i,o)=>VF(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Jc extends Tf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Si extends Tf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function WI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function u1(t,e,n){const r=new Map;Ve(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,OF(o,l,n[s]))}return r}function d1(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,LF(i,o,e))}return r}class Sf extends Tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BF extends Tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&UF(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Yl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Yl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=VI();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const c=qI(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(ye.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&Sa(this.mutations,e.mutations,(n,r)=>c1(n,r))&&Sa(this.baseMutations,e.baseMutations,(n,r)=>c1(n,r))}}class Fv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ve(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return RF}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Fv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,ke;function HF(t){switch(t){case z.OK:return he(64938);case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return he(15467,{code:t})}}function HI(t){if(t===void 0)return us("GRPC error has no .code"),z.UNKNOWN;switch(t){case vt.OK:return z.OK;case vt.CANCELLED:return z.CANCELLED;case vt.UNKNOWN:return z.UNKNOWN;case vt.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case vt.INTERNAL:return z.INTERNAL;case vt.UNAVAILABLE:return z.UNAVAILABLE;case vt.UNAUTHENTICATED:return z.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case vt.NOT_FOUND:return z.NOT_FOUND;case vt.ALREADY_EXISTS:return z.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return z.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case vt.ABORTED:return z.ABORTED;case vt.OUT_OF_RANGE:return z.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return z.UNIMPLEMENTED;case vt.DATA_LOSS:return z.DATA_LOSS;default:return he(39323,{code:t})}}(ke=vt||(vt={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF=new oi([4294967295,4294967295],0);function h1(t){const e=KF().encode(t),n=new oI;return n.update(e),new Uint8Array(n.digest())}function f1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new oi([n,r],0),new oi([s,i],0)]}class Uv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Cl(`Invalid padding: ${n}`);if(r<0)throw new Cl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Cl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Cl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=oi.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(oi.fromNumber(r)));return s.compare(GF)===1&&(s=new oi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=h1(e),[r,s]=f1(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Uv(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const n=h1(e),[r,s]=f1(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Zc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Nf(ye.min(),s,new ot(Ie),ds(),Ce())}}class Zc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Zc(r,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class KI{constructor(e,n){this.targetId=e,this.Ce=n}}class GI{constructor(e,n,r=Vt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class m1{constructor(){this.ve=0,this.Fe=p1(),this.Me=Vt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ce(),n=Ce(),r=Ce();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:he(38017,{changeType:i})}}),new Zc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=p1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ve(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class QF{constructor(e){this.Ge=e,this.ze=new Map,this.je=ds(),this.Je=Ju(),this.He=Ju(),this.Ye=new ot(Ie)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:he(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Dg(i))if(r===0){const o=new ae(i.path);this.et(n,o,Yt.newNoDocument(o,ye.min()))}else Ve(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(e),c=l?this.ct(l,e,o):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=gi(r).toUint8Array()}catch(c){if(c instanceof vI)return Ta("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Uv(o,s,i)}catch(c){return Ta(c instanceof Cl?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const l=this.ot(o);if(l){if(i.current&&Dg(l.target)){const c=new ae(l.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,Yt.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=Ce();this.He.forEach((i,o)=>{let l=!0;o.forEachWhile(c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Nf(e,n,this.Ye,this.je,r);return this.je=ds(),this.Je=Ju(),this.He=Ju(),this.Ye=new ot(Ie),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new m1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Nt(Ie),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Nt(Ie),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new m1),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ju(){return new ot(ae.comparator)}function p1(){return new ot(ae.comparator)}const YF={asc:"ASCENDING",desc:"DESCENDING"},XF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JF={and:"AND",or:"OR"};class ZF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Og(t,e){return t.useProto3Json||vf(e)?e:{value:e}}function Nh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function e6(t,e){return Nh(t,e.toTimestamp())}function Pr(t){return Ve(!!t,49232),ye.fromTimestamp(function(n){const r=pi(n);return new Xe(r.seconds,r.nanos)}(t))}function $v(t,e){return Mg(t,e).canonicalString()}function Mg(t,e){const n=function(s){return new qe(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function YI(t){const e=qe.fromString(t);return Ve(tC(e),10190,{key:e.toString()}),e}function Vg(t,e){return $v(t.databaseId,e.path)}function Ym(t,e){const n=YI(e);if(n.get(1)!==t.databaseId.projectId)throw new te(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(JI(n))}function XI(t,e){return $v(t.databaseId,e)}function t6(t){const e=YI(t);return e.length===4?qe.emptyPath():JI(e)}function Fg(t){return new qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function JI(t){return Ve(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function g1(t,e,n){return{name:Vg(t,e),fields:n.value.mapValue.fields}}function n6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:he(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(Ve(h===void 0||typeof h=="string",58123),Vt.fromBase64String(h||"")):(Ve(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Vt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const h=d.code===void 0?z.UNKNOWN:HI(d.code);return new te(h,d.message||"")}(o);n=new GI(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ym(t,r.document.name),i=Pr(r.document.updateTime),o=r.document.createTime?Pr(r.document.createTime):ye.min(),l=new yn({mapValue:{fields:r.document.fields}}),c=Yt.newFoundDocument(s,i,o,l),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Cd(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Ym(t,r.document),i=r.readTime?Pr(r.readTime):ye.min(),o=Yt.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Cd([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Ym(t,r.document),i=r.removedTargetIds||[];n=new Cd([],i,s,null)}else{if(!("filter"in e))return he(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new WF(s,i),l=r.targetId;n=new KI(l,o)}}return n}function r6(t,e){let n;if(e instanceof Jc)n={update:g1(t,e.key,e.value)};else if(e instanceof Sf)n={delete:Vg(t,e.key)};else if(e instanceof Si)n={update:g1(t,e.key,e.data),updateMask:h6(e.fieldMask)};else{if(!(e instanceof BF))return he(16599,{Vt:e.type});n={verify:Vg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof Rc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Pc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof kc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Sh)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw he(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:e6(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:he(27497)}(t,e.precondition)),n}function s6(t,e){return t&&t.length>0?(Ve(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Pr(s.updateTime):Pr(i);return o.isEqual(ye.min())&&(o=Pr(i)),new FF(o,s.transformResults||[])}(n,e))):[]}function i6(t,e){return{documents:[XI(t,e.path)]}}function o6(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=XI(t,s);const i=function(d){if(d.length!==0)return eC(mr.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(m){return{field:Co(m.field),direction:c6(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Og(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:s}}function a6(t){let e=t6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ve(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const m=ZI(f);return m instanceof mr&&AI(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(w){return new Ac(Ao(w.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(f){let m;return m=typeof f=="object"?f.value:f,vf(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){const m=!!f.before,y=f.values||[];return new bh(y,m)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const m=!f.before,y=f.values||[];return new bh(y,m)}(n.endAt)),SF(e,s,o,i,l,"F",c,d)}function l6(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ZI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ao(n.unaryFilter.field);return wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ao(n.unaryFilter.field);return wt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ao(n.unaryFilter.field);return wt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ao(n.unaryFilter.field);return wt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return he(61313);default:return he(60726)}}(t):t.fieldFilter!==void 0?function(n){return wt.create(Ao(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return he(58110);default:return he(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return mr.create(n.compositeFilter.filters.map(r=>ZI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return he(1026)}}(n.compositeFilter.op))}(t):he(30097,{filter:t})}function c6(t){return YF[t]}function u6(t){return XF[t]}function d6(t){return JF[t]}function Co(t){return{fieldPath:t.canonicalString()}}function Ao(t){return Lt.fromServerFormat(t.fieldPath)}function eC(t){return t instanceof wt?function(n){if(n.op==="=="){if(r1(n.value))return{unaryFilter:{field:Co(n.field),op:"IS_NAN"}};if(n1(n.value))return{unaryFilter:{field:Co(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(r1(n.value))return{unaryFilter:{field:Co(n.field),op:"IS_NOT_NAN"}};if(n1(n.value))return{unaryFilter:{field:Co(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Co(n.field),op:u6(n.op),value:n.value}}}(t):t instanceof mr?function(n){const r=n.getFilters().map(s=>eC(s));return r.length===1?r[0]:{compositeFilter:{op:d6(n.op),filters:r}}}(t):he(54877,{filter:t})}function h6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function tC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n,r,s,i=ye.min(),o=ye.min(),l=Vt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e){this.yt=e}}function m6(t){const e=a6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Th(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(){this.Cn=new g6}addToCollectionParentIndex(e,n){return this.Cn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(mi.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(mi.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class g6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Nt(qe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Nt(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nC=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(nC,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ca(0)}static cr(){return new Ca(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="LruGarbageCollector",y6=1048576;function x1([t,e],[n,r]){const s=Ie(t,n);return s===0?Ie(e,r):s}class v6{constructor(e){this.Ir=e,this.buffer=new Nt(x1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();x1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class x6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){re(v1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wa(n)?re(v1,"Ignoring IndexedDB error during garbage collection: ",n):await qa(n)}await this.Vr(3e5)})}}class w6{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return W.resolve(yf.ce);const r=new v6(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(y1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),y1):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,l,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(d=Date.now(),No()<=Ne.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function _6(t,e){return new w6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(){this.changes=new go(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Yl(r.mutation,s,kn.empty(),Xe.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ce()){const s=Ui();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Il();return i.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ui();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ce()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=ds();const o=Ql(),l=function(){return Ql()}();return n.forEach((c,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof Si)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Yl(h.mutation,d,h.mutation.getFieldMask(),Xe.now())):o.set(d.key,kn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>l.set(d,new b6(h,o.get(d)??null))),l))}recalculateAndSaveOverlays(e,n){const r=Ql();let s=new ot((o,l)=>o-l),i=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||kn.empty();h=l.applyToLocalView(d,h),r.set(c,h);const f=(s.get(l.batchId)||Ce()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,h=c.value,f=VI();h.forEach(m=>{if(!i.has(m)){const y=qI(n.get(m),r.get(m));y!==null&&f.set(m,y),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return W.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):W.resolve(Ui());let l=Sc,c=i;return o.next(d=>W.forEach(d,(h,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(h)?W.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,Ce())).next(h=>({batchId:l,changes:MI(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(r=>{let s=Il();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Il();return this.indexManager.getCollectionParents(e,i).next(l=>W.forEach(l,c=>{const d=function(f,m){return new Ha(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Yt.newInvalidDocument(h)))});let l=Il();return o.forEach((c,d)=>{const h=i.get(c);h!==void 0&&Yl(h.mutation,d,kn.empty(),Xe.now()),Ef(n,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return W.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Pr(s.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:m6(s.bundledQuery),readTime:Pr(s.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(){this.overlays=new ot(ae.comparator),this.qr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ui();return W.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),W.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const s=Ui(),i=n.length+1,o=new ae(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return W.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new ot((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=Ui(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const l=Ui(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>l.set(d,h)),!(l.size()>=s)););return W.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new qF(n,r));let i=this.qr.get(n);i===void 0&&(i=Ce(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(){this.Qr=new Nt(Ct.$r),this.Ur=new Nt(Ct.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ct(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Ct(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ae(new qe([])),r=new Ct(n,e),s=new Ct(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ae(new qe([])),r=new Ct(n,e),s=new Ct(n,e+1);let i=Ce();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Ct(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ct{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ae.comparator(e.key,n.key)||Ie(e.Yr,n.Yr)}static Kr(e,n){return Ie(e.Yr,n.Yr)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Nt(Ct.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new zF(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.Zr=this.Zr.add(new Ct(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return W.resolve(o)}lookupMutationBatch(e,n){return W.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return W.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?jv:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ct(n,0),s=new Ct(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const l=this.Xr(o.Yr);i.push(l)}),W.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Nt(Ie);return n.forEach(s=>{const i=new Ct(s,0),o=new Ct(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],l=>{r=r.add(l.Yr)})}),W.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ae.isDocumentKey(i)||(i=i.child(""));const o=new Ct(new ae(i),0);let l=new Nt(Ie);return this.Zr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(l=l.add(c.Yr)),!0)},o),W.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ve(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return W.forEach(n.mutations,s=>{const i=new Ct(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Ct(n,0),s=this.Zr.firstAfterOrEqual(r);return W.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e){this.ri=e,this.docs=function(){return new ot(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():Yt.newInvalidDocument(n))}getEntries(e,n){let r=ds();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Yt.newInvalidDocument(s))}),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ds();const o=n.path,l=new ae(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||sF(rF(h),r)<=0||(s.has(h.key)||Ef(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return W.resolve(i)}getAllFromCollectionGroup(e,n,r,s){he(9500)}ii(e,n){return W.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new R6(this)}getSize(e){return W.resolve(this.size)}}class R6 extends E6{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),W.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e){this.persistence=e,this.si=new go(n=>Ov(n),Mv),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.oi=0,this._i=new Bv,this.targetCount=0,this.ai=Ca.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),W.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ca(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Pr(n),W.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),W.waitFor(i).next(()=>s)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),W.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),W.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,n){this.ui={},this.overlays={},this.ci=new yf(0),this.li=!1,this.li=!0,this.hi=new I6,this.referenceDelegate=e(this),this.Pi=new P6(this),this.indexManager=new p6,this.remoteDocumentCache=function(s){return new A6(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new f6(n),this.Ii=new S6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new N6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new C6(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);const s=new k6(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return W.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class k6 extends oF{constructor(e){super(),this.currentSequenceNumber=e}}class zv{constructor(e){this.persistence=e,this.Ri=new Bv,this.Vi=null}static mi(e){return new zv(e)}get fi(){if(this.Vi)return this.Vi;throw he(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),W.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,r=>{const s=ae.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,ye.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ih{constructor(e,n){this.persistence=e,this.pi=new go(r=>cF(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=_6(this,n)}static mi(e,n){return new Ih(e,n)}Ei(){}di(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return W.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?W.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(l=>{l||(r++,i.removeEntry(o,ye.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Sd(e.data.value)),n}br(e,n,r){return W.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return W.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ce(),s=Ce();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new qv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return oM()?8:aF(en())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new j6;return this.Ss(e,n,o).next(l=>{if(i.result=l,this.Vs)return this.bs(e,n,o,l.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(No()<=Ne.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",Io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(No()<=Ne.DEBUG&&re("QueryEngine","Query:",Io(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(No()<=Ne.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",Io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rr(n))):W.resolve())}ys(e,n){if(a1(n))return W.resolve(null);let r=Rr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Th(n,null,"F"),r=Rr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ce(...i);return this.ps.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.Ds(n,l);return this.Cs(n,d,o,c.readTime)?this.ys(e,Th(n,null,"F")):this.vs(e,d,n,c)}))})))}ws(e,n,r,s){return a1(n)||s.isEqual(ye.min())?W.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?W.resolve(null):(No()<=Ne.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Io(n)),this.vs(e,o,n,nF(s,Sc)).next(l=>l))})}Ds(e,n){let r=new Nt(LI(e));return n.forEach((s,i)=>{Ef(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return No()<=Ne.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Io(n)),this.ps.getDocumentsMatchingQuery(e,n,mi.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="LocalStore",L6=3e8;class O6{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new ot(Ie),this.xs=new go(i=>Ov(i),Mv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new T6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function M6(t,e,n,r){return new O6(t,e,n,r)}async function sC(t,e){const n=ve(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let c=Ce();for(const d of s){o.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of i){l.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:l}))})})}function V6(t,e){const n=ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,d,h){const f=d.batch,m=f.keys();let y=W.resolve();return m.forEach(w=>{y=y.next(()=>h.getEntry(c,w)).next(x=>{const T=d.docVersions.get(w);Ve(T!==null,48541),x.version.compareTo(T)<0&&(f.applyToRemoteDocument(x,d),x.isValidDocument()&&(x.setReadTime(d.commitVersion),h.addEntry(x)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=Ce();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function iC(t){const e=ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function F6(t,e){const n=ve(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const l=[];e.targetChanges.forEach((h,f)=>{const m=s.get(f);if(!m)return;l.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let y=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(Vt.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),s=s.insert(f,y),function(x,T,_){return x.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=L6?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(m,y,h)&&l.push(n.Pi.updateTargetData(i,y))});let c=ds(),d=Ce();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),l.push(U6(i,o,e.documentUpdates).next(h=>{c=h.ks,d=h.qs})),!r.isEqual(ye.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(h)}return W.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.Ms=s,i))}function U6(t,e,n){let r=Ce(),s=Ce();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ds();return n.forEach((l,c)=>{const d=i.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(ye.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):re(Wv,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{ks:o,qs:s}})}function $6(t,e){const n=ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=jv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function B6(t,e){const n=ve(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,W.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Hs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Ug(t,e,n){const r=ve(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Wa(o))throw o;re(Wv,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function w1(t,e,n){const r=ve(t);let s=ye.min(),i=Ce();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,h){const f=ve(c),m=f.xs.get(h);return m!==void 0?W.resolve(f.Ms.get(m)):f.Pi.getTargetData(d,h)}(r,o,Rr(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:ye.min(),n?i:Ce())).next(l=>(z6(r,IF(e),l),{documents:l,Qs:i})))}function z6(t,e,n){let r=t.Os.get(e)||ye.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class _1{constructor(){this.activeTargetIds=jF()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class q6{constructor(){this.Mo=new _1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new _1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="ConnectivityMonitor";class b1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){re(E1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){re(E1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zu=null;function $g(){return Zu===null?Zu=function(){return 268435456+Math.round(2147483648*Math.random())}():Zu++,"0x"+Zu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="RestConnection",H6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class K6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===_h?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=$g(),l=this.zo(e,n.toUriEncodedString());re(Xm,`Sending RPC '${e}' ${o}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:d}=new URL(l),h=Ua(d);return this.Jo(e,l,c,r,h).then(f=>(re(Xm,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Ta(Xm,`RPC '${e}' ${o} failed with error: `,f,"url: ",l,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+za}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=H6[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht="WebChannelConnection";class Q6 extends K6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=$g();return new Promise((l,c)=>{const d=new aI;d.setWithCredentials(!0),d.listenOnce(lI.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Td.NO_ERROR:const f=d.getResponseJson();re(Ht,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),l(f);break;case Td.TIMEOUT:re(Ht,`RPC '${e}' ${o} timed out`),c(new te(z.DEADLINE_EXCEEDED,"Request time out"));break;case Td.HTTP_ERROR:const m=d.getStatus();if(re(Ht,`RPC '${e}' ${o} failed with status:`,m,"response text:",d.getResponseText()),m>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const w=y==null?void 0:y.error;if(w&&w.status&&w.message){const x=function(_){const v=_.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(v)>=0?v:z.UNKNOWN}(w.status);c(new te(x,w.message))}else c(new te(z.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new te(z.UNAVAILABLE,"Connection failed."));break;default:he(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{re(Ht,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);re(Ht,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",h,r,15)})}T_(e,n,r){const s=$g(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=dI(),l=uI(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");re(Ht,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=o.createWebChannel(h,c);this.I_(f);let m=!1,y=!1;const w=new G6({Yo:T=>{y?re(Ht,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(m||(re(Ht,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),re(Ht,`RPC '${e}' stream ${s} sending:`,T),f.send(T))},Zo:()=>f.close()}),x=(T,_,v)=>{T.listen(_,b=>{try{v(b)}catch(R){setTimeout(()=>{throw R},0)}})};return x(f,Nl.EventType.OPEN,()=>{y||(re(Ht,`RPC '${e}' stream ${s} transport opened.`),w.o_())}),x(f,Nl.EventType.CLOSE,()=>{y||(y=!0,re(Ht,`RPC '${e}' stream ${s} transport closed`),w.a_(),this.E_(f))}),x(f,Nl.EventType.ERROR,T=>{y||(y=!0,Ta(Ht,`RPC '${e}' stream ${s} transport errored. Name:`,T.name,"Message:",T.message),w.a_(new te(z.UNAVAILABLE,"The operation could not be completed")))}),x(f,Nl.EventType.MESSAGE,T=>{var _;if(!y){const v=T.data[0];Ve(!!v,16349);const b=v,R=(b==null?void 0:b.error)||((_=b[0])==null?void 0:_.error);if(R){re(Ht,`RPC '${e}' stream ${s} received error:`,R);const D=R.status;let O=function(I){const C=vt[I];if(C!==void 0)return HI(C)}(D),S=R.message;O===void 0&&(O=z.INTERNAL,S="Unknown error status: "+D+" with message "+R.message),y=!0,w.a_(new te(O,S)),f.close()}else re(Ht,`RPC '${e}' stream ${s} received:`,v),w.u_(v)}}),x(l,cI.STAT_EVENT,T=>{T.stat===Ag.PROXY?re(Ht,`RPC '${e}' stream ${s} detected buffering proxy`):T.stat===Ag.NOPROXY&&re(Ht,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.__()},0),w}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Jm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(t){return new ZF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&re("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="PersistentStream";class aC{constructor(e,n,r,s,i,o,l,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new oC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(us(n.toString()),us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new te(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return re(T1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(re(T1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Y6 extends aC{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=n6(this.serializer,e),r=function(i){if(!("targetChange"in i))return ye.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ye.min():o.readTime?Pr(o.readTime):ye.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Fg(this.serializer),n.addTarget=function(i,o){let l;const c=o.target;if(l=Dg(c)?{documents:i6(i,c)}:{query:o6(i,c).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=QI(i,o.resumeToken);const d=Og(i,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(ye.min())>0){l.readTime=Nh(i,o.snapshotVersion.toTimestamp());const d=Og(i,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=l6(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Fg(this.serializer),n.removeTarget=e,this.q_(n)}}class X6 extends aC{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=s6(e.writeResults,e.commitTime),r=Pr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Fg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>r6(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{}class Z6 extends J6{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new te(z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,Mg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new te(z.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ho(e,Mg(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(z.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class eU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(us(n),this.aa=!1):re("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co="RemoteStore";class tU{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{yo(this)&&(re(co,"Restarting streams for network reachability change."),await async function(c){const d=ve(c);d.Ea.add(4),await eu(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Cf(d)}(this))})}),this.Ra=new eU(r,s)}}async function Cf(t){if(yo(t))for(const e of t.da)await e(!0)}async function eu(t){for(const e of t.da)await e(!1)}function lC(t,e){const n=ve(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Qv(n)?Gv(n):Ka(n).O_()&&Kv(n,e))}function Hv(t,e){const n=ve(t),r=Ka(n);n.Ia.delete(e),r.O_()&&cC(n,e),n.Ia.size===0&&(r.O_()?r.L_():yo(n)&&n.Ra.set("Unknown"))}function Kv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ka(t).Y_(e)}function cC(t,e){t.Va.Ue(e),Ka(t).Z_(e)}function Gv(t){t.Va=new QF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ka(t).start(),t.Ra.ua()}function Qv(t){return yo(t)&&!Ka(t).x_()&&t.Ia.size>0}function yo(t){return ve(t).Ea.size===0}function uC(t){t.Va=void 0}async function nU(t){t.Ra.set("Online")}async function rU(t){t.Ia.forEach((e,n)=>{Kv(t,e)})}async function sU(t,e){uC(t),Qv(t)?(t.Ra.ha(e),Gv(t)):t.Ra.set("Unknown")}async function iU(t,e,n){if(t.Ra.set("Online"),e instanceof GI&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.Ia.delete(l),s.Va.removeTarget(l))}(t,e)}catch(r){re(co,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ch(t,r)}else if(e instanceof Cd?t.Va.Ze(e):e instanceof KI?t.Va.st(e):t.Va.tt(e),!n.isEqual(ye.min()))try{const r=await iC(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.Va.Tt(o);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,d)=>{const h=i.Ia.get(c);if(!h)return;i.Ia.set(c,h.withResumeToken(Vt.EMPTY_BYTE_STRING,h.snapshotVersion)),cC(i,c);const f=new Hs(h.target,c,d,h.sequenceNumber);Kv(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){re(co,"Failed to raise snapshot:",r),await Ch(t,r)}}async function Ch(t,e,n){if(!Wa(e))throw e;t.Ea.add(1),await eu(t),t.Ra.set("Offline"),n||(n=()=>iC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{re(co,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Cf(t)})}function dC(t,e){return e().catch(n=>Ch(t,n,e))}async function Af(t){const e=ve(t),n=vi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:jv;for(;oU(e);)try{const s=await $6(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,aU(e,s)}catch(s){await Ch(e,s)}hC(e)&&fC(e)}function oU(t){return yo(t)&&t.Ta.length<10}function aU(t,e){t.Ta.push(e);const n=vi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function hC(t){return yo(t)&&!vi(t).x_()&&t.Ta.length>0}function fC(t){vi(t).start()}async function lU(t){vi(t).ra()}async function cU(t){const e=vi(t);for(const n of t.Ta)e.ea(n.mutations)}async function uU(t,e,n){const r=t.Ta.shift(),s=Fv.from(r,e,n);await dC(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Af(t)}async function dU(t,e){e&&vi(t).X_&&await async function(r,s){if(function(o){return HF(o)&&o!==z.ABORTED}(s.code)){const i=r.Ta.shift();vi(r).B_(),await dC(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Af(r)}}(t,e),hC(t)&&fC(t)}async function S1(t,e){const n=ve(t);n.asyncQueue.verifyOperationInProgress(),re(co,"RemoteStore received new credentials");const r=yo(n);n.Ea.add(3),await eu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Cf(n)}async function hU(t,e){const n=ve(t);e?(n.Ea.delete(2),await Cf(n)):e||(n.Ea.add(2),await eu(n),n.Ra.set("Unknown"))}function Ka(t){return t.ma||(t.ma=function(n,r,s){const i=ve(n);return i.sa(),new Y6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:nU.bind(null,t),t_:rU.bind(null,t),r_:sU.bind(null,t),H_:iU.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Qv(t)?Gv(t):t.Ra.set("Unknown")):(await t.ma.stop(),uC(t))})),t.ma}function vi(t){return t.fa||(t.fa=function(n,r,s){const i=ve(n);return i.sa(),new X6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:lU.bind(null,t),r_:dU.bind(null,t),ta:cU.bind(null,t),na:uU.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Af(t)):(await t.fa.stop(),t.Ta.length>0&&(re(co,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new Yv(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xv(t,e){if(us("AsyncQueue",`${e}: ${t}`),Wa(t))return new te(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{static emptySet(e){return new ta(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ae.comparator(n.key,r.key):(n,r)=>ae.comparator(n.key,r.key),this.keyedMap=Il(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ta)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ta;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(){this.ga=new ot(ae.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):he(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Aa{constructor(e,n,r,s,i,o,l,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Aa(e,n,ta.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_f(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class mU{constructor(){this.queries=I1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ve(n),i=s.queries;s.queries=I1(),i.forEach((o,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new te(z.ABORTED,"Firestore shutting down"))}}function I1(){return new go(t=>DI(t),_f)}async function Jv(t,e){const n=ve(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new fU,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=Xv(o,`Initialization of query '${Io(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&e0(n)}async function Zv(t,e){const n=ve(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function pU(t,e){const n=ve(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.Sa)l.Fa(s)&&(r=!0);o.wa=s}}r&&e0(n)}function gU(t,e,n){const r=ve(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function e0(t){t.Ca.forEach(e=>{e.next()})}var Bg,C1;(C1=Bg||(Bg={})).Ma="default",C1.Cache="cache";class t0{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Aa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Aa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Bg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e){this.key=e}}class pC{constructor(e){this.key=e}}class yU{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ce(),this.mutatedKeys=Ce(),this.eu=LI(e),this.tu=new ta(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new N1,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const m=s.get(h),y=Ef(this.query,f)?f:null,w=!!m&&this.mutatedKeys.has(m.key),x=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let T=!1;m&&y?m.data.isEqual(y.data)?w!==x&&(r.track({type:3,doc:y}),T=!0):this.su(m,y)||(r.track({type:2,doc:y}),T=!0,(c&&this.eu(y,c)>0||d&&this.eu(y,d)<0)&&(l=!0)):!m&&y?(r.track({type:0,doc:y}),T=!0):m&&!y&&(r.track({type:1,doc:m}),T=!0,(c||d)&&(l=!0)),T&&(y?(o=o.add(y),i=x?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(y,w){const x=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he(20277,{Rt:T})}};return x(y)-x(w)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const l=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,d=c!==this.Za;return this.Za=c,o.length!==0||d?{snapshot:new Aa(this.query,e.tu,i,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new N1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ce(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new pC(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new mC(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ce();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Aa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const n0="SyncEngine";class vU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class xU{constructor(e){this.key=e,this.hu=!1}}class wU{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new go(l=>DI(l),_f),this.Iu=new Map,this.Eu=new Set,this.du=new ot(ae.comparator),this.Au=new Map,this.Ru=new Bv,this.Vu={},this.mu=new Map,this.fu=Ca.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _U(t,e,n=!0){const r=_C(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await gC(r,e,n,!0),s}async function EU(t,e){const n=_C(t);await gC(n,e,!0,!1)}async function gC(t,e,n,r){const s=await B6(t.localStore,Rr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await bU(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&lC(t.remoteStore,s),l}async function bU(t,e,n,r,s){t.pu=(f,m,y)=>async function(x,T,_,v){let b=T.view.ru(_);b.Cs&&(b=await w1(x.localStore,T.query,!1).then(({documents:S})=>T.view.ru(S,b)));const R=v&&v.targetChanges.get(T.targetId),D=v&&v.targetMismatches.get(T.targetId)!=null,O=T.view.applyChanges(b,x.isPrimaryClient,R,D);return R1(x,T.targetId,O.au),O.snapshot}(t,f,m,y);const i=await w1(t.localStore,e,!0),o=new yU(e,i.Qs),l=o.ru(i.documents),c=Zc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(l,t.isPrimaryClient,c);R1(t,n,d.au);const h=new vU(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function TU(t,e,n){const r=ve(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!_f(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Ug(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Hv(r.remoteStore,s.targetId),zg(r,s.targetId)}).catch(qa)):(zg(r,s.targetId),await Ug(r.localStore,s.targetId,!0))}async function SU(t,e){const n=ve(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Hv(n.remoteStore,r.targetId))}async function NU(t,e,n){const r=jU(t);try{const s=await function(o,l){const c=ve(o),d=Xe.now(),h=l.reduce((y,w)=>y.add(w.key),Ce());let f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let w=ds(),x=Ce();return c.Ns.getEntries(y,h).next(T=>{w=T,w.forEach((_,v)=>{v.isValidDocument()||(x=x.add(_))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,w)).next(T=>{f=T;const _=[];for(const v of l){const b=$F(v,f.get(v.key).overlayedDocument);b!=null&&_.push(new Si(v.key,b,NI(b.value.mapValue),cn.exists(!0)))}return c.mutationQueue.addMutationBatch(y,d,_,l)}).next(T=>{m=T;const _=T.applyToLocalDocumentSet(f,x);return c.documentOverlayCache.saveOverlays(y,T.batchId,_)})}).then(()=>({batchId:m.batchId,changes:MI(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let d=o.Vu[o.currentUser.toKey()];d||(d=new ot(Ie)),d=d.insert(l,c),o.Vu[o.currentUser.toKey()]=d}(r,s.batchId,n),await tu(r,s.changes),await Af(r.remoteStore)}catch(s){const i=Xv(s,"Failed to persist write");n.reject(i)}}async function yC(t,e){const n=ve(t);try{const r=await F6(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Ve(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ve(o.hu,14607):s.removedDocuments.size>0&&(Ve(o.hu,42227),o.hu=!1))}),await tu(n,r,e)}catch(r){await qa(r)}}function A1(t,e,n){const r=ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const l=o.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=ve(o);c.onlineState=l;let d=!1;c.queries.forEach((h,f)=>{for(const m of f.Sa)m.va(l)&&(d=!0)}),d&&e0(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function IU(t,e,n){const r=ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new ot(ae.comparator);o=o.insert(i,Yt.newNoDocument(i,ye.min()));const l=Ce().add(i),c=new Nf(ye.min(),new Map,new ot(Ie),o,l);await yC(r,c),r.du=r.du.remove(i),r.Au.delete(e),r0(r)}else await Ug(r.localStore,e,!1).then(()=>zg(r,e,n)).catch(qa)}async function CU(t,e){const n=ve(t),r=e.batch.batchId;try{const s=await V6(n.localStore,e);xC(n,r,null),vC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await tu(n,s)}catch(s){await qa(s)}}async function AU(t,e,n){const r=ve(t);try{const s=await function(o,l){const c=ve(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,l).next(f=>(Ve(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(d,f))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(r.localStore,e);xC(r,e,n),vC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await tu(r,s)}catch(s){await qa(s)}}function vC(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function xC(t,e,n){const r=ve(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function zg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||wC(t,r)})}function wC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Hv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),r0(t))}function R1(t,e,n){for(const r of n)r instanceof mC?(t.Ru.addReference(r.key,e),RU(t,r)):r instanceof pC?(re(n0,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||wC(t,r.key)):he(19791,{wu:r})}function RU(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(re(n0,"New document in limbo: "+n),t.Eu.add(r),r0(t))}function r0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ae(qe.fromString(e)),r=t.fu.next();t.Au.set(r,new xU(n)),t.du=t.du.insert(n,r),lC(t.remoteStore,new Hs(Rr(wf(n.path)),r,"TargetPurposeLimboResolution",yf.ce))}}async function tu(t,e,n){const r=ve(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((l,c)=>{o.push(r.pu(c,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){s.push(d);const f=qv.As(c.targetId,d);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(c,d){const h=ve(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>W.forEach(d,m=>W.forEach(m.Es,y=>h.persistence.referenceDelegate.addReference(f,m.targetId,y)).next(()=>W.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(f,m.targetId,y)))))}catch(f){if(!Wa(f))throw f;re(Wv,"Failed to update sequence numbers: "+f)}for(const f of d){const m=f.targetId;if(!f.fromCache){const y=h.Ms.get(m),w=y.snapshotVersion,x=y.withLastLimboFreeSnapshotVersion(w);h.Ms=h.Ms.insert(m,x)}}}(r.localStore,i))}async function PU(t,e){const n=ve(t);if(!n.currentUser.isEqual(e)){re(n0,"User change. New user:",e.toKey());const r=await sC(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(l=>{l.forEach(c=>{c.reject(new te(z.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await tu(n,r.Ls)}}function kU(t,e){const n=ve(t),r=n.Au.get(e);if(r&&r.hu)return Ce().add(r.key);{let s=Ce();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const l=n.Tu.get(o);s=s.unionWith(l.view.nu)}return s}}function _C(t){const e=ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IU.bind(null,e),e.Pu.H_=pU.bind(null,e.eventManager),e.Pu.yu=gU.bind(null,e.eventManager),e}function jU(t){const e=ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AU.bind(null,e),e}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=If(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return M6(this.persistence,new D6,e.initialUser,this.serializer)}Cu(e){return new rC(zv.mi,this.serializer)}Du(e){return new q6}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class DU extends Ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ve(this.persistence.referenceDelegate instanceof Ih,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new x6(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new rC(r=>Ih.mi(r,n),this.serializer)}}class qg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>A1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=PU.bind(null,this.syncEngine),await hU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new mU}()}createDatastore(e){const n=If(e.databaseInfo.databaseId),r=function(i){return new Q6(i)}(e.databaseInfo);return function(i,o,l,c){return new Z6(i,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new tU(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>A1(this.syncEngine,n,0),function(){return b1.v()?new b1:new W6}())}createSyncEngine(e,n){return function(s,i,o,l,c,d,h){const f=new wU(s,i,o,l,c,d);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ve(s);re(co,"RemoteStore shutting down."),i.Ea.add(5),await eu(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}qg.provider={build:()=>new qg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):us("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi="FirestoreClient";class LU{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Gt.UNAUTHENTICATED,this.clientId=kv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{re(xi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(re(xi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Xv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Zm(t,e){t.asyncQueue.verifyOperationInProgress(),re(xi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await sC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function P1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await OU(t);re(xi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>S1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>S1(e.remoteStore,s)),t._onlineComponents=e}async function OU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re(xi,"Using user provided OfflineComponentProvider");try{await Zm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===z.FAILED_PRECONDITION||s.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ta("Error using user provided cache. Falling back to memory cache: "+n),await Zm(t,new Ah)}}else re(xi,"Using default OfflineComponentProvider"),await Zm(t,new DU(void 0));return t._offlineComponents}async function EC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(re(xi,"Using user provided OnlineComponentProvider"),await P1(t,t._uninitializedComponentsProvider._online)):(re(xi,"Using default OnlineComponentProvider"),await P1(t,new qg))),t._onlineComponents}function MU(t){return EC(t).then(e=>e.syncEngine)}async function Rh(t){const e=await EC(t),n=e.eventManager;return n.onListen=_U.bind(null,e.syncEngine),n.onUnlisten=TU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=EU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=SU.bind(null,e.syncEngine),n}function VU(t,e,n={}){const r=new es;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,d){const h=new s0({next:m=>{h.Nu(),o.enqueueAndForget(()=>Zv(i,f));const y=m.docs.has(l);!y&&m.fromCache?d.reject(new te(z.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&c&&c.source==="server"?d.reject(new te(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(m)},error:m=>d.reject(m)}),f=new t0(wf(l.path),h,{includeMetadataChanges:!0,qa:!0});return Jv(i,f)}(await Rh(t),t.asyncQueue,e,n,r)),r.promise}function FU(t,e,n={}){const r=new es;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,d){const h=new s0({next:m=>{h.Nu(),o.enqueueAndForget(()=>Zv(i,f)),m.fromCache&&c.source==="server"?d.reject(new te(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(m)},error:m=>d.reject(m)}),f=new t0(l,h,{includeMetadataChanges:!0,qa:!0});return Jv(i,f)}(await Rh(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="firestore.googleapis.com",j1=!0;class D1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new te(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TC,this.ssl=j1}else this.host=e.host,this.ssl=e.ssl??j1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<y6)throw new te(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bC(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new te(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new te(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new te(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new W3;switch(r.type){case"firstParty":return new Q3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=k1.get(n);r&&(re("ComponentProvider","Removing Datastore"),k1.delete(n),r.terminate())}(this),Promise.resolve()}}function UU(t,e,n,r={}){var d;t=ln(t,Rf);const s=Ua(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;s&&(vN(`https://${l}`),xN("Firestore",!0)),i.host!==TC&&i.host!==l&&Ta("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:l,ssl:s,emulatorOptions:r};if(!so(c,o)&&(t._setSettings(c),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Gt.MOCK_USER;else{h=XO(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new te(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Gt(m)}t._authCredentials=new H3(new fI(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ys(this.firestore,e,this._query)}}class ht{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ai(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ht(this.firestore,e,this._key)}toJSON(){return{type:ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Xc(n,ht._jsonSchema))return new ht(e,r||null,new ae(qe.fromString(n.referencePath)))}}ht._jsonSchemaVersion="firestore/documentReference/1.0",ht._jsonSchema={type:_t("string",ht._jsonSchemaVersion),referencePath:_t("string")};class ai extends ys{constructor(e,n,r){super(e,n,wf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ht(this.firestore,null,new ae(e))}withConverter(e){return new ai(this.firestore,e,this._path)}}function Xt(t,e,...n){if(t=ft(t),mI("collection","path",e),t instanceof Rf){const r=qe.fromString(e,...n);return K_(r),new ai(t,null,r)}{if(!(t instanceof ht||t instanceof ai))throw new te(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return K_(r),new ai(t.firestore,null,r)}}function Rt(t,e,...n){if(t=ft(t),arguments.length===1&&(e=kv.newId()),mI("doc","path",e),t instanceof Rf){const r=qe.fromString(e,...n);return H_(r),new ht(t,null,new ae(r))}{if(!(t instanceof ht||t instanceof ai))throw new te(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return H_(r),new ht(t.firestore,t instanceof ai?t.converter:null,new ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="AsyncQueue";class O1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new oC(this,"async_queue_retry"),this._c=()=>{const r=Jm();r&&re(L1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Jm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Jm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new es;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Wa(e))throw e;re(L1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,us("INTERNAL UNHANDLED ERROR: ",M1(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Yv.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&he(47125,{Pc:M1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function M1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Mr extends Rf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new O1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new O1(e),this._firestoreClient=void 0,await e}}}function $U(t,e){const n=typeof t=="object"?t:bN(),r=typeof t=="string"?t:_h,s=wv(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=QO("firestore");i&&UU(s,...i)}return s}function nu(t){if(t._terminated)throw new te(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||BU(t),t._firestoreClient}function BU(t){var r,s,i;const e=t._freezeSettings(),n=function(l,c,d,h){return new hF(l,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,bC(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new LU(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qn(Vt.fromBase64String(e))}catch(n){throw new te(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qn(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xc(e,qn._jsonSchema))return qn.fromBase64String(e.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:_t("string",qn._jsonSchemaVersion),bytes:_t("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:kr._jsonSchemaVersion}}static fromJSON(e){if(Xc(e,kr._jsonSchema))return new kr(e.latitude,e.longitude)}}kr._jsonSchemaVersion="firestore/geoPoint/1.0",kr._jsonSchema={type:_t("string",kr._jsonSchemaVersion),latitude:_t("number"),longitude:_t("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:jr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xc(e,jr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new jr(e.vectorValues);throw new te(z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}jr._jsonSchemaVersion="firestore/vectorValue/1.0",jr._jsonSchema={type:_t("string",jr._jsonSchemaVersion),vectorValues:_t("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU=/^__.*__$/;class qU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Si(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jc(e,this.data,n,this.fieldTransforms)}}class SC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Si(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function NC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he(40011,{Ac:t})}}class i0{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new i0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ph(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(NC(this.Ac)&&zU.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class WU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||If(e)}Cc(e,n,r,s=!1){return new i0({Ac:e,methodName:n,Dc:r,path:Lt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function su(t){const e=t._freezeSettings(),n=If(t._databaseId);return new WU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function o0(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);l0("Data must be an object, but it was:",o,r);const l=AC(r,o);let c,d;if(i.merge)c=new kn(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const m=Wg(e,f,n);if(!o.contains(m))throw new te(z.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);PC(h,m)||h.push(m)}c=new kn(h),d=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,d=o.fieldTransforms;return new qU(new yn(l),c,d)}class kf extends Pf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kf}}class a0 extends Pf{_toFieldTransform(e){return new MF(e.path,new Rc)}isEqual(e){return e instanceof a0}}function IC(t,e,n,r){const s=t.Cc(1,e,n);l0("Data must be an object, but it was:",s,r);const i=[],o=yn.empty();Ti(r,(c,d)=>{const h=c0(e,c,n);d=ft(d);const f=s.yc(h);if(d instanceof kf)i.push(h);else{const m=iu(d,f);m!=null&&(i.push(h),o.set(h,m))}});const l=new kn(i);return new SC(o,l,s.fieldTransforms)}function CC(t,e,n,r,s,i){const o=t.Cc(1,e,n),l=[Wg(e,r,n)],c=[s];if(i.length%2!=0)throw new te(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)l.push(Wg(e,i[m])),c.push(i[m+1]);const d=[],h=yn.empty();for(let m=l.length-1;m>=0;--m)if(!PC(d,l[m])){const y=l[m];let w=c[m];w=ft(w);const x=o.yc(y);if(w instanceof kf)d.push(y);else{const T=iu(w,x);T!=null&&(d.push(y),h.set(y,T))}}const f=new kn(d);return new SC(h,f,o.fieldTransforms)}function HU(t,e,n,r=!1){return iu(n,t.Cc(r?4:3,e))}function iu(t,e){if(RC(t=ft(t)))return l0("Unsupported field value:",e,t),AC(t,e);if(t instanceof Pf)return function(r,s){if(!NC(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let c=iu(l,s.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return DF(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Xe.fromDate(r);return{timestampValue:Nh(s.serializer,i)}}if(r instanceof Xe){const i=new Xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Nh(s.serializer,i)}}if(r instanceof kr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qn)return{bytesValue:QI(s.serializer,r._byteString)};if(r instanceof ht){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:$v(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof jr)return function(o,l){return{mapValue:{fields:{[bI]:{stringValue:SI},[Eh]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return Vv(l.serializer,d)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${gf(r)}`)}(t,e)}function AC(t,e){const n={};return yI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ti(t,(r,s)=>{const i=iu(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function RC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xe||t instanceof kr||t instanceof qn||t instanceof ht||t instanceof Pf||t instanceof jr)}function l0(t,e,n){if(!RC(n)||!pI(n)){const r=gf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Wg(t,e,n){if((e=ft(e))instanceof ru)return e._internalPath;if(typeof e=="string")return c0(t,e);throw Ph("Field path arguments must be of type string or ",t,!1,void 0,n)}const KU=new RegExp("[~\\*/\\[\\]]");function c0(t,e,n){if(e.search(KU)>=0)throw Ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ru(...e.split("."))._internalPath}catch{throw Ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ph(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new te(z.INVALID_ARGUMENT,l+t+c)}function PC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(jf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class GU extends kC{data(){return super.data()}}function jf(t,e){return typeof e=="string"?c0(t,e):e instanceof ru?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class u0{}class d0 extends u0{}function ur(t,e,...n){let r=[];e instanceof u0&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof h0).length,l=i.filter(c=>c instanceof Df).length;if(o>1||o>0&&l>0)throw new te(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Df extends d0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Df(e,n,r)}_apply(e){const n=this._parse(e);return DC(e._query,n),new ys(e.firestore,e.converter,Lg(e._query,n))}_parse(e){const n=su(e.firestore);return function(i,o,l,c,d,h,f){let m;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new te(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){U1(f,h);const w=[];for(const x of f)w.push(F1(c,i,x));m={arrayValue:{values:w}}}else m=F1(c,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||U1(f,h),m=HU(l,o,f,h==="in"||h==="not-in");return wt.create(d,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Gi(t,e,n){const r=e,s=jf("where",t);return Df._create(s,r,n)}class h0 extends u0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new h0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:mr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const c of l)DC(o,c),o=Lg(o,c)}(e._query,n),new ys(e.firestore,e.converter,Lg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class f0 extends d0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new f0(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new te(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new te(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ac(i,o)}(e._query,this._field,this._direction);return new ys(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Ha(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Lf(t,e="asc"){const n=e,r=jf("orderBy",t);return f0._create(r,n)}class m0 extends d0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new m0(e,n,r)}_apply(e){return new ys(e.firestore,e.converter,Th(e._query,this._limit,this._limitType))}}function QU(t){return m0._create("limit",t,"F")}function F1(t,e,n){if(typeof(n=ft(n))=="string"){if(n==="")throw new te(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jI(e)&&n.indexOf("/")!==-1)throw new te(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(qe.fromString(n));if(!ae.isDocumentKey(r))throw new te(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return t1(t,new ae(r))}if(n instanceof ht)return t1(t,n._key);throw new te(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gf(n)}.`)}function U1(t,e){if(!Array.isArray(t)||t.length===0)throw new te(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function DC(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new te(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class YU{convertValue(e,n="none"){switch(yi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(gi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw he(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ti(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Eh].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>mt(o.doubleValue));return new jr(n)}convertGeoPoint(e){return new kr(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=xf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Nc(e));default:return null}}convertTimestamp(e){const n=pi(e);return new Xe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=qe.fromString(e);Ve(tC(r),9688,{name:e});const s=new Ic(r.get(1),r.get(3)),i=new ae(r.popFirst(5));return s.isEqual(n)||us(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Al{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qi extends kC{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ad(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(jf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new te(z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Qi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Qi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qi._jsonSchema={type:_t("string",Qi._jsonSchemaVersion),bundleSource:_t("string","DocumentSnapshot"),bundleName:_t("string"),bundle:_t("string")};class Ad extends Qi{data(e={}){return super.data(e)}}class Yi{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Al(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ad(this._firestore,this._userDataWriter,r.key,r,new Al(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new Ad(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Al(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new Ad(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Al(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:XU(l.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new te(z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Yi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=kv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function XU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(t){t=ln(t,ht);const e=ln(t.firestore,Mr);return VU(nu(e),t._key).then(n=>LC(e,t,n))}Yi._jsonSchemaVersion="firestore/querySnapshot/1.0",Yi._jsonSchema={type:_t("string",Yi._jsonSchemaVersion),bundleSource:_t("string","QuerySnapshot"),bundleName:_t("string"),bundle:_t("string")};class g0 extends YU{constructor(e){super(),this.firestore=e}convertBytes(e){return new qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ht(this.firestore,null,n)}}function Ks(t){t=ln(t,ys);const e=ln(t.firestore,Mr),n=nu(e),r=new g0(e);return jC(t._query),FU(n,t._query).then(s=>new Yi(e,r,t,s))}function ep(t,e,n){t=ln(t,ht);const r=ln(t.firestore,Mr),s=p0(t.converter,e,n);return ou(r,[o0(su(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,cn.none())])}function Ra(t,e,n,...r){t=ln(t,ht);const s=ln(t.firestore,Mr),i=su(s);let o;return o=typeof(e=ft(e))=="string"||e instanceof ru?CC(i,"updateDoc",t._key,e,n,r):IC(i,"updateDoc",t._key,e),ou(s,[o.toMutation(t._key,cn.exists(!0))])}function $1(t){return ou(ln(t.firestore,Mr),[new Sf(t._key,cn.none())])}function y0(t,e){const n=ln(t.firestore,Mr),r=Rt(t),s=p0(t.converter,e);return ou(n,[o0(su(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,cn.exists(!1))]).then(()=>r)}function Xl(t,...e){var c,d,h;t=ft(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||V1(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(V1(e[r])){const f=e[r];e[r]=(c=f.next)==null?void 0:c.bind(f),e[r+1]=(d=f.error)==null?void 0:d.bind(f),e[r+2]=(h=f.complete)==null?void 0:h.bind(f)}let i,o,l;if(t instanceof ht)o=ln(t.firestore,Mr),l=wf(t._key.path),i={next:f=>{e[r]&&e[r](LC(o,t,f))},error:e[r+1],complete:e[r+2]};else{const f=ln(t,ys);o=ln(f.firestore,Mr),l=f._query;const m=new g0(o);i={next:y=>{e[r]&&e[r](new Yi(o,m,f,y))},error:e[r+1],complete:e[r+2]},jC(t._query)}return function(m,y,w,x){const T=new s0(x),_=new t0(y,T,w);return m.asyncQueue.enqueueAndForget(async()=>Jv(await Rh(m),_)),()=>{T.Nu(),m.asyncQueue.enqueueAndForget(async()=>Zv(await Rh(m),_))}}(nu(o),l,s,i)}function ou(t,e){return function(r,s){const i=new es;return r.asyncQueue.enqueueAndForget(async()=>NU(await MU(r),s,i)),i.promise}(nu(t),e)}function LC(t,e,n){const r=n.docs.get(e._key),s=new g0(t);return new Qi(t,s,e._key,r,new Al(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=su(e)}set(e,n,r){this._verifyNotCommitted();const s=tp(e,this._firestore),i=p0(s.converter,n,r),o=o0(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(o.toMutation(s._key,cn.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const i=tp(e,this._firestore);let o;return o=typeof(n=ft(n))=="string"||n instanceof ru?CC(this._dataReader,"WriteBatch.update",i._key,n,r,s):IC(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(o.toMutation(i._key,cn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=tp(e,this._firestore);return this._mutations=this._mutations.concat(new Sf(n._key,cn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new te(z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function tp(t,e){if((t=ft(t)).firestore!==e)throw new te(z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function np(){return new a0("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(t){return nu(t=ln(t,Mr)),new JU(t,e=>ou(t,e))}(function(e,n=!0){(function(s){za=s})($a),ba(new io("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new Mr(new K3(r.getProvider("auth-internal")),new Y3(o,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new te(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ic(d.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),ii(B_,z_,e),ii(B_,z_,"esm2020")})();const ZU={apiKey:"AIzaSyAqWtjElgQxEyIgof8MwDr58l1kdI9WpPE",authDomain:"qarshain.firebaseapp.com",projectId:"qarshain",storageBucket:"qarshain.firebasestorage.app",messagingSenderId:"45210054071",appId:"1:45210054071:web:56c7c182c00ef55dea0c32"},OC=EN(ZU),Cs=z3(OC),Pe=$U(OC),MC=new Kr;MC.setCustomParameters({prompt:"select_account"});const VC=g.createContext(void 0),e9=({children:t})=>{const[e,n]=g.useState(null),[r,s]=g.useState(!0),[i,o]=g.useState(null),[l,c]=g.useState(null),[d,h]=g.useState(null),[f,m]=g.useState(!1);g.useEffect(()=>{const b=P5(Cs,async R=>{if(n(R),s(!1),m(!!(R!=null&&R.emailVerified)),R){const D=Rt(Pe,"users",R.uid),O=await Sr(D);if(O.exists()){const S=O.data();c(S.name||null),h(S.userType||null)}else c(R.displayName||null),h(null)}else c(null),h(null)});return()=>b()},[]);const y=async(b,R)=>{o(null),s(!0);try{await C5(Cs,b,R)}catch(D){o(D.message)}finally{s(!1)}},w=async(b,R,D,O)=>{o(null),s(!0);try{const S=await I5(Cs,R,D),N={name:b,email:R,userType:O,kycStatus:"pending",createdAt:new Date,updatedAt:new Date,mobileNumber:"",idNumber:"",idPhotoUrl:"",verifiedAt:null,adminAction:null,adminId:null,adminEmail:null};await ep(Rt(Pe,"users",S.user.uid),N),await P_(S.user),console.log(" User created successfully with pending KYC status:",N)}catch(S){o(S.message),console.error(" Error creating user:",S)}finally{s(!1)}},x=async()=>{o(null),s(!0);try{const b=await J5(Cs,MC);if(b.user){const R=Rt(Pe,"users",b.user.uid);if((await Sr(R)).exists())await ep(R,{name:b.user.displayName,email:b.user.email,updatedAt:new Date},{merge:!0});else{const O={name:b.user.displayName,email:b.user.email,userType:"borrower",kycStatus:"pending",createdAt:new Date,updatedAt:new Date,mobileNumber:"",idNumber:"",idPhotoUrl:"",verifiedAt:null,adminAction:null,adminId:null,adminEmail:null};await ep(R,O),console.log(" Google user created successfully with pending KYC status:",O)}}}catch(b){o(b.message),console.error(" Error with Google login:",b)}finally{s(!1)}},T=async b=>{o(null),s(!0);try{await N5(Cs,b)}catch(R){o(R.message)}finally{s(!1)}},_=async()=>{o(null),s(!0);try{Cs.currentUser&&await P_(Cs.currentUser)}catch(b){o(b.message)}finally{s(!1)}},v=async()=>{o(null),s(!0);try{await k5(Cs)}catch(b){o(b.message)}finally{s(!1)}};return a.jsx(VC.Provider,{value:{user:e,loading:r,error:i,login:y,signup:w,logout:v,loginWithGoogle:x,resetPassword:T,sendVerification:_,userName:l,userType:d,emailVerified:f},children:t})},Xn=()=>{const t=g.useContext(VC);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},FC=g.createContext(void 0),t9=()=>{const t=g.useContext(FC);if(!t)throw new Error("useNotifications must be used within a NotificationProvider");return t},n9=({children:t})=>{const{user:e}=Xn(),[n,r]=g.useState([]);g.useEffect(()=>{if(!e){r([]);return}const h=ur(Xt(Pe,"notifications"),Gi("userId","==",e.uid),Lf("createdAt","desc")),f=Xl(h,m=>{const y=m.docs.map(w=>{var x;return{id:w.id,...w.data(),createdAt:((x=w.data().createdAt)==null?void 0:x.toDate())||new Date}});r(y)});return()=>f()},[e]);const s=n.filter(h=>!h.read).length,d={notifications:n,unreadCount:s,markAsRead:async h=>{const f=Rt(Pe,"notifications",h);await Ra(f,{read:!0})},markAllAsRead:async()=>{if(!e)return;const h=B1(Pe);n.filter(f=>!f.read).forEach(f=>{const m=Rt(Pe,"notifications",f.id);h.update(m,{read:!0})}),await h.commit()},addNotification:async h=>{if(!e)return;const f={...h,createdAt:new Date};await y0(Xt(Pe,"notifications"),f)},clearNotifications:async()=>{if(!e)return;const h=B1(Pe);n.forEach(f=>{const m=Rt(Pe,"notifications",f.id);h.delete(m)}),await h.commit()}};return a.jsx(FC.Provider,{value:d,children:t})},r9=Zh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Et({className:t,variant:e,...n}){return a.jsx("div",{className:Le(r9({variant:e}),t),...n})}const xe=g.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Le("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));xe.displayName="Card";const Ae=g.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Le("flex flex-col space-y-1.5 p-6",t),...e}));Ae.displayName="CardHeader";const Re=g.forwardRef(({className:t,...e},n)=>a.jsx("h3",{ref:n,className:Le("text-2xl font-semibold leading-none tracking-tight",t),...e}));Re.displayName="CardTitle";const s9=g.forwardRef(({className:t,...e},n)=>a.jsx("p",{ref:n,className:Le("text-sm text-muted-foreground",t),...e}));s9.displayName="CardDescription";const be=g.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Le("p-6 pt-0",t),...e}));be.displayName="CardContent";const i9=g.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Le("flex items-center p-6 pt-0",t),...e}));i9.displayName="CardFooter";const o9=({className:t})=>{const{notifications:e,unreadCount:n,markAsRead:r,markAllAsRead:s,clearNotifications:i}=t9(),{language:o}=Ft(),l=o==="ar",[c,d]=g.useState(!1),h={notifications:l?"":"Notifications",markAllRead:l?"  ":"Mark All as Read",clearAll:l?" ":"Clear All",noNotifications:l?"  ":"No notifications",unread:l?" ":"unread",today:l?"":"Today",yesterday:l?"":"Yesterday",thisWeek:l?" ":"This Week",older:l?"":"Older"},f=T=>{switch(T){case"loan_approved":return a.jsx(Hn,{className:"h-5 w-5 text-green-600"});case"loan_rejected":return a.jsx(Ki,{className:"h-5 w-5 text-red-600"});case"additional_data_requested":return a.jsx(zn,{className:"h-5 w-5 text-orange-600"});case"investment_matched":return a.jsx(ef,{className:"h-5 w-5 text-blue-600"});case"payment_due":return a.jsx(Cr,{className:"h-5 w-5 text-yellow-600"});default:return a.jsx(rS,{className:"h-5 w-5 text-gray-600"})}},m=T=>{switch(T){case"loan_approved":return"border-green-200 bg-green-50";case"loan_rejected":return"border-red-200 bg-red-50";case"additional_data_requested":return"border-orange-200 bg-orange-50";case"investment_matched":return"border-blue-200 bg-blue-50";case"payment_due":return"border-yellow-200 bg-yellow-50";default:return"border-gray-200 bg-gray-50"}},y=T=>{const v=Math.abs(new Date().getTime()-T.getTime()),b=Math.ceil(v/(1e3*60*60*24));return b===1?h.today:b===2?h.yesterday:b<=7?h.thisWeek:h.older},w=e.reduce((T,_)=>{const v=y(_.createdAt);return T[v]||(T[v]=[]),T[v].push(_),T},{}),x=T=>{T.read||r(T.id),d(!1)};return a.jsxs("div",{className:`relative ${t}`,children:[a.jsxs(K,{variant:"ghost",size:"sm",className:"relative p-2",onClick:()=>d(!c),children:[a.jsx(Lm,{className:"h-5 w-5"}),n>0&&a.jsx(Et,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 text-xs",children:n>9?"9+":n})]}),c&&a.jsx("div",{className:"absolute right-0 top-12 w-96 z-50",children:a.jsxs(xe,{className:"shadow-lg border-2",children:[a.jsx(Ae,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Re,{className:"text-lg flex items-center gap-2",children:[a.jsx(Lm,{className:"h-5 w-5"}),h.notifications,n>0&&a.jsxs(Et,{variant:"secondary",className:"text-xs",children:[n," ",h.unread]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(K,{variant:"outline",size:"sm",onClick:s,disabled:n===0,children:h.markAllRead}),a.jsx(K,{variant:"outline",size:"sm",onClick:i,disabled:e.length===0,children:h.clearAll})]})]})}),a.jsx(be,{className:"p-0 max-h-96 overflow-y-auto",children:e.length===0?a.jsxs("div",{className:"p-6 text-center text-muted-foreground",children:[a.jsx(Lm,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:h.noNotifications})]}):a.jsx("div",{className:"space-y-1",children:Object.entries(w).map(([T,_])=>a.jsxs("div",{children:[a.jsx("div",{className:"px-4 py-2 bg-muted/50 text-xs font-medium text-muted-foreground",children:T}),_.map(v=>a.jsx("div",{className:`p-4 border-l-4 cursor-pointer transition-colors hover:bg-muted/30 ${v.read?"opacity-75":""} ${m(v.type)}`,onClick:()=>x(v),children:a.jsxs("div",{className:"flex items-start gap-3",children:[f(v.type),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("h4",{className:`text-sm font-medium ${v.read?"text-muted-foreground":"text-foreground"}`,children:v.title}),!v.read&&a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]}),a.jsx("p",{className:`text-sm ${v.read?"text-muted-foreground":"text-foreground"}`,children:v.message}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:v.createdAt.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},v.id))]},T))})})]})}),c&&a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>d(!1)})]})},a9=()=>{const{language:t,setLanguage:e,t:n}=Ft(),r=t==="ar",s=bn(),i=Fa(),{user:o,logout:l,userType:c}=Xn(),[d,h]=g.useState(!1),[f,m]=g.useState(!1),y=g.useRef(null),w=R=>i.pathname===R,x=()=>h(!d),T=()=>h(!1),_=()=>m(!f),v=()=>m(!1),b=R=>{s(R),T(),v()};return g.useEffect(()=>{const R=D=>{y.current&&!y.current.contains(D.target)&&v()};return f&&document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[f]),a.jsxs("header",{className:"bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 sticky top-0 z-50 w-full border-b border-border/40 shadow-sm",children:[a.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[a.jsx("div",{className:`flex items-center ${r?"space-x-3 space-x-reverse":"space-x-3"}`,children:a.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>s("/"),children:[a.jsx("img",{src:"/lovable-uploads/77a5bec9-d868-4103-b96b-c932ab5016f5.png",alt:"Logo",className:"h-10 w-10 object-contain transition-transform group-hover:scale-110"}),a.jsx("span",{className:"text-xl font-bold text-foreground group-hover:text-[hsl(45,85%,55%)] transition-colors",children:r?"":"Qarshain"})]})}),a.jsx("nav",{className:`hidden lg:flex items-center ${r?"space-x-8 space-x-reverse":"space-x-8"}`,children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsxs("a",{href:"#features",className:`px-4 py-2 rounded-lg transition-all duration-200 flex items-center space-x-2 ${r?"space-x-reverse":""} ${i.hash==="#features"?"bg-primary/10 text-primary border border-primary/20":"text-foreground hover:text-primary hover:bg-primary/5"}`,children:[a.jsx(is,{className:"h-4 w-4"}),a.jsx("span",{children:n("nav.features")})]}),a.jsxs("a",{href:"#strategic-opportunities",className:`px-4 py-2 rounded-lg transition-all duration-200 flex items-center space-x-2 ${r?"space-x-reverse":""} ${i.hash==="#strategic-opportunities"?"bg-primary/10 text-primary border border-primary/20":"text-foreground hover:text-primary hover:bg-primary/5"}`,children:[a.jsx(on,{className:"h-4 w-4"}),a.jsx("span",{children:r?" ":"Recently Funded"})]}),a.jsxs("a",{href:"#how-it-works",className:`px-4 py-2 rounded-lg transition-all duration-200 flex items-center space-x-2 ${r?"space-x-reverse":""} ${i.hash==="#how-it-works"?"bg-primary/10 text-primary border border-primary/20":"text-foreground hover:text-primary hover:bg-primary/5"}`,children:[a.jsx(on,{className:"h-4 w-4"}),a.jsx("span",{children:n("nav.howItWorks")})]}),a.jsxs("a",{href:"#contact",className:`px-4 py-2 rounded-lg transition-all duration-200 flex items-center space-x-2 ${r?"space-x-reverse":""} ${i.hash==="#contact"?"bg-primary/10 text-primary border border-primary/20":"text-foreground hover:text-primary hover:bg-primary/5"}`,children:[a.jsx(tf,{className:"h-4 w-4"}),a.jsx("span",{children:n("nav.contact")})]})]})}),a.jsx("div",{className:`flex items-center ${r?"space-x-4 space-x-reverse":"space-x-4"}`,children:o?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(K,{variant:"ghost",size:"sm",onClick:()=>e(t==="ar"?"en":"ar"),className:"p-2 hover:bg-primary/10 transition-colors",children:[a.jsx(Mn,{className:"h-4 w-4"}),a.jsx("span",{className:`${r?"mr-2":"ml-2"} text-xs font-medium`,children:t==="ar"?"EN":""})]}),a.jsx(o9,{}),a.jsxs("div",{className:"relative",ref:y,children:[a.jsxs(K,{variant:"ghost",size:"sm",onClick:_,className:"p-2 hover:bg-primary/5 transition-colors relative",children:[a.jsx(no,{className:"h-5 w-5"}),a.jsx(nv,{className:`h-3 w-3 ml-1 transition-transform ${f?"rotate-180":""}`}),a.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"})]}),f&&a.jsx("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:a.jsxs("div",{className:"py-2",children:[a.jsxs(K,{variant:"ghost",onClick:()=>b("/dashboard"),className:`w-full justify-start px-4 py-2 rounded-none hover:bg-gray-50 ${w("/dashboard")?"bg-primary/10 text-primary border-r-2 border-primary":"text-gray-700"}`,children:[a.jsx(on,{className:"h-4 w-4 mr-3"}),r?" ":"Dashboard"]}),a.jsxs(K,{variant:"ghost",onClick:()=>b("/wallet"),className:`w-full justify-start px-4 py-2 rounded-none hover:bg-gray-50 ${w("/wallet")?"bg-primary/10 text-primary border-r-2 border-primary":"text-gray-700"}`,children:[a.jsx(pc,{className:"h-4 w-4 mr-3"}),r?"":"Wallet"]}),a.jsxs(K,{variant:"ghost",onClick:()=>b("/transactions"),className:`w-full justify-start px-4 py-2 rounded-none hover:bg-gray-50 ${w("/transactions")?"bg-primary/10 text-primary border-r-2 border-primary":"text-gray-700"}`,children:[a.jsx(rh,{className:"h-4 w-4 mr-3"}),r?"":"Transactions"]}),(o==null?void 0:o.email)==="saharaldhaheri@gmail.com"&&a.jsxs(K,{variant:"ghost",onClick:()=>b("/admin/opportunities"),className:`w-full justify-start px-4 py-2 rounded-none hover:bg-gray-50 ${w("/admin/opportunities")?"bg-red-50 text-red-600 border-r-2 border-red-500":"text-gray-700 hover:text-red-600"}`,children:[a.jsx(Lw,{className:"h-4 w-4 mr-3"}),r?"":"Admin"]}),a.jsx("div",{className:"border-t border-gray-200 my-1"}),a.jsxs(K,{variant:"ghost",onClick:()=>{l(),v()},className:"w-full justify-start px-4 py-2 rounded-none hover:bg-red-50 hover:text-red-600 text-gray-700",children:[a.jsx(Dw,{className:"h-4 w-4 mr-3"}),r?" ":"Logout"]})]})})]})]}),a.jsx(K,{variant:"ghost",size:"sm",onClick:x,className:"lg:hidden p-2",children:d?a.jsx(rv,{className:"h-5 w-5"}):a.jsx(Ij,{className:"h-5 w-5"})})]}):a.jsxs(a.Fragment,{children:[a.jsxs(K,{variant:"ghost",size:"sm",onClick:()=>e(t==="ar"?"en":"ar"),className:"p-2 hover:bg-primary/10 transition-colors",children:[a.jsx(Mn,{className:"h-4 w-4"}),a.jsx("span",{className:`${r?"mr-2":"ml-2"} text-xs font-medium`,children:t==="ar"?"EN":""})]}),a.jsx(K,{variant:"ghost",onClick:()=>s("/login"),className:"px-4 py-2 rounded-lg hover:bg-primary/5 transition-colors",children:n("nav.login")}),a.jsx(K,{variant:"outline",className:"bg-gradient-to-r from-[hsl(45,85%,55%)] to-[hsl(42,90%,40%)] hover:from-[hsl(42,90%,40%)] hover:to-[hsl(45,85%,55%)] text-white border-0 shadow-lg hover:shadow-xl transition-all duration-200",onClick:()=>s("/signup"),children:n("nav.getStarted")})]})})]}),d&&o&&a.jsx("div",{className:"lg:hidden border-t border-border/40 bg-background/95 backdrop-blur",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs(K,{variant:"ghost",onClick:()=>b("/dashboard"),className:`justify-start px-4 py-3 rounded-lg transition-all duration-200 ${w("/dashboard")?"bg-primary/10 text-primary border border-primary/20":"hover:bg-primary/5"}`,children:[a.jsx(on,{className:"h-4 w-4 mr-3"}),r?" ":"Dashboard"]}),a.jsxs(K,{variant:"ghost",onClick:()=>b("/wallet"),className:`justify-start px-4 py-3 rounded-lg transition-all duration-200 ${w("/wallet")?"bg-primary/10 text-primary border border-primary/20":"hover:bg-primary/5"}`,children:[a.jsx(pc,{className:"h-4 w-4 mr-3"}),r?"":"Wallet"]}),a.jsxs(K,{variant:"ghost",onClick:()=>b("/transactions"),className:`justify-start px-4 py-3 rounded-lg transition-all duration-200 ${w("/transactions")?"bg-primary/10 text-primary border border-primary/20":"hover:bg-primary/5"}`,children:[a.jsx(rh,{className:"h-4 w-4 mr-3"}),r?"":"Transactions"]}),a.jsxs(K,{variant:"ghost",onClick:()=>b("/profile"),className:`justify-start px-4 py-3 rounded-lg transition-all duration-200 ${w("/profile")?"bg-primary/10 text-primary border border-primary/20":"hover:bg-primary/5"}`,children:[a.jsx(no,{className:"h-4 w-4 mr-3"}),r?" ":"Profile"]}),(o==null?void 0:o.email)==="saharaldhaheri@gmail.com"&&a.jsxs(K,{variant:"ghost",onClick:()=>b("/admin/opportunities"),className:`justify-start px-4 py-3 rounded-lg transition-all duration-200 ${w("/admin/opportunities")?"bg-red-50 text-red-600 border border-red-200":"hover:bg-red-50 hover:text-red-600"}`,children:[a.jsx(Lw,{className:"h-4 w-4 mr-3"}),r?"":"Admin"]}),a.jsxs(K,{variant:"ghost",onClick:l,className:"justify-start px-4 py-3 rounded-lg hover:bg-red-50 hover:text-red-600 transition-all duration-200 col-span-2",children:[a.jsx(Dw,{className:"h-4 w-4 mr-3"}),r?" ":"Logout"]})]})})})]})},l9=()=>{const{language:t,t:e}=Ft();Xn();const n=t==="ar",r=bn(),s=()=>{r("/invest")};return a.jsxs("section",{className:"relative min-h-screen bg-gradient-to-br from-background via-cream to-background overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGRlZnM+CjxwYXR0ZXJuIGlkPSJncmlkIiB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiPgo8cGF0aCBkPSJNIDYwIDAgTCAwIDAgMCA2MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJoc2woNDUgNzUlIDU1JSAvIDAuMDUpIiBzdHJva2Utd2lkdGg9IjEiLz4KPC9wYXR0ZXJuPgo8L2RlZnM+CjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz4KPHN2Zz4=')] opacity-30"}),a.jsx("div",{className:"container mx-auto px-4 pt-20 pb-16 relative z-10",children:a.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center min-h-[80vh]",children:[a.jsxs("div",{className:"space-y-8 animate-fade-in",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h1",{className:`text-5xl lg:text-7xl font-bold text-foreground leading-tight ${n?"":"text-left"}`,children:[e("hero.title1"),a.jsx("span",{className:"block bg-gradient-to-r from-gold to-gold-light bg-clip-text text-transparent",children:e("hero.title2")})]}),a.jsx("p",{className:`text-xl text-muted-foreground max-w-xl leading-relaxed ${n?"":"text-left"}`,children:e("hero.subtitle")})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs(K,{variant:"golden",size:"lg",className:"group",onClick:s,children:[e("hero.startLending"),n?a.jsx(On,{className:"mr-2 h-5 w-5 group-hover:-translate-x-1 transition-transform rotate-180"}):a.jsx(nh,{className:"ml-2 h-5 w-5 group-hover:-translate-x-1 transition-transform"})]}),a.jsx(K,{variant:"outline",size:"lg",onClick:()=>r("/loan-request"),children:e("hero.requestLoan")})]})]}),a.jsx("div",{className:"relative animate-slide-up",children:a.jsxs("div",{className:"relative bg-gradient-to-br from-gold/10 to-gold-light/5 rounded-3xl p-8 backdrop-blur-sm border border-gold/20",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gold/5 to-transparent rounded-3xl"}),a.jsxs("div",{className:"relative space-y-6",children:[a.jsx("div",{className:"bg-card rounded-2xl p-6 shadow-elegant border border-border/50",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-gold to-gold-light rounded-xl flex items-center justify-center",children:a.jsx(on,{className:"h-6 w-6 text-primary-foreground"})}),a.jsxs("div",{className:n?"text-right":"text-left",children:[a.jsx("h3",{className:"font-semibold text-foreground",children:e("hero.highReturns")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("hero.highReturnsDesc")})]})]})}),a.jsx("div",{className:"bg-card rounded-2xl p-6 shadow-elegant border border-border/50",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-gold to-gold-light rounded-xl flex items-center justify-center",children:a.jsx(is,{className:"h-6 w-6 text-primary-foreground"})}),a.jsxs("div",{className:n?"text-right":"text-left",children:[a.jsx("h3",{className:"font-semibold text-foreground",children:e("hero.highSecurity")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("hero.highSecurityDesc")})]})]})}),a.jsx("div",{className:"bg-card rounded-2xl p-6 shadow-elegant border border-border/50",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-gold to-gold-light rounded-xl flex items-center justify-center",children:a.jsx(tf,{className:"h-6 w-6 text-primary-foreground"})}),a.jsxs("div",{className:n?"text-right":"text-left",children:[a.jsx("h3",{className:"font-semibold text-foreground",children:e("hero.trustedCommunity")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("hero.trustedCommunityDesc")})]})]})})]})]})})]})})]})};function c9(t,e=[]){let n=[];function r(i,o){const l=g.createContext(o),c=n.length;n=[...n,o];function d(f){const{scope:m,children:y,...w}=f,x=(m==null?void 0:m[t][c])||l,T=g.useMemo(()=>w,Object.values(w));return a.jsx(x.Provider,{value:T,children:y})}function h(f,m){const y=(m==null?void 0:m[t][c])||l,w=g.useContext(y);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,h]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,u9(s,...e)]}function u9(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var v0="Progress",x0=100,[d9,Z8]=c9(v0),[h9,f9]=d9(v0),UC=g.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=m9,...o}=t;(s||s===0)&&!z1(s)&&console.error(p9(`${s}`,"Progress"));const l=z1(s)?s:x0;r!==null&&!q1(r,l)&&console.error(g9(`${r}`,"Progress"));const c=q1(r,l)?r:null,d=kh(c)?i(c,l):void 0;return a.jsx(h9,{scope:n,value:c,max:l,children:a.jsx(Te.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":kh(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":zC(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});UC.displayName=v0;var $C="ProgressIndicator",BC=g.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=f9($C,n);return a.jsx(Te.div,{"data-state":zC(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});BC.displayName=$C;function m9(t,e){return`${Math.round(t/e*100)}%`}function zC(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function kh(t){return typeof t=="number"}function z1(t){return kh(t)&&!isNaN(t)&&t>0}function q1(t,e){return kh(t)&&!isNaN(t)&&t<=e&&t>=0}function p9(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${x0}\`.`}function g9(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${x0} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var qC=UC,y9=BC;const w0=g.forwardRef(({className:t,value:e,...n},r)=>a.jsx(qC,{ref:r,className:Le("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:a.jsx(y9,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));w0.displayName=qC.displayName;function ze(t,e="en"){return e==="ar"?`${t.toLocaleString("ar-SA")} `:`${t.toLocaleString("en-US")} SAR`}const v9=()=>{const{language:t}=Ft(),e=t==="ar",[n,r]=g.useState([]),[s,i]=g.useState(!0),o={title:e?"  ":"Strategic Investment Opportunities",subtitle:e?"        ":"Discover carefully curated investment opportunities for optimal returns",seeMore:e?" ":"See More",expectedROI:e?" ":"Expected ROI",fundingProgress:e?" ":"Funding Progress",timeLeft:e?" ":"Time Left",investors:e?"":"investors",investor:e?"":"investor",days:e?"":"days",day:e?"":"day",funded:e?"":"funded",riskClass:e?" ":"Risk Class",lowRisk:e?" ":"Low Risk",mediumRisk:e?" ":"Medium Risk",highRisk:e?" ":"High Risk",viewDetails:e?" ":"View Details",investNow:e?" ":"Invest Now",almostFunded:e?"  ":"Almost Fully Funded",hotOpportunity:e?" ":"Hot Opportunity",limitedTime:e?" ":"Limited Time"};g.useEffect(()=>{(async()=>{try{i(!0);const m=ur(Xt(Pe,"loanRequests"),Gi("status","==","approved"),Lf("createdAt","desc"),QU(10)),w=(await Ks(m)).docs.map(T=>({id:T.id,...T.data()})),x=l(w);r(x)}catch(m){console.error("Error loading strategic opportunities:",m),r(c())}finally{i(!1)}})()},[t]);const l=f=>{if(f.length===0)return c();const m=[],y=f.filter(_=>_.borrowerRating>=4.5&&_.risk==="low").sort((_,v)=>v.fundedAmount/v.totalAmount-_.fundedAmount/_.totalAmount);y.length>0&&m.push(y[0]);const w=f.filter(_=>_.borrowerRating>=4&&_.risk==="medium").sort((_,v)=>v.interestRate-_.interestRate);w.length>0&&m.push(w[0]);const x=f.filter(_=>_.risk==="high"&&_.interestRate>=12).sort((_,v)=>v.interestRate-_.interestRate);x.length>0&&m.push(x[0]);const T=3-m.length;if(T>0){const _=f.filter(v=>!m.find(b=>b.id===v.id)).sort((v,b)=>b.fundedAmount/b.totalAmount-v.fundedAmount/v.totalAmount).slice(0,T);m.push(..._)}return m.slice(0,3)},c=()=>[{id:"sample-1",title:e?"   ":"Small Business Expansion",description:e?"        ":"Funding for expanding a successful e-commerce store with a clear growth plan",amount:5e3,interestRate:8.5,term:"12",risk:"low",borrowerName:e?" ":"Ahmed Mohammed",borrowerRating:4.8,fundedAmount:4e3,totalAmount:5e3,daysRemaining:15,category:"Business",purpose:"Business Expansion",status:"funding",investorCount:23,sector:"E-commerce"},{id:"sample-2",title:e?"  ":"Tech App Development",description:e?"       ":"Development of an innovative mobile app with high marketing potential",amount:5e3,interestRate:12,term:"18",risk:"medium",borrowerName:e?" ":"Sarah Ahmed",borrowerRating:4.2,fundedAmount:3600,totalAmount:5e3,daysRemaining:8,category:"Technology",purpose:"App Development",status:"funding",investorCount:31,sector:"Technology"},{id:"sample-3",title:e?"  ":"Real Estate Investment",description:e?"      ":"Purchase and development of investment property in an emerging area",amount:5e3,interestRate:15.5,term:"24",risk:"high",borrowerName:e?" ":"Mohammed Ali",borrowerRating:4,fundedAmount:3500,totalAmount:5e3,daysRemaining:12,category:"Real Estate",purpose:"Property Investment",status:"funding",investorCount:45,sector:"Real Estate"}],d=f=>{switch(f){case"low":return{label:"Class A",color:"bg-green-100 text-green-800 border-green-200",icon:a.jsx(is,{className:"h-4 w-4"})};case"medium":return{label:"Class B",color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:a.jsx(cg,{className:"h-4 w-4"})};case"high":return{label:"Class C",color:"bg-red-100 text-red-800 border-red-200",icon:a.jsx(on,{className:"h-4 w-4"})};default:return{label:"Class B",color:"bg-gray-100 text-gray-800 border-gray-200",icon:a.jsx(is,{className:"h-4 w-4"})}}},h=f=>{const m=f.fundedAmount/f.totalAmount*100,y=f.daysRemaining;return m>=80?a.jsx(Et,{className:"bg-green-100 text-green-800 border-green-200",children:o.almostFunded}):y<=7?a.jsx(Et,{className:"bg-red-100 text-red-800 border-red-200",children:o.limitedTime}):m>=60?a.jsx(Et,{className:"bg-orange-100 text-orange-800 border-orange-200",children:o.hotOpportunity}):null};return s?a.jsx("section",{className:"py-16 bg-gradient-to-br from-[var(--garshain-cream)] to-white",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[var(--garshain-gold)] mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:e?"  ...":"Loading opportunities..."})]})})}):a.jsx("section",{id:"strategic-opportunities",className:"py-16 bg-gradient-to-br from-[var(--garshain-cream)] to-white",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-4xl font-bold text-[var(--garshain-text)] mb-4",children:o.title}),a.jsx("p",{className:"text-xl text-[var(--garshain-text)] opacity-70 max-w-3xl mx-auto",children:o.subtitle})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:n.map((f,m)=>{const y=d(f.risk),w=f.fundedAmount/f.totalAmount*100,x=h(f);return a.jsxs(xe,{className:"group hover:scale-105 hover:shadow-2xl transition-all duration-500 border-2 hover:border-[var(--garshain-gold)] relative overflow-hidden transform-gpu cursor-pointer bg-white/80 backdrop-blur-sm",style:{animationDelay:`${m*200}ms`,animation:"fadeInUp 0.8s ease-out forwards"},children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent via-[var(--garshain-gold)]/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsx("div",{className:"absolute top-4 right-4 w-2 h-2 bg-[var(--garshain-gold)] rounded-full opacity-0 group-hover:opacity-100 group-hover:animate-bounce transition-all duration-500"}),a.jsx("div",{className:"absolute bottom-4 left-4 w-1 h-1 bg-[var(--garshain-gold)] rounded-full opacity-0 group-hover:opacity-100 group-hover:animate-pulse transition-all duration-500"}),x&&a.jsx("div",{className:"absolute top-3 right-3 z-10 transform group-hover:scale-110 transition-transform duration-300",children:x}),a.jsx("div",{className:"absolute top-3 left-3 z-10 transform group-hover:scale-110 transition-transform duration-300",children:a.jsxs(Et,{className:`${y.color} flex items-center gap-1 shadow-lg`,children:[y.icon,y.label]})}),a.jsxs(Ae,{className:"pb-3 pt-16 relative z-10",children:[a.jsx(Re,{className:"text-xl group-hover:text-[var(--garshain-gold)] transition-all duration-300 font-bold",children:f.title}),a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 group-hover:text-[var(--garshain-text)] transition-colors duration-300",children:f.description})]}),a.jsxs(be,{className:"space-y-4 relative z-10",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg group-hover:bg-blue-100 transition-all duration-300 transform group-hover:scale-105 hover:shadow-md",children:[a.jsxs("div",{className:"text-2xl font-bold text-blue-600 group-hover:text-blue-700 transition-colors",children:[f.interestRate,"%"]}),a.jsx("div",{className:"text-xs text-blue-600 font-medium",children:o.expectedROI})]}),a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg group-hover:bg-green-100 transition-all duration-300 transform group-hover:scale-105 hover:shadow-md",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600 group-hover:text-green-700 transition-colors",children:f.investorCount}),a.jsx("div",{className:"text-xs text-green-600 font-medium",children:f.investorCount===1?o.investor:o.investors})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground group-hover:text-[var(--garshain-text)] transition-colors",children:o.fundingProgress}),a.jsxs("span",{className:"font-medium text-[var(--garshain-gold)]",children:[Math.round(w),"%"]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(w0,{value:w,className:"h-3 group-hover:h-4 transition-all duration-300"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 animate-pulse"})]}),a.jsxs("div",{className:"text-sm text-muted-foreground group-hover:text-[var(--garshain-text)] transition-colors",children:[ze(f.fundedAmount)," ",o.funded,"  ",ze(f.totalAmount)]})]}),a.jsxs("div",{className:"flex justify-between items-center text-sm p-2 rounded-lg group-hover:bg-[var(--garshain-cream)]/50 transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground group-hover:text-[var(--garshain-text)] transition-colors",children:[a.jsx(Cr,{className:"h-4 w-4 group-hover:animate-spin transition-all duration-300"}),a.jsxs("span",{children:[f.daysRemaining," ",f.daysRemaining===1?o.day:o.days]})]}),a.jsx("div",{className:"font-medium text-[var(--garshain-gold)] group-hover:scale-110 transition-transform duration-300",children:ze(f.amount)})]}),a.jsxs("div",{className:"flex gap-2 pt-2",children:[a.jsx(K,{asChild:!0,className:"flex-1 bg-[var(--garshain-gold)] hover:bg-[var(--garshain-gold)]/90 text-white font-semibold transform hover:scale-105 transition-all duration-300 hover:shadow-lg active:scale-95",children:a.jsxs(ql,{to:"/invest",children:[a.jsx(on,{className:"h-4 w-4 mr-2 group-hover:animate-bounce"}),o.investNow]})}),a.jsx(K,{variant:"outline",asChild:!0,className:"flex-1 border-[var(--garshain-gold)] text-[var(--garshain-gold)] hover:bg-[var(--garshain-gold)] hover:text-white transform hover:scale-105 transition-all duration-300 hover:shadow-lg active:scale-95",children:a.jsxs(ql,{to:"/invest",children:[a.jsx(Tj,{className:"h-4 w-4 mr-2 group-hover:animate-pulse"}),o.viewDetails]})})]})]}),a.jsx("div",{className:"absolute inset-0 border-2 border-transparent group-hover:border-[var(--garshain-gold)] transition-all duration-500 rounded-lg"})]},f.id)})}),a.jsx("div",{className:"text-center",children:a.jsx(K,{asChild:!0,size:"lg",className:"bg-[var(--garshain-gold)] hover:bg-[var(--garshain-gold)]/90 text-[var(--garshain-text)] font-semibold px-8 py-4 text-lg shadow-lg",children:a.jsxs(ql,{to:"/invest",children:[o.seeMore,a.jsx(nh,{className:"h-5 w-5 ml-2"})]})})})]})})},x9=()=>{const{t}=Ft(),e=[{icon:is,title:t("features.security"),description:t("features.securityDesc")},{icon:on,title:t("features.returns"),description:t("features.returnsDesc")},{icon:Cr,title:t("features.processing"),description:t("features.processingDesc")},{icon:tf,title:t("features.assessment"),description:t("features.assessmentDesc")},{icon:rh,title:t("features.flexibility"),description:t("features.flexibilityDesc")},{icon:zn,title:t("features.transparency"),description:t("features.transparencyDesc")}];return a.jsx("section",{id:"features",className:"py-20 bg-cream/30",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsxs("h2",{className:"text-4xl font-bold text-foreground mb-4",children:[t("features.title")," ",a.jsx("span",{className:"text-gold",children:""})]}),a.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:t("features.subtitle")})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((n,r)=>a.jsx(xe,{className:"p-6 hover:shadow-elegant transition-all duration-300 hover:scale-105 bg-card/80 backdrop-blur border-border/50",children:a.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-gold to-gold-light rounded-2xl flex items-center justify-center",children:a.jsx(n.icon,{className:"h-8 w-8 text-primary-foreground"})}),a.jsx("h3",{className:"text-xl font-semibold text-foreground",children:n.title}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:n.description})]})},r))})]})})},w9=()=>{const{language:t,t:e}=Ft(),n=t==="ar",r=bn(),s=[{icon:zn,title:e("howItWorks.step1Borrower"),description:e("howItWorks.step1BorrowerDesc")},{icon:Hn,title:e("howItWorks.step2Borrower"),description:e("howItWorks.step2BorrowerDesc")},{icon:ef,title:e("howItWorks.step3Borrower"),description:e("howItWorks.step3BorrowerDesc")}],i=[{icon:iS,title:e("howItWorks.step1Investor"),description:e("howItWorks.step1InvestorDesc")},{icon:sS,title:e("howItWorks.step2Investor"),description:e("howItWorks.step2InvestorDesc")},{icon:on,title:e("howItWorks.step3Investor"),description:e("howItWorks.step3InvestorDesc")}];return a.jsx("section",{id:"how-it-works",className:"py-20 bg-background",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-4xl font-bold text-foreground mb-4",children:e("howItWorks.title")}),a.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:e("howItWorks.subtitle")})]}),a.jsxs("div",{className:"grid lg:grid-cols-2 gap-16",children:[a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-2xl font-bold text-foreground mb-4",children:e("howItWorks.forBorrowers")}),a.jsx("p",{className:"text-muted-foreground",children:t==="ar"?"     .        .":"Stop stressing over loan approvals. Get money in days  without rejections."})]}),a.jsx("div",{className:"space-y-6",children:s.map((o,l)=>a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-gold to-gold-light rounded-xl flex items-center justify-center text-primary-foreground font-bold",children:l+1})}),a.jsx(xe,{className:"flex-1 p-4 border-border/50",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(o.icon,{className:"h-6 w-6 text-gold mt-1"}),a.jsxs("div",{className:n?"text-right":"text-left",children:[a.jsx("h4",{className:"font-semibold text-foreground mb-1",children:o.title}),a.jsx("p",{className:"text-muted-foreground text-sm",children:o.description})]})]})})]},l))}),a.jsxs(K,{variant:"golden",className:"w-full",onClick:()=>r("/loan-request"),children:[t==="ar"?"  ":"Request Loan Now",n?a.jsx(On,{className:"mr-2 h-4 w-4 rotate-180"}):a.jsx(nh,{className:"ml-2 h-4 w-4"})]})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-2xl font-bold text-foreground mb-4",children:e("howItWorks.forInvestors")}),a.jsx("p",{className:"text-muted-foreground",children:t==="ar"?"     .       .":"Stop guessing where to invest. Grow your money  without dealing with middlemen."})]}),a.jsx("div",{className:"space-y-6",children:i.map((o,l)=>a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-gold to-gold-light rounded-xl flex items-center justify-center text-primary-foreground font-bold",children:l+1})}),a.jsx(xe,{className:"flex-1 p-4 border-border/50",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(o.icon,{className:"h-6 w-6 text-gold mt-1"}),a.jsxs("div",{className:n?"text-right":"text-left",children:[a.jsx("h4",{className:"font-semibold text-foreground mb-1",children:o.title}),a.jsx("p",{className:"text-muted-foreground text-sm",children:o.description})]})]})})]},l))}),a.jsxs(K,{variant:"outline",className:"w-full",onClick:()=>r("/invest"),children:[t==="ar"?" ":"Start Investing",n?a.jsx(On,{className:"mr-2 h-4 w-4 rotate-180"}):a.jsx(nh,{className:"ml-2 h-4 w-4"})]})]})]})]})})};var _9="Separator",W1="horizontal",E9=["horizontal","vertical"],WC=g.forwardRef((t,e)=>{const{decorative:n,orientation:r=W1,...s}=t,i=b9(r)?r:W1,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(Te.div,{"data-orientation":i,...l,...s,ref:e})});WC.displayName=_9;function b9(t){return E9.includes(t)}var HC=WC;const KC=g.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>a.jsx(HC,{ref:s,decorative:n,orientation:e,className:Le("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));KC.displayName=HC.displayName;const T9=()=>{const{language:t,t:e}=Ft(),n=t==="ar";return a.jsx("footer",{id:"contact",className:"bg-foreground text-background py-16",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"grid md:grid-cols-4 gap-8 mb-12",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:`flex items-center ${n?"space-x-3 space-x-reverse":"space-x-3"}`,children:[a.jsx("img",{src:"/lovable-uploads/77a5bec9-d868-4103-b96b-c932ab5016f5.png",alt:"Logo",className:"h-10 w-10 object-contain"}),a.jsx("span",{className:"text-xl font-bold",children:""})]}),a.jsx("p",{className:`text-background/80 leading-relaxed ${n?"":"text-left"}`,children:e("footer.description")})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-4 text-gold",children:n?" ":"Quick Links"}),a.jsxs("ul",{className:"space-y-2 text-background/80",children:[a.jsx("li",{children:a.jsx("a",{href:"#features",className:"hover:text-gold-light transition-colors",children:n?"":"Features"})}),a.jsx("li",{children:a.jsx("a",{href:"#strategic-opportunities",className:"hover:text-gold-light transition-colors",children:n?" ":"Investment Opportunities"})}),a.jsx("li",{children:a.jsx("a",{href:"#how-it-works",className:"hover:text-gold-light transition-colors",children:n?" ":"How It Works"})}),a.jsx("li",{children:a.jsx("a",{href:"/invest",className:"hover:text-gold-light transition-colors",children:n?" ":"Invest Now"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-4 text-gold",children:e("footer.company")}),a.jsxs("ul",{className:"space-y-2 text-background/80",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-gold-light transition-colors",children:e("footer.aboutUs")})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-gold-light transition-colors",children:e("footer.team")})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-gold-light transition-colors",children:e("footer.careers")})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-gold-light transition-colors",children:e("footer.news")})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-4 text-gold",children:e("footer.support")}),a.jsxs("ul",{className:"space-y-2 text-background/80",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-gold-light transition-colors",children:e("footer.helpCenter")})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-gold-light transition-colors",children:e("footer.faq")})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-gold-light transition-colors",children:e("footer.contactUs")})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-gold-light transition-colors",children:e("footer.privacyPolicy")})})]})]})]}),a.jsx(KC,{className:"bg-background/20 mb-8"}),a.jsxs("div",{className:`flex flex-col md:flex-row justify-between items-center text-background/80 ${n?"":"md:text-left"}`,children:[a.jsx("p",{children:e("footer.copyright")}),a.jsxs("div",{className:`flex ${n?"space-x-6 space-x-reverse":"space-x-6"} mt-4 md:mt-0`,children:[a.jsx("a",{href:"#",className:"hover:text-gold-light transition-colors",children:e("footer.terms")}),a.jsx("a",{href:"#",className:"hover:text-gold-light transition-colors",children:e("footer.privacyPolicy")}),a.jsx("a",{href:"#",className:"hover:text-gold-light transition-colors",children:e("footer.cookies")})]})]})]})})},S9=()=>a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(a9,{}),a.jsx(l9,{}),a.jsx(x9,{}),a.jsx(v9,{}),a.jsx(w9,{}),a.jsx(T9,{})]}),GC=()=>{const[t,e]=g.useState(""),[n,r]=g.useState(""),[s,i]=g.useState(!1),{login:o,resetPassword:l,loading:c,error:d,user:h,emailVerified:f}=Xn(),m=bn(),{language:y,t:w,setLanguage:x}=Ft(),T=y==="ar";g.useEffect(()=>{const b=localStorage.getItem("preferred-language");b&&b!==y&&(console.log(" Login: Language mismatch detected. Fixing..."),x(b))},[y,x]);const _=async b=>{b.preventDefault(),await o(t,n),d||m("/dashboard")},v=async()=>{await l(t),i(!0)};return h?f?(m("/dashboard"),null):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:a.jsxs("div",{className:"bg-card p-8 rounded shadow-md w-full max-w-md space-y-4 text-center",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Verify your email"}),a.jsx("p",{className:"mb-4",children:"Please check your inbox and verify your email address to continue."}),a.jsx("button",{className:"w-full bg-gold text-white p-2 rounded",onClick:()=>window.location.reload(),children:"I've verified my email"})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:a.jsxs("div",{className:"w-full max-w-md space-y-6",children:[a.jsxs("div",{className:"flex gap-2 justify-center",children:[a.jsxs(K,{variant:"outline",size:"sm",onClick:()=>m("/"),className:"flex items-center gap-2",children:[a.jsx(Dr,{className:"h-4 w-4"}),"Home"]}),a.jsxs(K,{variant:"outline",size:"sm",onClick:()=>m(-1),className:"flex items-center gap-2",children:[a.jsx(On,{className:"h-4 w-4"}),T?"":"Back"]}),a.jsxs(K,{variant:"outline",size:"sm",onClick:()=>x(y==="ar"?"en":"ar"),className:"flex items-center gap-2 bg-purple-50 hover:bg-purple-100 text-purple-700 border-purple-200",children:[a.jsx(Mn,{className:"h-4 w-4"}),y==="ar"?"English":""]})]}),a.jsxs("form",{onSubmit:_,className:"bg-card p-8 rounded shadow-md space-y-4",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Login"}),a.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:b=>e(b.target.value),className:"w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-gold",required:!0}),a.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:b=>r(b.target.value),className:"w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-gold",required:!0}),d&&a.jsx("div",{className:"text-red-500 text-sm",children:d}),a.jsx("button",{type:"submit",className:"w-full bg-gold hover:bg-gold-light text-white p-2 rounded transition",disabled:c,children:c?"Logging in...":"Login"}),a.jsxs("div",{className:"flex justify-between items-center text-sm mt-2",children:[a.jsxs("span",{children:["Don't have an account? ",a.jsx("a",{href:"/signup",className:"text-gold hover:underline",children:"Sign Up"})]}),a.jsx("button",{type:"button",className:"text-blue-600 hover:underline",onClick:v,disabled:c||!t,children:"Forgot password?"})]}),s&&a.jsx("div",{className:"text-green-600 text-xs",children:"Password reset email sent!"})]})]})})},gn=g.forwardRef(({className:t,type:e,...n},r)=>a.jsx("input",{type:e,className:Le("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));gn.displayName="Input";var N9="Label",QC=g.forwardRef((t,e)=>a.jsx(Te.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));QC.displayName=N9;var YC=QC;const I9=Zh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),pt=g.forwardRef(({className:t,...e},n)=>a.jsx(YC,{ref:n,className:Le(I9(),t),...e}));pt.displayName=YC.displayName;function C9(t,e=[]){let n=[];function r(i,o){const l=g.createContext(o),c=n.length;n=[...n,o];function d(f){const{scope:m,children:y,...w}=f,x=(m==null?void 0:m[t][c])||l,T=g.useMemo(()=>w,Object.values(w));return a.jsx(x.Provider,{value:T,children:y})}function h(f,m){const y=(m==null?void 0:m[t][c])||l,w=g.useContext(y);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,h]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,A9(s,...e)]}function A9(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var R9=g.createContext(void 0);function Of(t){const e=g.useContext(R9);return t||e||"ltr"}var rp="rovingFocusGroup.onEntryFocus",P9={bubbles:!1,cancelable:!0},Mf="RovingFocusGroup",[Hg,XC,k9]=Xy(Mf),[j9,Vf]=C9(Mf,[k9]),[D9,L9]=j9(Mf),JC=g.forwardRef((t,e)=>a.jsx(Hg.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(Hg.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(O9,{...t,ref:e})})}));JC.displayName=Mf;var O9=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...f}=t,m=g.useRef(null),y=Ze(e,m),w=Of(i),[x=null,T]=wa({prop:o,defaultProp:l,onChange:c}),[_,v]=g.useState(!1),b=En(d),R=XC(n),D=g.useRef(!1),[O,S]=g.useState(0);return g.useEffect(()=>{const N=m.current;if(N)return N.addEventListener(rp,b),()=>N.removeEventListener(rp,b)},[b]),a.jsx(D9,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:x,onItemFocus:g.useCallback(N=>T(N),[T]),onItemShiftTab:g.useCallback(()=>v(!0),[]),onFocusableItemAdd:g.useCallback(()=>S(N=>N+1),[]),onFocusableItemRemove:g.useCallback(()=>S(N=>N-1),[]),children:a.jsx(Te.div,{tabIndex:_||O===0?-1:0,"data-orientation":r,...f,ref:y,style:{outline:"none",...t.style},onMouseDown:fe(t.onMouseDown,()=>{D.current=!0}),onFocus:fe(t.onFocus,N=>{const I=!D.current;if(N.target===N.currentTarget&&I&&!_){const C=new CustomEvent(rp,P9);if(N.currentTarget.dispatchEvent(C),!C.defaultPrevented){const j=R().filter($=>$.focusable),A=j.find($=>$.active),k=j.find($=>$.id===x),U=[A,k,...j].filter(Boolean).map($=>$.ref.current);tA(U,h)}}D.current=!1}),onBlur:fe(t.onBlur,()=>v(!1))})})}),ZC="RovingFocusGroupItem",eA=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,l=Bc(),c=i||l,d=L9(ZC,n),h=d.currentTabStopId===c,f=XC(n),{onFocusableItemAdd:m,onFocusableItemRemove:y}=d;return g.useEffect(()=>{if(r)return m(),()=>y()},[r,m,y]),a.jsx(Hg.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:a.jsx(Te.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...o,ref:e,onMouseDown:fe(t.onMouseDown,w=>{r?d.onItemFocus(c):w.preventDefault()}),onFocus:fe(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:fe(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const x=F9(w,d.orientation,d.dir);if(x!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let _=f().filter(v=>v.focusable).map(v=>v.ref.current);if(x==="last")_.reverse();else if(x==="prev"||x==="next"){x==="prev"&&_.reverse();const v=_.indexOf(w.currentTarget);_=d.loop?U9(_,v+1):_.slice(v+1)}setTimeout(()=>tA(_))}})})})});eA.displayName=ZC;var M9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function V9(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function F9(t,e,n){const r=V9(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return M9[r]}function tA(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function U9(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var nA=JC,rA=eA;function sA(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var _0="Radio",[$9,iA]=Da(_0),[B9,z9]=$9(_0),oA=g.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:o,value:l="on",onCheck:c,form:d,...h}=t,[f,m]=g.useState(null),y=Ze(e,T=>m(T)),w=g.useRef(!1),x=f?d||!!f.closest("form"):!0;return a.jsxs(B9,{scope:n,checked:s,disabled:o,children:[a.jsx(Te.button,{type:"button",role:"radio","aria-checked":s,"data-state":cA(s),"data-disabled":o?"":void 0,disabled:o,value:l,...h,ref:y,onClick:fe(t.onClick,T=>{s||c==null||c(),x&&(w.current=T.isPropagationStopped(),w.current||T.stopPropagation())})}),x&&a.jsx(q9,{control:f,bubbles:!w.current,name:r,value:l,checked:s,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});oA.displayName=_0;var aA="RadioIndicator",lA=g.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,i=z9(aA,n);return a.jsx(Uc,{present:r||i.checked,children:a.jsx(Te.span,{"data-state":cA(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});lA.displayName=aA;var q9=t=>{const{control:e,checked:n,bubbles:r=!0,...s}=t,i=g.useRef(null),o=sA(n),l=SS(e);return g.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==n&&f){const m=new Event("click",{bubbles:r});f.call(c,n),c.dispatchEvent(m)}},[o,n,r]),a.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function cA(t){return t?"checked":"unchecked"}var W9=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],E0="RadioGroup",[H9,eB]=Da(E0,[Vf,iA]),uA=Vf(),dA=iA(),[K9,G9]=H9(E0),hA=g.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:h=!0,onValueChange:f,...m}=t,y=uA(n),w=Of(d),[x,T]=wa({prop:i,defaultProp:s,onChange:f});return a.jsx(K9,{scope:n,name:r,required:o,disabled:l,value:x,onValueChange:T,children:a.jsx(nA,{asChild:!0,...y,orientation:c,dir:w,loop:h,children:a.jsx(Te.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:w,...m,ref:e})})})});hA.displayName=E0;var fA="RadioGroupItem",mA=g.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,i=G9(fA,n),o=i.disabled||r,l=uA(n),c=dA(n),d=g.useRef(null),h=Ze(e,d),f=i.value===s.value,m=g.useRef(!1);return g.useEffect(()=>{const y=x=>{W9.includes(x.key)&&(m.current=!0)},w=()=>m.current=!1;return document.addEventListener("keydown",y),document.addEventListener("keyup",w),()=>{document.removeEventListener("keydown",y),document.removeEventListener("keyup",w)}},[]),a.jsx(rA,{asChild:!0,...l,focusable:!o,active:f,children:a.jsx(oA,{disabled:o,required:i.required,checked:f,...c,...s,name:i.name,ref:h,onCheck:()=>i.onValueChange(s.value),onKeyDown:fe(y=>{y.key==="Enter"&&y.preventDefault()}),onFocus:fe(s.onFocus,()=>{var y;m.current&&((y=d.current)==null||y.click())})})})});mA.displayName=fA;var Q9="RadioGroupIndicator",pA=g.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=dA(n);return a.jsx(lA,{...s,...r,ref:e})});pA.displayName=Q9;var gA=hA,yA=mA,Y9=pA;const vA=g.forwardRef(({className:t,...e},n)=>a.jsx(gA,{className:Le("grid gap-2",t),...e,ref:n}));vA.displayName=gA.displayName;const Kg=g.forwardRef(({className:t,...e},n)=>a.jsx(yA,{ref:n,className:Le("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:a.jsx(Y9,{className:"flex items-center justify-center",children:a.jsx(bj,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Kg.displayName=yA.displayName;const X9=()=>{const[t,e]=g.useState(""),[n,r]=g.useState(""),[s,i]=g.useState(""),[o,l]=g.useState(""),[c,d]=g.useState("borrower"),{signup:h,loading:f,error:m}=Xn(),y=bn(),{language:w,t:x,setLanguage:T}=Ft(),_=w==="ar";g.useEffect(()=>{const b=localStorage.getItem("preferred-language");b&&b!==w&&(console.log(" SignUp: Language mismatch detected. Fixing..."),T(b))},[w,T]);const v=async b=>{if(b.preventDefault(),s!==o){alert("Passwords don't match");return}try{await h(t,n,s,c),y("/dashboard")}catch(R){console.error("Signup error:",R)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background py-8",children:a.jsxs(xe,{className:"w-full max-w-md",children:[a.jsxs("div",{className:"flex gap-2 p-4 border-b",children:[a.jsxs(K,{variant:"outline",size:"sm",onClick:()=>y("/"),className:"flex items-center gap-2",children:[a.jsx(Dr,{className:"h-4 w-4"}),_?"":"Home"]}),a.jsxs(K,{variant:"outline",size:"sm",onClick:()=>y(-1),className:"flex items-center gap-2",children:[a.jsx(On,{className:"h-4 w-4"}),_?"":"Back"]}),a.jsxs(K,{variant:"outline",size:"sm",onClick:()=>T(w==="ar"?"en":"ar"),className:"flex items-center gap-2 bg-purple-50 hover:bg-purple-100 text-purple-700 border-purple-200",children:[a.jsx(Mn,{className:"h-4 w-4"}),w==="ar"?"English":""]})]}),a.jsx(Ae,{className:"text-center",children:a.jsx(Re,{className:"text-2xl font-bold",children:_?"  ":"Create Account"})}),a.jsxs(be,{children:[a.jsxs("form",{onSubmit:v,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(pt,{htmlFor:"name",children:_?"":"Full Name"}),a.jsx(gn,{id:"name",type:"text",value:t,onChange:b=>e(b.target.value),required:!0,placeholder:_?"  ":"Enter your full name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(pt,{htmlFor:"email",children:_?" ":"Email"}),a.jsx(gn,{id:"email",type:"email",value:n,onChange:b=>r(b.target.value),required:!0,placeholder:_?"  ":"Enter your email"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(pt,{children:_?" ":"User Type"}),a.jsxs(vA,{value:c,onValueChange:b=>d(b),className:"flex flex-col space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Kg,{value:"borrower",id:"borrower"}),a.jsx(pt,{htmlFor:"borrower",className:"cursor-pointer",children:_?" -  ":"Borrower - I need a loan"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Kg,{value:"lender",id:"lender"}),a.jsx(pt,{htmlFor:"lender",className:"cursor-pointer",children:_?" -   ":"Lender - I want to invest my money"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(pt,{htmlFor:"password",children:_?" ":"Password"}),a.jsx(gn,{id:"password",type:"password",value:s,onChange:b=>i(b.target.value),required:!0,placeholder:_?"  ":"Enter your password"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(pt,{htmlFor:"confirmPassword",children:_?"  ":"Confirm Password"}),a.jsx(gn,{id:"confirmPassword",type:"password",value:o,onChange:b=>l(b.target.value),required:!0,placeholder:_?"  ":"Confirm your password"})]}),m&&a.jsx("div",{className:"text-red-500 text-sm text-center",children:m}),a.jsx(K,{type:"submit",className:"w-full bg-[hsl(45,85%,55%)] hover:bg-[hsl(42,90%,40%)] text-white",disabled:f,children:f?_?" ...":"Creating Account...":_?" ":"Create Account"})]}),a.jsx("div",{className:"mt-4 text-center",children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:[_?"  ":"Already have an account?",a.jsx(K,{variant:"link",className:"p-0 h-auto text-[hsl(45,85%,55%)] hover:text-[hsl(42,90%,40%)]",onClick:()=>y("/login"),children:_?" ":"Sign In"})]})})]})]})})},J9=()=>{const t=Fa(),e=bn(),{language:n,setLanguage:r}=Ft();return g.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),a.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),a.jsxs("div",{className:"flex gap-4 justify-center",children:[a.jsxs(K,{onClick:()=>e("/"),className:"bg-blue-600 hover:bg-blue-700",children:[a.jsx(Dr,{className:"h-4 w-4 mr-2"}),"Home"]}),a.jsxs(K,{variant:"outline",onClick:()=>e(-1),children:[a.jsx(On,{className:"h-4 w-4 mr-2"}),"Back"]}),a.jsxs(K,{variant:"outline",onClick:()=>r(n==="ar"?"en":"ar"),className:"bg-purple-50 hover:bg-purple-100 text-purple-700 border-purple-200",children:[a.jsx(Mn,{className:"h-4 w-4 mr-2"}),n==="ar"?"English":""]})]})]})})},Z9=()=>{const t=bn(),{user:e,logout:n,userName:r,userType:s,emailVerified:i,sendVerification:o,loading:l}=Xn(),{language:c,t:d,setLanguage:h}=Ft(),f=c==="ar";g.useEffect(()=>{const U=localStorage.getItem("preferred-language");U&&U!==c&&(console.log(" Dashboard: Language mismatch detected. Fixing..."),h(U))},[c,h]),g.useEffect(()=>{(async()=>{if(e)try{j(!0);const $=await Sr(Rt(Pe,"users",e.uid));if($.exists()){const Z=$.data();I(Z.kycStatus||"pending")}else I("pending")}catch($){console.error("Error checking KYC status:",$),I("pending")}finally{j(!1)}})()},[e]);const[m,y]=g.useState([]),[w,x]=g.useState([]),[T,_]=g.useState([]),[v,b]=g.useState(!0),[R,D]=g.useState(!0),[O,S]=g.useState(!0),[N,I]=g.useState(null),[C,j]=g.useState(!0);g.useEffect(()=>{if(!e)return;console.log("Setting up real-time listeners for user:",e.uid);const U=ur(Xt(Pe,"loanRequests"),Gi("userId","==",e.uid)),$=Xl(U,B=>{const Y=B.docs.map(Q=>({id:Q.id,...Q.data()}));console.log("Real-time loan requests update:",Y),x(Y),D(!1)},B=>{console.error("Error in loan requests listener:",B),D(!1)}),Z=ur(Xt(Pe,"investments"),Gi("userId","==",e.uid)),L=Xl(Z,B=>{const Y=B.docs.map(Q=>({id:Q.id,...Q.data()}));console.log("Real-time investments update:",Y),y(Y),b(!1)},B=>{console.error("Error in investments listener:",B),b(!1)});try{const B=ur(Xt(Pe,"transactions"),Gi("userId","==",e.uid),Lf("createdAt","desc")),Y=Xl(B,Q=>{const ne=Q.docs.map(oe=>({id:oe.id,...oe.data()}));console.log("Real-time transactions update:",ne),_(ne),S(!1)},Q=>{console.error("Error in transactions listener:",Q),S(!1)});return()=>{$(),L(),Y()}}catch{return console.log("Transactions collection not available, skipping listener"),()=>{$(),L()}}},[e]);const A=()=>{if(T.length===0)return 0;let U=0;return T.forEach($=>{$.type==="credit"||$.type==="deposit"?U+=$.amount||0:($.type==="debit"||$.type==="withdrawal")&&(U-=$.amount||0)}),U},k=U=>{switch(U){case"pending":return a.jsx(Cr,{className:"h-4 w-4 text-yellow-500"});case"approved":return a.jsx(Hn,{className:"h-4 w-4 text-green-500"});case"rejected":return a.jsx(Ki,{className:"h-4 w-4 text-red-500"});case"funded":return a.jsx(ef,{className:"h-4 w-4 text-blue-500"});case"active":return a.jsx(on,{className:"h-4 w-4 text-green-500"});case"completed":return a.jsx(Hn,{className:"h-4 w-4 text-green-500"});default:return a.jsx(Cr,{className:"h-4 w-4 text-gray-500"})}},q=U=>{switch(U){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"approved":return"bg-green-100 text-green-800 border-green-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";case"funded":return"bg-blue-100 text-blue-800 border-blue-200";case"active":return"bg-green-100 text-green-800 border-green-200";case"completed":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return e?a.jsx("div",{className:"min-h-screen bg-background py-8",children:a.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-foreground",children:["Welcome, ",r||e.email,"!"]}),a.jsx("p",{className:"text-muted-foreground",children:s==="borrower"?"Borrower Dashboard":s==="lender"?"Lender Dashboard":"Financial Dashboard"}),s&&a.jsxs(Et,{variant:"outline",className:"mt-2",children:[s==="borrower"?"":""," - ",s==="borrower"?"Borrower":"Lender"]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs(K,{variant:"outline",onClick:()=>t("/"),className:"bg-blue-50 hover:bg-blue-100 text-blue-700 border-blue-200",children:[a.jsx(Dr,{className:"h-4 w-4 mr-2"}),"Home"]}),a.jsxs(K,{variant:"outline",onClick:()=>t(-1),className:"bg-gray-50 hover:bg-gray-100 text-gray-700 border-gray-200",children:[a.jsx(On,{className:"h-4 w-4 mr-2"}),"Back"]}),a.jsxs(K,{variant:"outline",onClick:()=>t("/profile"),className:"bg-green-50 hover:bg-green-100 text-green-700 border-green-200",children:[a.jsx(no,{className:"h-4 w-4 mr-2"}),f?" ":"Profile"]}),s!=="borrower"&&a.jsxs(K,{onClick:()=>t("/wallet"),className:"bg-[hsl(45,85%,55%)] hover:bg-[hsl(42,90%,40%)] text-white",children:[a.jsx(pc,{className:"h-4 w-4 mr-2"}),"Wallet"]}),s==="borrower"&&a.jsxs(K,{onClick:()=>t("/loan-request"),className:"bg-green-600 hover:bg-green-700 text-white",children:[a.jsx(zn,{className:"h-4 w-4 mr-2"}),"Submit New Loan"]}),a.jsxs(K,{variant:"outline",onClick:()=>h(c==="ar"?"en":"ar"),className:"bg-purple-50 hover:bg-purple-100 text-purple-700 border-purple-200",children:[a.jsx(Mn,{className:"h-4 w-4 mr-2"}),c==="ar"?"English":""]})]})]}),!i&&a.jsx(xe,{className:"mb-6 border-yellow-200 bg-yellow-50",children:a.jsx(be,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[a.jsx(Qo,{className:"h-4 w-4"}),a.jsx("span",{children:"Your email is not verified."}),a.jsx(K,{variant:"link",onClick:o,disabled:l,className:"text-[hsl(45,85%,55%)] p-0 h-auto",children:"Resend verification email"})]})})}),e&&N&&["pending","rejected"].includes(N)&&a.jsx(xe,{className:`mb-6 ${N==="pending"?"border-yellow-200 bg-yellow-50":"border-red-200 bg-red-50"}`,children:a.jsx(be,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[N==="pending"?a.jsx(Cr,{className:"h-4 w-4 text-yellow-800"}):a.jsx(Ki,{className:"h-4 w-4 text-red-800"}),a.jsx("span",{className:N==="pending"?"text-yellow-800":"text-red-800",children:N==="pending"?f?"     .   .":"Your account is under review by administration. Please wait for approval.":f?"     .     .":"Your account has been rejected by administration. Please contact support for assistance."})]})})}),s==="lender"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsxs(xe,{children:[a.jsxs(Ae,{className:"flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Re,{className:"text-sm font-medium",children:"Wallet Balance"}),a.jsx(pc,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(be,{children:O?a.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}):a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold",children:ze(A(),c)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Based on transaction history."})]})})]}),a.jsxs(xe,{children:[a.jsxs(Ae,{className:"flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Re,{className:"text-sm font-medium",children:"Total Transactions"}),a.jsx(on,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(be,{children:O?a.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}):a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold",children:T.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Total transactions"})]})})]}),a.jsxs(xe,{children:[a.jsxs(Ae,{className:"flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Re,{className:"text-sm font-medium",children:"Total Investments"}),a.jsx(on,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(be,{children:v?a.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}):a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold",children:m.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Active investments"})]})})]})]}),s==="borrower"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[a.jsxs(xe,{children:[a.jsxs(Ae,{className:"flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Re,{className:"text-sm font-medium",children:"Active Loans"}),a.jsx(zn,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(be,{children:R?a.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}):a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold",children:w.filter(U=>["active","funded"].includes(U.status)).length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Active loan requests"})]})})]}),a.jsxs(xe,{children:[a.jsxs(Ae,{className:"flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Re,{className:"text-sm font-medium",children:"Total Loan Requests"}),a.jsx(zn,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(be,{children:R?a.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}):a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold",children:w.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"All loan requests"})]})})]})]}),!s&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:a.jsxs(xe,{children:[a.jsxs(Ae,{className:"flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Re,{className:"text-sm font-medium",children:"Platform Stats"}),a.jsx(on,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(be,{children:[a.jsx("div",{className:"text-2xl font-bold",children:w.length+m.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Total activities"})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s==="lender"&&a.jsxs(xe,{children:[a.jsx(Ae,{children:a.jsx(Re,{children:"Recent Transactions"})}),a.jsx(be,{children:O?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(U=>a.jsx("div",{className:"h-16 bg-gray-200 rounded animate-pulse"},U))}):T.length===0?a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No transactions yet. Try the wallet to make your first transfer!"}):a.jsxs("div",{className:"space-y-3",children:[T.slice(0,5).map(U=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[U.type==="credit"||U.type==="deposit"?a.jsx(lg,{className:"h-4 w-4 text-green-500"}):a.jsx(nS,{className:"h-4 w-4 text-red-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:U.type==="credit"||U.type==="deposit"?`To ${U.recipientName}`:`From ${U.senderName}`}),a.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(U.createdAt).toLocaleDateString()})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:`font-medium ${U.type==="debit"||U.type==="withdrawal"?"text-red-600":"text-green-600"}`,children:[U.type==="debit"||U.type==="withdrawal"?"-":"+",ze(U.amount,c)]}),a.jsx(Et,{variant:U.status==="completed"?"default":"destructive",children:U.status})]})]},U.id)),T.length>5&&a.jsx(K,{variant:"outline",className:"w-full",onClick:()=>t("/transactions"),children:"View All Transactions"})]})})]}),s==="borrower"&&a.jsxs(xe,{children:[a.jsx(Ae,{children:a.jsx(Re,{children:"Borrower Information"})}),a.jsx(be,{children:a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("p",{className:"mb-2",children:"Transactions are only available for lenders"}),a.jsx("p",{className:"text-xs",children:"Focus on managing your loan requests"})]})})]}),s==="borrower"?a.jsxs(xe,{children:[a.jsxs(Ae,{children:[a.jsx(Re,{children:"Your Loan Requests"}),w.length>0&&a.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:"Total Requests:"}),a.jsx(Et,{variant:"outline",children:w.length})]}),w.some(U=>U.status==="rejected")&&a.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[a.jsx(Qo,{className:"h-3 w-3"}),a.jsx("span",{children:"Some loans were rejected"})]}),w.some(U=>U.status==="completed")&&a.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[a.jsx(Hn,{className:"h-3 w-3"}),a.jsx("span",{children:"Some loans completed"})]})]})]}),a.jsx(be,{children:R?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(U=>a.jsx("div",{className:"h-16 bg-gray-200 rounded animate-pulse"},U))}):w.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx("div",{className:"mb-4",children:"No loan requests yet."}),a.jsxs(K,{onClick:()=>t("/loan-request"),className:"bg-[hsl(45,85%,55%)] hover:bg-[hsl(42,90%,40%)] text-white",children:[a.jsx(zn,{className:"h-4 w-4 mr-2"}),"Create Loan Request"]})]}):a.jsxs("div",{className:"space-y-3",children:[w.slice(0,5).map(U=>a.jsxs("div",{className:"border p-3 rounded",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("div",{className:"font-medium",children:ze(U.amount,c)}),a.jsxs(Et,{className:`${q(U.status)}`,children:[k(U.status),a.jsx("span",{className:"ml-1",children:U.status})]})]}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Go,{className:"h-3 w-3"}),U.repaymentPeriod," months"]}),U.purpose&&a.jsx("div",{className:"text-xs",children:U.purpose})]}),U.status==="rejected"&&a.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-xs text-red-600",children:[a.jsx(Qo,{className:"h-3 w-3 inline mr-1"}),"Loan was rejected. You can submit a new request."]}),a.jsx(K,{size:"sm",onClick:()=>t("/loan-request"),className:"bg-red-50 hover:bg-red-100 text-red-700 border-red-200",children:"Try Again"})]})}),U.status==="completed"&&a.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-xs text-green-600",children:[a.jsx(Hn,{className:"h-3 w-3 inline mr-1"}),"Loan completed successfully!"]}),a.jsx(K,{size:"sm",onClick:()=>t("/loan-request"),className:"bg-green-50 hover:bg-green-100 text-green-700 border-green-200",children:"New Loan"})]})})]},U.id)),w.length>5&&a.jsx(K,{variant:"outline",className:"w-full",onClick:()=>t("/loan-request"),children:"View All Loan Requests"}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsxs(K,{onClick:()=>t("/loan-request"),className:"w-full bg-[hsl(45,85%,55%)] hover:bg-[hsl(42,90%,40%)] text-white",children:[a.jsx(zn,{className:"h-4 w-4 mr-2"}),"Submit New Loan Request"]}),a.jsx("p",{className:"text-xs text-muted-foreground text-center mt-2",children:"You can submit a new request even if your previous loans were rejected or completed"})]})]})})]}):s==="lender"?a.jsxs(xe,{children:[a.jsx(Ae,{children:a.jsx(Re,{children:"Your Investments"})}),a.jsx(be,{children:v?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(U=>a.jsx("div",{className:"h-16 bg-gray-200 rounded animate-pulse"},U))}):m.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx("div",{className:"mb-4",children:"No investments yet."}),a.jsx(K,{onClick:()=>t("/invest"),className:"bg-[hsl(45,85%,55%)] hover:bg-[hsl(42,90%,40%)] text-white",children:"Explore Investment Opportunities"})]}):a.jsxs("div",{className:"space-y-3",children:[m.map(U=>{var $,Z,L,B;return a.jsxs("div",{className:"border p-3 rounded",children:[a.jsxs("div",{className:"font-medium",children:["Opportunity: ",U.opportunityId]}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Amount: ",ze(U.amount,c)]}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Date: ",((B=(Z=($=U.investedAt)==null?void 0:$.toDate)==null?void 0:(L=Z.call($)).toLocaleString)==null?void 0:B.call(L))||U.investedAt]})]},U.id)}),a.jsx(K,{variant:"outline",className:"w-full",onClick:()=>t("/invest"),children:"View All Investments"})]})})]}):a.jsxs(xe,{children:[a.jsx(Ae,{children:a.jsx(Re,{children:"Platform Statistics"})}),a.jsxs(be,{children:[a.jsx("div",{className:"text-2xl font-bold",children:w.length+m.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Total activities"})]})]})]})]})}):null},e$="modulepreload",t$=function(t){return"/"+t},H1={},n$=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=t$(c),c in H1)return;H1[c]=!0;const d=c.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":e$,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((m,y)=>{f.addEventListener("load",m),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},r$=()=>{const t=bn(),[e,n]=g.useState([]),[r,s]=g.useState(!0),[i,o]=g.useState("all"),[l,c]=g.useState("amount"),{language:d,setLanguage:h}=Ft(),f=d==="ar",{user:m,userType:y}=Xn();g.useEffect(()=>{const S=localStorage.getItem("preferred-language");S&&S!==d&&(console.log(" InvestList: Language mismatch detected. Fixing..."),h(S))},[d,h]);const w={title:f?" ":"Investment Opportunities",subtitle:f?"        ":"Choose from a variety of loan requests to invest in",filterAll:f?"":"All",filterLowRisk:f?" ":"Low Risk",filterMediumRisk:f?" ":"Medium Risk",filterHighRisk:f?" ":"High Risk",sortBy:f?" ":"Sort by",sortAmount:f?"":"Amount",sortInterest:f?" ":"Interest Rate",sortRisk:f?"":"Risk",sortDays:f?" ":"Days Remaining",riskLevel:f?" ":"Risk Level",borrowerRating:f?" ":"Borrower Rating",fundedAmount:f?" ":"Funded Amount",daysRemaining:f?" ":"Days Remaining",investNow:f?" ":"Invest Now",viewDetails:f?" ":"View Details",category:f?"":"Category",purpose:f?"":"Purpose",status:f?"":"Status",statusOpen:f?"":"Open",statusFunding:f?" ":"Funding",statusFunded:f?"":"Funded",statusClosed:f?"":"Closed",noOpportunities:f?"     ":"No investment opportunities available at the moment",loading:f?"  ...":"Loading opportunities...",interestRate:f?" ":"Interest Rate"};g.useEffect(()=>{e.length>0&&(console.log(` Opportunities updated: ${e.length} opportunities`),console.log(" Current opportunity IDs:",e.map(S=>S.id)))},[e]),g.useEffect(()=>{const S=async()=>{try{s(!0),console.log(" Loading investment opportunities...");const I=ur(Xt(Pe,"loanRequests")),C=await Ks(I);if(console.log(` Total loans found: ${C.docs.length}`),C.docs.length===0){console.log(" No loans found in the system"),n([]),s(!1);return}const j=ur(Xt(Pe,"investments")),A=await Ks(j);console.log(` Total investments found: ${A.docs.length}`);const k=new Map;A.docs.forEach(U=>{const $=U.data(),Z=$.loanRequestId,L=$.amount||0;k.has(Z)?k.set(Z,k.get(Z)+L):k.set(Z,L)}),console.log(" Funded amounts map:",Object.fromEntries(k));const q=C.docs.filter(U=>{const $=U.data();return $.status==="pending"||$.status==="approved"}).filter(U=>U.data().userId!==(m==null?void 0:m.uid)).map(U=>{const $=U.data(),Z=x($),L=T(Z),B=k.get(U.id)||0;return console.log(` Loan ${U.id}:`,{amount:$.amount,status:$.status,realFundedAmount:B,progress:B>0?`${(B/$.amount*100).toFixed(1)}%`:"0%"}),{id:U.id,title:f?`${$.repaymentPeriod}  - ${$.amount.toLocaleString("ar-SA")} `:`${ze($.amount,"en")}, ${$.repaymentPeriod} months`,description:$.purpose||"Personal loan request",amount:$.amount,interestRate:10,term:`${$.repaymentPeriod} ${f?"":"months"}`,risk:L,borrowerName:$.name||"Anonymous",borrowerRating:4.2,fundedAmount:B,totalAmount:$.amount,daysRemaining:25,category:_($.purpose),purpose:$.purpose||"Personal use",status:$.status==="pending"?"open":"funding",originalStatus:$.status}});console.log(` Final opportunities: ${q.length}`,q),n(q)}catch(I){console.error(" Error loading opportunities:",I),n([])}finally{s(!1)}};S();const N=Xl(ur(Xt(Pe,"loanRequests")),I=>{console.log(" Real-time update received, reloading opportunities..."),console.log(` Current loans in system: ${I.docs.length}`);const C=I.docs.map(A=>A.id),j=e.filter(A=>!C.includes(A.id));j.length>0&&(console.log(` Found ${j.length} deleted loans:`,j.map(A=>A.id)),console.log(" Removing deleted loans from opportunities...")),S()},I=>{console.error(" Real-time listener error:",I)});return()=>N()},[f,m]);const x=S=>{var I,C;let N=50;return S.amount>3e3?N+=20:S.amount>1500&&(N+=10),S.repaymentPeriod>9?N+=15:S.repaymentPeriod>6&&(N+=10),(I=S.purpose)!=null&&I.toLowerCase().includes("business")&&(N+=10),(C=S.purpose)!=null&&C.toLowerCase().includes("debt")&&(N+=15),Math.min(N,100)},T=S=>S<=30?"low":S<=60?"medium":"high",_=S=>{if(!S)return"Personal";const N=S.toLowerCase();return N.includes("business")||N.includes("project")?"Business":N.includes("home")||N.includes("renovation")?"Home":N.includes("education")||N.includes("study")?"Education":N.includes("medical")||N.includes("health")?"Medical":N.includes("debt")||N.includes("consolidation")?"Debt":"Personal"},v=S=>{switch(S){case"low":return"bg-green-100 text-green-800 border-green-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"high":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},b=S=>{switch(S){case"open":return"bg-blue-100 text-blue-800 border-blue-200";case"funding":return"bg-orange-100 text-orange-800 border-orange-200";case"funded":return"bg-green-100 text-green-800 border-green-200";case"closed":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},R=S=>{switch(S){case"low":return a.jsx(is,{className:"h-4 w-4 text-green-500"});case"medium":return a.jsx(cg,{className:"h-4 w-4 text-yellow-500"});case"high":return a.jsx(cg,{className:"h-4 w-4 text-red-500"});default:return a.jsx(is,{className:"h-4 w-4 text-gray-500"})}},D=e.filter(S=>i==="all"?!0:(console.log(" Filtering opportunity:",{id:S.id,risk:S.risk,filter:i,matches:S.risk===i}),S.risk===i));console.log(" Filtering results:",{totalOpportunities:e.length,filter:i,filteredCount:D.length,opportunitiesByRisk:{low:e.filter(S=>S.risk==="low").length,medium:e.filter(S=>S.risk==="medium").length,high:e.filter(S=>S.risk==="high").length}});const O=[...D].sort((S,N)=>{switch(l){case"amount":return N.amount-S.amount;case"interest":return N.interestRate-S.interestRate;case"risk":return S.risk==="low"?-1:S.risk==="medium"?0:1;case"days":return S.daysRemaining-N.daysRemaining;default:return 0}});return r?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:w.loading})]}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsxs(K,{variant:"outline",onClick:()=>t("/"),className:"bg-blue-50 hover:bg-blue-100 text-blue-700 border-blue-200",children:[a.jsx(Dr,{className:"h-4 w-4 mr-2"}),"Home"]}),a.jsxs(K,{variant:"outline",onClick:()=>t(-1),className:"bg-gray-50 hover:bg-gray-100 text-gray-700 border-gray-200",children:[a.jsx(On,{className:"h-4 w-4 mr-2"}),"Back"]})]}),a.jsxs(K,{variant:"outline",onClick:()=>h(f?"en":"ar"),className:"bg-purple-50 hover:bg-purple-100 text-purple-700 border-purple-200",children:[a.jsx(Mn,{className:"h-4 w-4 mr-2"}),f?"English":""]})]}),a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-4",children:w.title}),a.jsx("p",{className:"text-lg text-muted-foreground",children:w.subtitle}),m&&y==="borrower"&&a.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg max-w-2xl mx-auto",children:[a.jsxs("div",{className:"flex items-center gap-2 text-blue-800",children:[a.jsx(Qo,{className:"h-5 w-5"}),a.jsx("span",{className:"font-medium",children:f?" ":"Borrower Information"})]}),a.jsx("p",{className:"text-blue-700 text-sm mt-2",children:f?"           .    .":"You can invest in other people's loans, but you cannot invest in your own loans. This prevents conflicts of interest."})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-8 justify-between items-center",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx(K,{variant:i==="all"?"default":"outline",onClick:()=>o("all"),size:"sm",children:w.filterAll}),a.jsx(K,{variant:i==="low-risk"?"default":"outline",onClick:()=>o("low-risk"),size:"sm",className:"border-green-200 text-green-700 hover:bg-green-50",children:w.filterLowRisk}),a.jsx(K,{variant:i==="medium-risk"?"default":"outline",onClick:()=>o("medium-risk"),size:"sm",className:"border-yellow-200 text-yellow-700 hover:bg-yellow-50",children:w.filterMediumRisk}),a.jsx(K,{variant:i==="high-risk"?"default":"outline",onClick:()=>o("high-risk"),size:"sm",className:"border-red-200 text-red-700 hover:bg-red-50",children:w.filterHighRisk})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-sm text-muted-foreground",children:[w.sortBy,":"]}),a.jsxs("select",{value:l,onChange:S=>c(S.target.value),className:"border rounded px-3 py-1 text-sm",children:[a.jsx("option",{value:"amount",children:w.sortAmount}),a.jsx("option",{value:"interest",children:w.sortInterest}),a.jsx("option",{value:"risk",children:w.sortRisk}),a.jsx("option",{value:"days",children:w.sortDays})]})]})]}),O.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:w.noOpportunities}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Check back later for new opportunities"}),a.jsxs("div",{className:"max-w-md mx-auto p-4 border border-dashed border-gray-300 rounded-lg bg-gray-50",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Development Mode"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"No opportunities found. Click below to populate with sample data for testing."}),a.jsx(K,{onClick:async()=>{try{const{populateSampleData:S}=await n$(async()=>{const{populateSampleData:N}=await import("./sampleData-Cd6bq6Pr.js");return{populateSampleData:N}},[]);await S(),window.location.reload()}catch(S){console.error("Error populating sample data:",S)}},className:"bg-green-600 hover:bg-green-700",children:"Load Sample Opportunities"})]})]}):a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:O.map(S=>a.jsxs(xe,{className:"hover:shadow-lg transition-shadow",children:[a.jsx(Ae,{className:"pb-3",children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex-1",children:[a.jsx(Re,{className:"text-lg mb-2",children:S.title}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsxs(Et,{className:v(S.risk),children:[R(S.risk),w.riskLevel,": ",S.risk]}),a.jsx(Et,{className:b(S.status),children:w[`status${S.status.charAt(0).toUpperCase()+S.status.slice(1)}`]})]})]})})}),a.jsxs(be,{className:"space-y-4",children:[a.jsx("p",{className:"text-muted-foreground text-sm line-clamp-2",children:S.description}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-sm text-muted-foreground",children:[w.category,":"]}),a.jsx("span",{className:"font-medium",children:S.category})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-sm text-muted-foreground",children:[w.borrowerRating,":"]}),a.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((N,I)=>a.jsx(Hn,{className:`h-4 w-4 ${I<Math.floor(S.borrowerRating)?"text-yellow-400 fill-current":"text-gray-300"}`},I)),a.jsxs("span",{className:"text-sm ml-1",children:["(",S.borrowerRating.toFixed(1),")"]})]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-sm text-muted-foreground",children:[w.fundedAmount,":"]}),a.jsx("span",{className:"font-medium",children:ze(S.fundedAmount,d)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Progress"}),a.jsxs("span",{className:"font-medium",children:[Math.round(S.fundedAmount/S.totalAmount*100),"%"]})]}),a.jsx(w0,{value:S.fundedAmount/S.totalAmount*100,className:"h-2"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-muted-foreground",children:w.interestRate}),a.jsxs("div",{className:"font-semibold text-green-600",children:[S.interestRate.toFixed(1),"%"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-muted-foreground",children:w.daysRemaining}),a.jsxs("div",{className:"font-semibold text-blue-600",children:[S.daysRemaining," ",f?"":"days"]})]})]})]}),a.jsxs("div",{className:"flex gap-2 pt-2",children:[a.jsx(K,{asChild:!0,className:"flex-1 bg-gold hover:bg-gold/90",children:a.jsx(ql,{to:`/invest/${S.id}`,children:w.investNow})}),a.jsx(K,{variant:"outline",asChild:!0,className:"flex-1",children:a.jsx(ql,{to:`/invest/${S.id}`,children:w.viewDetails})})]})]})]},S.id))})]})},s$=()=>{const{id:t}=mO(),[e,n]=g.useState(null),[r,s]=g.useState(""),[i,o]=g.useState(!0),[l,c]=g.useState(!1),[d,h]=g.useState(""),{user:f,userType:m}=Xn(),y=bn(),{language:w,t:x,setLanguage:T}=Ft(),_=w==="ar",[v,b]=g.useState(!1),[R,D]=g.useState(null),[O,S]=g.useState(!0);g.useEffect(()=>{const C=async()=>{if(t)try{const A=await Sr(Rt(Pe,"loanRequests",t));if(A.exists()){const k=A.data();k.userId===(f==null?void 0:f.uid)&&b(!0);const q={id:A.id,title:`${k.amount} SAR - ${k.repaymentPeriod} months`,description:k.purpose||"Personal loan request",amount:k.amount,interestRate:8+Math.random()*4,term:`${k.repaymentPeriod} months`,risk:k.riskLevel||"medium",borrowerName:k.name||"Anonymous",borrowerRating:k.borrowerRating||4,category:N(k.purpose),purpose:k.purpose||"Personal use"};n(q)}else{const k=await Sr(Rt(Pe,"opportunities",t));k.exists()&&n({id:k.id,...k.data()})}}catch(A){console.error("Error fetching opportunity:",A)}finally{o(!1)}},j=async()=>{if(f)try{S(!0);const A=await Sr(Rt(Pe,"users",f.uid));if(A.exists()){const k=A.data();D(k.kycStatus||"pending")}else D("pending")}catch(A){console.error("Error checking KYC status:",A),D("pending")}finally{S(!1)}};C(),j()},[t,f]);const N=C=>{if(!C)return"Personal";const j=C.toLowerCase();return j.includes("business")||j.includes("project")?"Business":j.includes("home")||j.includes("renovation")?"Home":j.includes("education")||j.includes("study")?"Education":j.includes("medical")||j.includes("health")?"Medical":j.includes("debt")||j.includes("consolidation")?"Debt":"Personal"},I=async C=>{if(C.preventDefault(),h(""),!f){h("You must be logged in to invest.");return}if(v){h("You cannot invest in your own loan.");return}if(R&&["pending","rejected"].includes(R)){h(R==="pending"?"Your account is pending verification. Please wait for admin approval.":"Your account has been rejected. Please contact support for assistance.");return}if(!r||isNaN(Number(r))||Number(r)<=0){h("Enter a valid amount.");return}const j=Number(r);try{const A=await y0(Xt(Pe,"investments"),{userId:f.uid,loanRequestId:t,amount:j,investedAt:new Date,status:"active",expectedReturn:j*(1+e.interestRate/100),repaymentDate:new Date(Date.now()+(e.term.includes("12")?365:e.term.includes("6")?180:90)*24*60*60*1e3)});console.log(" Investment record created:",A.id);const k=Rt(Pe,"loanRequests",t),q=await Sr(k);if(q.exists()){const U=q.data(),$=U.fundedAmount||0,Z=$+j;await Ra(k,{fundedAmount:Z,updatedAt:new Date,lastInvestmentAt:new Date,lastInvestmentAmount:j,lastInvestorId:f.uid}),console.log(` Loan funded amount updated: ${$}  ${Z}`),Z>=U.amount&&(await Ra(k,{status:"funded",fundedAt:new Date}),console.log(" Loan is now fully funded!"))}c(!0),alert(`Investment successful! You invested ${j} SAR. The loan progress has been updated.`),setTimeout(()=>y("/dashboard"),2e3)}catch(A){console.error(" Investment failed:",A),h("Failed to invest. Try again.")}};return i?a.jsx("div",{className:"p-8 text-center",children:"Loading..."}):e?v?a.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-xl",children:[a.jsxs("div",{className:"flex gap-4 mb-6",children:[a.jsxs(K,{variant:"outline",onClick:()=>y("/"),className:"bg-blue-50 hover:bg-blue-100 text-blue-700 border-blue-200",children:[a.jsx(Dr,{className:"h-4 w-4 mr-2"}),"Home"]}),a.jsxs(K,{variant:"outline",onClick:()=>y(-1),className:"bg-gray-50 hover:bg-gray-100 text-gray-700 border-gray-200",children:[a.jsx(On,{className:"h-4 w-4 mr-2"}),_?"":"Back"]}),a.jsxs(K,{variant:"outline",onClick:()=>T(w==="ar"?"en":"ar"),className:"bg-purple-50 hover:bg-purple-100 text-purple-700 border-purple-200",children:[a.jsx(Mn,{className:"h-4 w-4 mr-2"}),w==="ar"?"English":""]})]}),a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h1",{className:"text-3xl font-bold mb-4 text-orange-600",children:_?"     ":"Cannot Invest in Your Own Loan"}),a.jsx("p",{className:"text-lg text-muted-foreground mb-6",children:_?"      .    .":"You cannot invest in the loan you created. This prevents conflicts of interest."}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(K,{onClick:()=>y("/invest"),className:"bg-green-600 hover:bg-green-700 text-white w-full",children:_?"   ":"Explore Other Opportunities"}),a.jsx(K,{onClick:()=>y("/dashboard"),variant:"outline",className:"w-full",children:_?"   ":"Back to Dashboard"})]})]})]}):a.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-xl",children:[a.jsxs("div",{className:"flex gap-4 mb-6",children:[a.jsxs(K,{variant:"outline",onClick:()=>y("/"),className:"bg-blue-50 hover:bg-blue-100 text-blue-700 border-blue-200",children:[a.jsx(Dr,{className:"h-4 w-4 mr-2"}),"Home"]}),a.jsxs(K,{variant:"outline",onClick:()=>y(-1),className:"bg-gray-50 hover:bg-gray-100 text-gray-700 border-gray-200",children:[a.jsx(On,{className:"h-4 w-4 mr-2"}),_?"":"Back"]}),a.jsxs(K,{variant:"outline",onClick:()=>T(w==="ar"?"en":"ar"),className:"bg-purple-50 hover:bg-purple-100 text-purple-700 border-purple-200",children:[a.jsx(Mn,{className:"h-4 w-4 mr-2"}),w==="ar"?"English":""]})]}),a.jsx("h1",{className:"text-3xl font-bold mb-4",children:e.title}),a.jsx("p",{className:"mb-2",children:e.description}),f&&m==="borrower"&&a.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 text-blue-800",children:[a.jsx(Qo,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm font-medium",children:_?" ":"Borrower Notice"})]}),a.jsx("p",{className:"text-blue-700 text-xs mt-1",children:_?"         .":"You can invest in this loan if it's not your own loan."})]}),f&&R&&["pending","rejected"].includes(R)&&a.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[a.jsx(Qo,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm font-medium",children:_?"  ":"Account Not Verified"})]}),a.jsx("p",{className:"text-red-700 text-xs mt-1",children:R==="pending"?_?"  .     .":"Your account is under review. Please wait for approval before investing.":_?"  .     .":"Your account has been rejected. Please contact support for assistance."})]}),a.jsxs("div",{className:"mb-2",children:["Amount: ",ze(e.amount,w)]}),a.jsxs("div",{className:"mb-2",children:["Interest: ",e.interestRate,"%"]}),a.jsxs("div",{className:"mb-2",children:["Term: ",e.term]}),a.jsxs("div",{className:"mb-2",children:["Risk: ",e.risk]}),a.jsx("form",{onSubmit:I,className:"mt-6 space-y-4",children:R&&["pending","rejected"].includes(R)?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"text-4xl mb-4",children:R==="pending"?"":""}),a.jsx("h3",{className:"text-lg font-semibold mb-2 text-red-600",children:R==="pending"?_?"  ":"Account Under Review":_?"  ":"Account Rejected"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:R==="pending"?_?"         .":"You cannot invest until your account is reviewed by administration.":_?"      .    .":"You cannot invest because your account was rejected. Please contact support."}),a.jsx(K,{onClick:()=>y("/dashboard"),variant:"outline",children:_?"   ":"Back to Dashboard"})]}):a.jsxs(a.Fragment,{children:[a.jsx("input",{type:"number",min:"1",max:e.amount,value:r,onChange:C=>s(C.target.value),className:"w-full p-2 border rounded",placeholder:"Amount to invest",required:!0}),d&&a.jsx("div",{className:"text-red-500 text-sm",children:d}),l&&a.jsx("div",{className:"text-green-600 text-sm",children:"Investment successful! Redirecting..."}),a.jsx("button",{type:"submit",className:"w-full bg-gold text-white p-2 rounded",children:"Invest"})]})})]}):a.jsx("div",{className:"p-8 text-center",children:"Opportunity not found."})};var b0="Tabs",[i$,tB]=Da(b0,[Vf]),xA=Vf(),[o$,T0]=i$(b0),wA=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,h=Of(l),[f,m]=wa({prop:r,onChange:s,defaultProp:i});return a.jsx(o$,{scope:n,baseId:Bc(),value:f,onValueChange:m,orientation:o,dir:h,activationMode:c,children:a.jsx(Te.div,{dir:h,"data-orientation":o,...d,ref:e})})});wA.displayName=b0;var _A="TabsList",EA=g.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=T0(_A,n),o=xA(n);return a.jsx(nA,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:a.jsx(Te.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});EA.displayName=_A;var bA="TabsTrigger",TA=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=T0(bA,n),l=xA(n),c=IA(o.baseId,r),d=CA(o.baseId,r),h=r===o.value;return a.jsx(rA,{asChild:!0,...l,focusable:!s,active:h,children:a.jsx(Te.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:fe(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:fe(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:fe(t.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!s&&f&&o.onValueChange(r)})})})});TA.displayName=bA;var SA="TabsContent",NA=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,l=T0(SA,n),c=IA(l.baseId,r),d=CA(l.baseId,r),h=r===l.value,f=g.useRef(h);return g.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),a.jsx(Uc,{present:s||h,children:({present:m})=>a.jsx(Te.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});NA.displayName=SA;function IA(t,e){return`${t}-trigger-${e}`}function CA(t,e){return`${t}-content-${e}`}var a$=wA,AA=EA,RA=TA,PA=NA;const l$=a$,kA=g.forwardRef(({className:t,...e},n)=>a.jsx(AA,{ref:n,className:Le("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));kA.displayName=AA.displayName;const Rl=g.forwardRef(({className:t,...e},n)=>a.jsx(RA,{ref:n,className:Le("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Rl.displayName=RA.displayName;const Pl=g.forwardRef(({className:t,...e},n)=>a.jsx(PA,{ref:n,className:Le("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Pl.displayName=PA.displayName;const c$=()=>{const t=bn(),{language:e,t:n,setLanguage:r}=Ft();g.useEffect(()=>{const V=localStorage.getItem("preferred-language");V&&V!==e&&(console.log(" AdminOpportunities: Language mismatch detected. Fixing..."),r(V))},[e,r]);const[s,i]=g.useState(""),[o,l]=g.useState(""),[c,d]=g.useState(""),[h,f]=g.useState(""),[m,y]=g.useState(""),[w,x]=g.useState(""),[T,_]=g.useState(""),[v,b]=g.useState(""),[R,D]=g.useState([]),[O,S]=g.useState([]),[N,I]=g.useState([]),[C,j]=g.useState(!0),[A,k]=g.useState(!0),[q,U]=g.useState(!0),$=async()=>{try{k(!0);const V=ur(Xt(Pe,"loanRequests"),Lf("submittedAt","desc")),ee=(await Ks(V)).docs.map(pe=>({id:pe.id,...pe.data()})).sort((pe,je)=>{var It,Ke;const ue={pending:1,approved:2,rejected:3,draft:4},le=pe,me=je,He=ue[le.status]||5,tt=ue[me.status]||5;if(He===tt){let nt,hn;try{return(It=le.submittedAt)!=null&&It.toDate?nt=le.submittedAt.toDate():le.submittedAt instanceof Date?nt=le.submittedAt:typeof le.submittedAt=="string"?nt=new Date(le.submittedAt):nt=new Date(0),(Ke=me.submittedAt)!=null&&Ke.toDate?hn=me.submittedAt.toDate():me.submittedAt instanceof Date?hn=me.submittedAt:typeof me.submittedAt=="string"?hn=new Date(me.submittedAt):hn=new Date(0),isNaN(nt.getTime())||isNaN(hn.getTime())?0:hn.getTime()-nt.getTime()}catch(at){return console.warn("Error sorting by date:",at),0}}return He-tt});D(ee)}catch(V){console.error("Error loading loan requests:",V),D([])}finally{k(!1)}},Z=async()=>{try{U(!0);const ie=(await Ks(Xt(Pe,"users"))).docs.map(ee=>({id:ee.id,...ee.data()})).sort((ee,pe)=>{var tt,It;const je={pending:1,approved:2,rejected:3},ue=ee,le=pe,me=je[ue.kycStatus]||4,He=je[le.kycStatus]||4;if(me===He){let Ke,nt;try{return(tt=ue.createdAt)!=null&&tt.toDate?Ke=ue.createdAt.toDate():ue.createdAt instanceof Date?Ke=ue.createdAt:typeof ue.createdAt=="string"?Ke=new Date(ue.createdAt):Ke=new Date(0),(It=le.createdAt)!=null&&It.toDate?nt=le.createdAt.toDate():le.createdAt instanceof Date?nt=le.createdAt:typeof le.createdAt=="string"?nt=new Date(le.createdAt):nt=new Date(0),isNaN(Ke.getTime())||isNaN(nt.getTime())?0:nt.getTime()-Ke.getTime()}catch(hn){return console.warn("Error sorting by date:",hn),0}}return me-He});I(ie)}catch(V){console.error(" Error loading users:",V),console.error(" Error details:",{message:V.message,code:V.code,stack:V.stack}),V.code==="permission-denied"?alert(" Permission denied: Check Firebase security rules"):V.code==="unavailable"?alert(" Firebase service unavailable: Check your internet connection"):V.code==="unauthenticated"?alert(" Not authenticated: Please log in again"):alert(` Error loading users: ${V.message}`),I([])}finally{U(!1)}},L=async()=>{try{const ce=(await Ks(Xt(Pe,"opportunities"))).docs.map(ie=>({id:ie.id,...ie.data()}));S(ce)}catch(V){console.error("Error loading opportunities:",V),S([])}},B=async(V,ce)=>{if(confirm(`Are you sure you want to delete the loan request for ${ce}? This action cannot be undone.`))try{await $1(Rt(Pe,"loanRequests",V));const ie=ur(Xt(Pe,"investments"),Gi("loanRequestId","==",V)),ee=await Ks(ie);for(const pe of ee.docs)await $1(pe.ref);await $()}catch(ie){console.error("Error deleting loan:",ie),alert(`Failed to delete loan: ${ie.message}`)}},Y=async(V,ce)=>{try{const ie=Rt(Pe,"loanRequests",V),ee=await Sr(ie);if(!ee.exists()){console.error(` Loan document ${V} does not exist!`),alert(`Error: Loan ${V} not found in database`);return}const pe=ee.data();await Ra(ie,{status:ce==="approve"?"approved":"rejected",updatedAt:new Date,adminAction:ce,adminId:"admin",adminEmail:"admin@system.com"}),alert(`Loan ${ce==="approve"?"approved":"rejected"} successfully!`),await $()}catch(ie){console.error(" Error updating loan status:",ie),alert(`Failed to ${ce} loan: ${ie}`)}},Q=async(V,ce)=>{try{await Ra(Rt(Pe,"users",V),{kycStatus:ce,verifiedAt:new Date,adminAction:ce,adminId:"admin",adminEmail:"admin@system.com"}),alert(`User verification ${ce==="approved"?"approved":"rejected"} successfully!`),await Z()}catch(ie){console.error("Error updating user verification:",ie),alert(`Failed to ${ce} user verification: ${ie}`)}};g.useEffect(()=>{(async()=>{try{j(!0),await Promise.all([$(),Z(),L()])}catch(ce){console.error("Error loading data:",ce)}finally{j(!1)}})()},[]);const ne=V=>{if(V.preventDefault(),!s||!o||!c||!h||!m||!w){_("All fields are required.");return}b("Opportunity added successfully!"),i(""),l(""),d(""),f(""),y(""),x(""),_("")},oe=V=>{alert(`Opportunity ${V} deleted successfully!`)};return C?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading admin dashboard..."})]})}):a.jsx("div",{className:"min-h-screen bg-background py-8",children:a.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Admin Dashboard"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage real loan requests and opportunities"})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs(K,{variant:"outline",onClick:()=>t("/"),className:"bg-blue-50 hover:bg-blue-100 text-blue-700 border-blue-200",children:[a.jsx(Dr,{className:"h-4 w-4 mr-2"}),"Home"]}),a.jsxs(K,{variant:"outline",onClick:$,disabled:A,children:[a.jsx(zl,{className:`h-4 w-4 mr-2 ${A?"animate-spin":""}`}),"Refresh Loans"]}),a.jsx(K,{variant:"outline",onClick:()=>t("/dashboard"),children:"Back to Dashboard"}),a.jsxs(K,{variant:"outline",onClick:()=>r(e==="ar"?"en":"ar"),className:"bg-purple-50 hover:bg-purple-100 text-purple-700 border-purple-200",children:[a.jsx(Mn,{className:"h-4 w-4 mr-2"}),e==="ar"?"English":""]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsxs(xe,{children:[a.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Re,{className:"text-sm font-medium",children:"Total Loan Requests"}),a.jsx(zn,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(be,{children:a.jsx("div",{className:"text-2xl font-bold",children:R.length})})]}),a.jsxs(xe,{children:[a.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Re,{className:"text-sm font-medium",children:"Pending Loans"}),a.jsx(Cr,{className:"h-4 w-4 text-yellow-500"})]}),a.jsxs(be,{children:[a.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:R.filter(V=>V.status==="pending").length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Need attention"})]})]}),a.jsxs(xe,{children:[a.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Re,{className:"text-sm font-medium",children:"Approved Loans"}),a.jsx(Hn,{className:"h-4 w-4 text-green-500"})]}),a.jsxs(be,{children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:R.filter(V=>V.status==="approved").length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Already processed"})]})]}),a.jsxs(xe,{children:[a.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Re,{className:"text-sm font-medium",children:"Rejected Loans"}),a.jsx(Ki,{className:"h-4 w-4 text-red-500"})]}),a.jsxs(be,{children:[a.jsx("div",{className:"text-2xl font-bold text-red-600",children:R.filter(V=>V.status==="rejected").length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Already processed"})]})]})]}),a.jsxs(l$,{defaultValue:"loan-management",className:"space-y-6",children:[a.jsxs(kA,{className:"grid w-full grid-cols-4",children:[a.jsx(Rl,{value:"loan-management",children:"Loan Management"}),a.jsx(Rl,{value:"user-verification",children:"User Verification"}),a.jsx(Rl,{value:"opportunities",children:"Investment Opportunities"}),a.jsx(Rl,{value:"system-info",children:"System Info"})]}),a.jsx(Pl,{value:"loan-management",className:"space-y-6",children:a.jsxs(xe,{children:[a.jsx(Ae,{children:a.jsxs(Re,{className:"flex items-center gap-2",children:[a.jsx(zn,{className:"h-5 w-5"}),"Real Loan Requests from Your System"]})}),a.jsxs(be,{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold",children:["All Loan Requests (",R.length,")"]}),a.jsxs(K,{onClick:$,variant:"outline",size:"sm",disabled:A,children:[a.jsx(zl,{className:`h-4 w-4 mr-2 ${A?"animate-spin":""}`}),"Refresh"]})]}),A?a.jsx("div",{className:"text-center py-8",children:"Loading loan requests..."}):R.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx("p",{children:"No loan requests found in your system."}),a.jsx("p",{className:"text-sm mt-2",children:"Create a loan request from the loan page to see it here."})]}):a.jsx("div",{className:"space-y-4",children:R.map(V=>{var ce,ie,ee,pe,je,ue,le;return a.jsx("div",{className:"border rounded-lg p-4 space-y-3",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(no,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"font-medium",children:V.name||"Anonymous"}),a.jsx(Et,{variant:V.status==="pending"?"secondary":V.status==="approved"?"default":"destructive",children:V.status})]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:V.purpose}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Amount:"})," SAR ",((ce=V.amount)==null?void 0:ce.toLocaleString())||"N/A"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Period:"})," ",V.repaymentPeriod||"N/A"," months"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Interest:"})," ",V.interestRate?(V.interestRate*100).toFixed(1):"N/A","%"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Monthly:"})," SAR ",((ie=V.monthlyPayment)==null?void 0:ie.toLocaleString())||"N/A"]})]}),V.submittedAt&&a.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["Submitted: ",((je=(pe=(ee=V.submittedAt).toDate)==null?void 0:pe.call(ee))==null?void 0:je.toLocaleString())||((le=(ue=V.submittedAt).toLocaleString)==null?void 0:le.call(ue))||"N/A"]})]}),V.status==="pending"&&a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(K,{size:"sm",onClick:()=>Y(V.id,"approve"),className:"bg-green-600 hover:bg-green-700",children:[a.jsx(Hn,{className:"h-4 w-4 mr-1"}),"Approve"]}),a.jsxs(K,{size:"sm",variant:"destructive",onClick:()=>Y(V.id,"reject"),children:[a.jsx(Ki,{className:"h-4 w-4 mr-1"}),"Reject"]})]}),a.jsx("div",{className:"flex gap-2 ml-2",children:a.jsx(K,{size:"sm",variant:"outline",onClick:()=>B(V.id,V.name||"Unknown"),className:"text-red-600 border-red-300 hover:bg-red-50",children:" Delete"})})]})},V.id)})})]})]})}),a.jsx(Pl,{value:"user-verification",className:"space-y-6",children:a.jsxs(xe,{children:[a.jsx(Ae,{children:a.jsxs(Re,{className:"flex items-center gap-2",children:[a.jsx(is,{className:"h-5 w-5"}),"User KYC Verification Management"]})}),a.jsxs(be,{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"User Accounts Requiring Verification"}),a.jsxs(K,{onClick:Z,variant:"outline",size:"sm",disabled:q,children:[a.jsx(zl,{className:`h-4 w-4 mr-2 ${q?"animate-spin":""}`}),"Refresh Users"]})]}),q?a.jsx("div",{className:"text-center py-8",children:"Loading users..."}):N.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx("p",{children:"No users found in your system."}),a.jsx("p",{className:"text-sm mt-2",children:"Users will appear here once they create accounts."})]}):a.jsx("div",{className:"space-y-4",children:N.map(V=>{var ce,ie,ee;return a.jsx("div",{className:"border rounded-lg p-4 space-y-3",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(no,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"font-medium",children:V.name||"No Name"}),a.jsx(Et,{variant:V.kycStatus==="pending"?"secondary":V.kycStatus==="approved"?"default":"destructive",children:V.kycStatus==="pending"?"Pending":V.kycStatus==="approved"?"Approved":V.kycStatus||"No Status"}),a.jsx(Et,{variant:V.userType==="borrower"?"default":"secondary",children:V.userType==="borrower"?"Borrower":"Lender"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",V.email||"N/A"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Mobile:"})," ",V.mobileNumber||"N/A"]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"ID Number:"})," ",V.idNumber||"N/A"]})]}),V.createdAt&&a.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["Account Created: ",((ee=(ie=(ce=V.createdAt).toDate)==null?void 0:ie.call(ce))==null?void 0:ee.toLocaleString())||V.createdAt.toLocaleString()||"N/A"]})]}),V.kycStatus==="pending"&&a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(K,{size:"sm",onClick:()=>Q(V.id,"approved"),className:"bg-green-600 hover:bg-green-700",children:[a.jsx(Hn,{className:"h-4 w-4 mr-1"}),"Approve"]}),a.jsxs(K,{size:"sm",variant:"destructive",onClick:()=>Q(V.id,"rejected"),children:[a.jsx(Ki,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]})},V.id)})})]})]})}),a.jsxs(Pl,{value:"opportunities",className:"space-y-6",children:[a.jsxs(xe,{children:[a.jsx(Ae,{children:a.jsx(Re,{children:"Add New Investment Opportunity"})}),a.jsx(be,{children:a.jsxs("form",{onSubmit:ne,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"title",className:"block text-sm font-medium mb-1",children:"Title"}),a.jsx(gn,{id:"title",value:s,onChange:V=>i(V.target.value),placeholder:"Opportunity title",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium mb-1",children:"Amount (SAR)"}),a.jsx(gn,{id:"amount",type:"number",value:c,onChange:V=>d(V.target.value),placeholder:"0.00",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"interestRate",className:"block text-sm font-medium mb-1",children:"Interest Rate (%)"}),a.jsx(gn,{id:"interestRate",type:"number",step:"0.1",value:h,onChange:V=>f(V.target.value),placeholder:"0.0",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"term",className:"block text-sm font-medium mb-1",children:"Term"}),a.jsx(gn,{id:"term",value:m,onChange:V=>y(V.target.value),placeholder:"e.g., 12 months",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium mb-1",children:"Description"}),a.jsx(gn,{id:"description",value:o,onChange:V=>l(V.target.value),placeholder:"Detailed description",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"risk",className:"block text-sm font-medium mb-1",children:"Risk Level"}),a.jsx(gn,{id:"risk",value:w,onChange:V=>x(V.target.value),placeholder:"e.g., Low, Medium, High",required:!0})]}),T&&a.jsx("div",{className:"text-red-600 text-sm",children:T}),v&&a.jsx("div",{className:"text-green-600 text-sm",children:v}),a.jsx(K,{type:"submit",className:"w-full",children:"Add Opportunity"})]})})]}),a.jsxs(xe,{children:[a.jsx(Ae,{children:a.jsxs(Re,{children:["Current Opportunities (",O.length,")"]})}),a.jsx(be,{children:O.length===0?a.jsx("p",{className:"text-muted-foreground",children:"No opportunities available"}):a.jsx("div",{className:"space-y-4",children:O.map(V=>{var ce;return a.jsxs("div",{className:"flex justify-between items-center p-3 border rounded",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium",children:V.title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:V.description}),a.jsxs("div",{className:"text-sm",children:["SAR ",((ce=V.amount)==null?void 0:ce.toLocaleString())||"N/A","  ",V.interestRate||"N/A","%  ",V.term||"N/A","  ",V.risk||"N/A"]})]}),a.jsx(K,{variant:"outline",size:"sm",onClick:()=>oe(V.id),className:"text-red-600 hover:text-red-700",children:"Delete"})]},V.id)})})})]})]}),a.jsx(Pl,{value:"system-info",className:"space-y-6",children:a.jsxs(xe,{children:[a.jsx(Ae,{children:a.jsx(Re,{children:"System Information"})}),a.jsx(be,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium",children:"Database Status"}),a.jsx("p",{className:"text-sm text-green-600",children:"Connected to Firebase"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium",children:"Loan Requests"}),a.jsxs("p",{className:"text-sm text-blue-600",children:[R.length," total"]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium",children:"Pending Loans"}),a.jsxs("p",{className:"text-sm text-orange-600",children:[R.filter(V=>V.status==="pending").length," need approval"]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium",children:"Last Updated"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:new Date().toLocaleString()})]})]}),a.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"How to use this dashboard:"}),a.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Loan Management:"})," View and approve/reject loan requests from borrowers"]}),a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Investment Opportunities:"})," Create and manage investment opportunities"]}),a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Refresh:"})," Click the refresh button to load latest data"]}),a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Real-time:"})," All data comes directly from your Firebase database"]})]})]})]})})]})})]})]})})},Gg=g.forwardRef(({className:t,...e},n)=>a.jsx("textarea",{className:Le("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Gg.displayName="Textarea";function u$(t,e){const n=t*.025,r=t*.1,s=t+n+r,i=s/e;return{platformFee:Math.round(n),investorReturn:Math.round(r),totalRepayment:Math.round(s),monthlyPayment:Math.round(i)}}function d$(){const t=bn(),{language:e,t:n,setLanguage:r}=Ft(),{user:s,userType:i}=Xn(),o=e==="ar";g.useEffect(()=>{const L=localStorage.getItem("preferred-language");L&&L!==e&&(console.log(" LoanRequest: Language mismatch detected. Fixing..."),r(L))},[e,r]);const[l,c]=g.useState(2500),[d,h]=g.useState(6),[f,m]=g.useState("");g.useState(!1);const[y,w]=g.useState(null);g.useState([]);const[x,T]=g.useState("draft"),[_,v]=g.useState(null),[b,R]=g.useState(!0),[D,O]=g.useState([]),[S,N]=g.useState(!1),{toast:I}=Yy();g.useEffect(()=>{(async()=>{if(!s){R(!1);return}try{R(!0);const B=await Sr(Rt(Pe,"users",s.uid));if(B.exists()){const Y=B.data();v(Y.kycStatus||"pending")}else v("pending")}catch(B){console.error("Error checking KYC status:",B),v("pending")}finally{R(!1)}})()},[s]),g.useEffect(()=>{s&&j()},[s]);const C=u$(l,d),j=async()=>{if(s)try{N(!0);const L=ur(Xt(Pe,"loanRequests"),Gi("userId","==",s.uid)),Y=(await Ks(L)).docs.map(Q=>({id:Q.id,...Q.data()}));O(Y)}catch(L){console.error("Error loading loan requests:",L),I({title:"Error",description:"Failed to load your loan requests.",variant:"destructive"})}finally{N(!1)}},A={title:o?"  ":"Instant Loan Request",subtitle:o?"    500  5,000   ":"Get funding from SAR 500 to 5,000 in minutes",amount:o?"  ":"Requested Loan Amount",minAmount:o?"500 ":"SAR 500",maxAmount:o?"5,000 ":"SAR 5,000",repayment:o?" ":"Repayment Period",months:o?"":"months",month:o?"":"month",purpose:o?"   ()":"Purpose of the loan (optional)",purposePlaceholder:o?":       ...":"E.g.: Small business, debt consolidation, home improvement...",summary:o?" ":"Loan Summary",principal:o?" ":"Principal Amount",platformFee:o?"  (2.5%)":"Platform Fee (2.5%)",investorReturn:o?"  ":"Expected Investor Return",totalRepayment:o?"  ":"Total Repayment",monthlyPayment:o?"  ":"Expected Monthly Payment",shariah:o?"    ":"Shariah Compliant",shariahDesc:o?"         ":"This product has been reviewed and approved by the Shariah board.",submit:o?"  ":"Submit Loan Request",submitting:o?" ...":"Submitting...",review:o?"    24 ":"Your request will be reviewed within 24 hours",successTitle:o?"    ":"Loan request sent successfully",successDesc:o?"      ...":"Searching for suitable lenders using AI...",errorTitle:o?"   ":"Error submitting request",errorDesc:o?"   ":"Please try again",aiSuccessTitle:o?"    !":"Suitable lenders found!",aiSuccessDesc:L=>o?` ${L}   `:`Found ${L} suitable lenders for your request`,aiErrorTitle:o?"    ":"Error finding lenders",aiErrorDesc:o?"    ":"We'll try searching again later",lenderSelectedTitle:o?"  ":"Lender selected",lenderSelectedDesc:o?"     ":"You will be contacted soon to complete the process",loanStatus:o?" ":"Loan Status",activeLoans:o?" ":"Active Loans",noActiveLoans:o?"   ":"No active loans",createNewLoan:o?"  ":"Create New Loan",statusPending:o?" ":"Under Review",statusApproved:o?" ":"Approved",statusRejected:o?"":"Rejected",statusFunded:o?" ":"Funded",statusActive:o?"":"Active",statusCompleted:o?"":"Completed",nextPayment:o?" ":"Next Payment",daysRemaining:o?" ":"Days Remaining",outstandingBalance:o?" ":"Outstanding Balance",viewDetails:o?" ":"View Details",notifications:o?"":"Notifications",noNotifications:o?"  ":"No notifications",submitted:o?"  ":"Submitted on",guestTitle:o?"  ":"View Loan Request",guestSubtitle:o?"    ":"Explore available loan options",loginToSubmit:o?"   ":"Login to submit request",signupToSubmit:o?"   ":"Sign up to submit request",loginRequired:o?"  ":"Login Required",loginRequiredDesc:o?"     ":"You must be logged in to create a loan request",signupRequired:o?"  ":"Account Required",signupRequiredDesc:o?"      ":"You must create an account to access loan services"},k=async L=>{if(L.preventDefault(),!s){I({title:"Error",description:"You must be logged in to submit a loan request.",variant:"destructive"});return}try{N(!0);const B={userId:s.uid,userType:i||"borrower",name:s.displayName||s.email||"Anonymous",amount:l,repaymentPeriod:d,purpose:f,status:"pending",submittedAt:np(),createdAt:np(),updatedAt:np(),interestRate:10,monthlyPayment:C.monthlyPayment,totalRepayment:C.totalRepayment,daysRemaining:d*30},Y=await y0(Xt(Pe,"loanRequests"),B);w(Y.id),T("pending"),I({title:A.successTitle,description:A.successDesc}),await j()}catch(B){console.error("Error submitting loan request:",B),I({title:A.errorTitle,description:A.errorDesc,variant:"destructive"})}finally{N(!1)}},q=[3,6,9,12],U=L=>{switch(L){case"pending":return a.jsx(Cr,{className:"h-4 w-4 text-yellow-500"});case"approved":return a.jsx(Ej,{className:"h-4 w-4 text-green-500"});case"rejected":return a.jsx(Ki,{className:"h-4 w-4 text-red-500"});case"funded":return a.jsx(pc,{className:"h-4 w-4 text-blue-500"});case"active":return a.jsx(on,{className:"h-4 w-4 text-green-500"});case"completed":return a.jsx(Hn,{className:"h-4 w-4 text-green-500"});default:return a.jsx(rS,{className:"h-4 w-4 text-gray-500"})}},$=L=>{switch(L){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"approved":return"bg-green-100 text-green-800 border-green-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";case"funded":return"bg-blue-100 text-blue-800 border-blue-200";case"active":return"bg-green-100 text-green-800 border-green-200";case"completed":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},Z=s&&_==="verified";return a.jsx("div",{className:"min-h-screen bg-[var(--garshain-cream)] py-8",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsx("div",{className:"flex justify-between items-center mb-6",children:a.jsxs("div",{className:"flex gap-4",children:[a.jsxs(K,{variant:"outline",onClick:()=>t("/"),className:"bg-blue-50 hover:bg-blue-100 text-blue-700 border-blue-200",children:[a.jsx(Dr,{className:"h-4 w-4 mr-2"}),"Home"]}),a.jsxs(K,{variant:"outline",onClick:()=>t(-1),className:"bg-gray-50 hover:bg-gray-100 text-gray-700 border-gray-200",children:[a.jsx(On,{className:"h-4 w-4 mr-2"}),"Back"]}),a.jsxs(K,{variant:"outline",onClick:()=>r(e==="ar"?"en":"ar"),className:"bg-gray-50 hover:bg-gray-100 text-gray-700 border-gray-200",children:[a.jsx(Mn,{className:"h-4 w-4 mr-2"}),e==="ar"?"English":""]})]})}),a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-[var(--garshain-text)] mb-4",children:s?A.title:A.guestTitle}),a.jsx("p",{className:"text-lg text-[var(--garshain-text)] opacity-70",children:s?A.subtitle:A.guestSubtitle})]}),s&&D.length>0&&a.jsx("div",{className:"max-w-4xl mx-auto mb-8",children:a.jsxs(xe,{children:[a.jsx(Ae,{children:a.jsxs(Re,{className:"flex items-center gap-2",children:[a.jsx(Cr,{className:"h-5 w-5"}),A.activeLoans]})}),a.jsx(be,{children:a.jsx("div",{className:"space-y-4",children:D.map(L=>a.jsxs("div",{className:"border p-3 rounded",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("div",{className:"font-medium",children:ze(L.amount)}),a.jsxs(Et,{className:`${$(L.status)}`,children:[U(L.status),a.jsx("span",{className:"ml-1",children:L.status})]})]}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Go,{className:"h-3 w-3"}),L.repaymentPeriod," months"]}),L.purpose&&a.jsx("div",{className:"text-xs",children:L.purpose})]})]},L.id))})})]})}),a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs(xe,{className:"p-8 border border-[var(--garshain-gold)] border-opacity-20",children:[a.jsx(Ae,{children:a.jsx(Re,{className:"text-center text-xl",children:s?D.length>0?A.createNewLoan:A.title:A.guestTitle})}),a.jsx(be,{className:"p-0",children:s?a.jsx(a.Fragment,{children:b?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Checking account status..."})]}):_==="pending"?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-semibold mb-2 text-yellow-600",children:o?"  ":"Account Under Review"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:o?"     .       .":"Your account is under review by administration. Please wait for approval before creating a loan request."}),a.jsx(K,{onClick:()=>t("/dashboard"),variant:"outline",children:o?"   ":"Back to Dashboard"})]}):_==="rejected"?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-semibold mb-2 text-red-600",children:o?"  ":"Account Rejected"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:o?"     .     .":"Your account has been rejected by administration. Please contact support for assistance."}),a.jsx(K,{onClick:()=>t("/dashboard"),variant:"outline",children:o?"   ":"Back to Dashboard"})]}):a.jsxs("form",{onSubmit:k,className:"space-y-8",children:[a.jsxs("div",{children:[a.jsxs(pt,{className:"block text-lg font-medium text-[var(--garshain-text)] mb-4",children:[a.jsx(jw,{className:"inline ml-2 h-5 w-5 text-[var(--garshain-gold)]"}),A.amount]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"range",min:"500",max:"5000",step:"100",value:l,onChange:L=>c(parseInt(L.target.value)),className:"loan-slider w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),a.jsxs("div",{className:"flex justify-between text-sm text-[var(--garshain-text)] opacity-70 mt-2",children:[a.jsx("span",{children:A.minAmount}),a.jsx("span",{children:A.maxAmount})]})]}),a.jsx("div",{className:"text-center mt-4",children:a.jsx("span",{className:"text-3xl font-bold text-[var(--garshain-gold)]",children:ze(l)})})]}),a.jsxs("div",{children:[a.jsxs(pt,{className:"block text-lg font-medium text-[var(--garshain-text)] mb-4",children:[a.jsx(Go,{className:"inline ml-2 h-5 w-5 text-[hsl(45,85%,55%)]"}),A.repayment]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:q.map(L=>a.jsxs(K,{type:"button",variant:"outline",className:`p-4 h-auto flex flex-col transition-all duration-200 ${d===L?"bg-[hsl(45,85%,55%)] text-white border-[hsl(45,85%,55%)] shadow-lg scale-105":"border-gray-300 text-gray-700 hover:border-[hsl(45,85%,55%)] hover:bg-[hsl(45,85%,55%)] hover:text-white hover:shadow-md"}`,onClick:()=>h(L),children:[a.jsx("div",{className:"font-bold text-lg",children:L}),a.jsx("div",{className:"text-sm",children:L===1?A.month:A.months})]},L))})]}),a.jsxs("div",{children:[a.jsxs(pt,{htmlFor:"purpose",className:"block text-lg font-medium text-[var(--garshain-text)] mb-4",children:[a.jsx(zn,{className:"inline ml-2 h-5 w-5 text-[hsl(45,85%,55%)]"}),A.purpose]}),a.jsx(Gg,{id:"purpose",value:f,onChange:L=>m(L.target.value),placeholder:A.purposePlaceholder,className:"min-h-[100px]"})]}),a.jsxs(xe,{className:"border border-[hsl(45,85%,55%)] border-opacity-30",children:[a.jsx(Ae,{children:a.jsx(Re,{className:"text-xl text-[var(--garshain-text)]",children:A.summary})}),a.jsxs(be,{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:A.principal}),a.jsx("span",{className:"font-bold",children:ze(l)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:A.platformFee}),a.jsx("span",{className:"font-bold",children:ze(C.platformFee)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:A.investorReturn}),a.jsx("span",{className:"font-bold",children:ze(C.investorReturn)})]}),a.jsx("div",{className:"border-t border-[hsl(45,85%,55%)] border-opacity-30 pt-3",children:a.jsxs("div",{className:"flex justify-between text-lg font-bold text-[hsl(45,85%,55%)]",children:[a.jsx("span",{children:A.totalRepayment}),a.jsx("span",{children:ze(C.totalRepayment)})]})}),a.jsxs("div",{className:"flex justify-between text-sm text-[var(--garshain-text)] opacity-70",children:[a.jsx("span",{children:A.monthlyPayment}),a.jsx("span",{className:"font-bold",children:ze(C.monthlyPayment)})]})]})]}),a.jsx(xe,{className:"bg-[var(--garshain-success)] bg-opacity-10 border border-[var(--garshain-success)] border-opacity-30",children:a.jsx(be,{className:"p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(kw,{className:"h-6 w-6 text-[var(--garshain-success)] ml-3"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-[var(--garshain-success)]",children:A.shariah}),a.jsx("p",{className:"text-sm text-[var(--garshain-text)] opacity-70",children:A.shariahDesc})]})]})})}),a.jsxs("div",{className:"text-center",children:[a.jsx(K,{type:"submit",disabled:S||!Z,className:"bg-[hsl(45,85%,55%)] text-white px-12 py-4 rounded-full text-lg font-medium hover:bg-[hsl(42,90%,40%)] shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:S?A.submitting:a.jsxs(a.Fragment,{children:[a.jsx(Rj,{className:"ml-2 h-5 w-5"}),A.submit]})}),a.jsx("p",{className:"text-sm text-[var(--garshain-text)] opacity-70 mt-3",children:A.review})]})]})}):a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsxs(pt,{className:"block text-lg font-medium text-[var(--garshain-text)] mb-4",children:[a.jsx(jw,{className:"inline ml-2 h-5 w-5 text-[var(--garshain-gold)]"}),A.amount]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"range",min:"500",max:"5000",step:"100",value:l,onChange:L=>c(parseInt(L.target.value)),className:"loan-slider w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),a.jsxs("div",{className:"flex justify-between text-sm text-[var(--garshain-text)] opacity-70 mt-2",children:[a.jsx("span",{children:A.minAmount}),a.jsx("span",{children:A.maxAmount})]})]}),a.jsx("div",{className:"text-center mt-4",children:a.jsx("span",{className:"text-3xl font-bold text-[var(--garshain-gold)]",children:ze(l)})})]}),a.jsxs("div",{children:[a.jsxs(pt,{className:"block text-lg font-medium text-[var(--garshain-text)] mb-4",children:[a.jsx(Go,{className:"inline ml-2 h-5 w-5 text-[hsl(45,85%,55%)]"}),A.repayment]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:q.map(L=>a.jsxs(K,{type:"button",variant:"outline",className:`p-4 h-auto flex flex-col transition-all duration-200 ${d===L?"bg-[hsl(45,85%,55%)] text-white border-[hsl(45,85%,55%)] shadow-lg scale-105":"border-gray-300 text-gray-700 hover:border-[hsl(45,85%,55%)] hover:bg-[hsl(45,85%,55%)] hover:text-white hover:shadow-md"}`,onClick:()=>h(L),children:[a.jsx("div",{className:"font-bold text-lg",children:L}),a.jsx("div",{className:"text-sm",children:L===1?A.month:A.months})]},L))})]}),a.jsxs("div",{children:[a.jsxs(pt,{htmlFor:"purpose",className:"block text-lg font-medium text-[var(--garshain-text)] mb-4",children:[a.jsx(zn,{className:"inline ml-2 h-5 w-5 text-[hsl(45,85%,55%)]"}),A.purpose]}),a.jsx(Gg,{id:"purpose",value:f,onChange:L=>m(L.target.value),placeholder:A.purposePlaceholder,className:"min-h-[100px]"})]}),a.jsxs(xe,{className:"border border-[hsl(45,85%,55%)] border-opacity-30",children:[a.jsx(Ae,{children:a.jsx(Re,{className:"text-xl text-[var(--garshain-text)]",children:A.summary})}),a.jsxs(be,{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:A.principal}),a.jsx("span",{className:"font-bold",children:ze(l)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:A.platformFee}),a.jsx("span",{className:"font-bold",children:ze(C.platformFee)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:A.investorReturn}),a.jsx("span",{className:"font-bold",children:ze(C.investorReturn)})]}),a.jsx("div",{className:"border-t border-[hsl(45,85%,55%)] border-opacity-30 pt-3",children:a.jsxs("div",{className:"flex justify-between text-lg font-bold text-[hsl(45,85%,55%)]",children:[a.jsx("span",{children:A.totalRepayment}),a.jsx("span",{children:ze(C.totalRepayment)})]})}),a.jsxs("div",{className:"flex justify-between text-sm text-[var(--garshain-text)] opacity-70",children:[a.jsx("span",{children:A.monthlyPayment}),a.jsx("span",{className:"font-bold",children:ze(C.monthlyPayment)})]})]})]}),a.jsx(xe,{className:"bg-[var(--garshain-success)] bg-opacity-10 border border-[var(--garshain-success)] border-opacity-30",children:a.jsx(be,{className:"p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(kw,{className:"h-6 w-6 text-[var(--garshain-success)] ml-3"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-[var(--garshain-success)]",children:A.shariah}),a.jsx("p",{className:"text-sm text-[var(--garshain-text)] opacity-70",children:A.shariahDesc})]})]})})}),a.jsxs("div",{className:"text-center py-6 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-semibold mb-2 text-blue-600",children:A.loginRequired}),a.jsx("p",{className:"text-muted-foreground mb-4",children:A.loginRequiredDesc}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsxs(K,{onClick:()=>t("/login"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3",children:[a.jsx(Sj,{className:"h-4 w-4 mr-2"}),A.loginToSubmit]}),a.jsxs(K,{onClick:()=>t("/signup"),variant:"outline",className:"border-blue-600 text-blue-600 hover:bg-blue-50 px-6 py-3",children:[a.jsx(iS,{className:"h-4 w-4 mr-2"}),A.signupToSubmit]})]})]})]})})]})})]})})}function h$(){return a.jsx("div",{className:"min-h-screen bg-[var(--garshain-cream)] py-8",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsx("h1",{className:"text-3xl font-bold text-[var(--garshain-text)] mb-4",children:"Wallet"}),a.jsx("p",{className:"text-[var(--garshain-text)] opacity-70",children:"Wallet functionality coming soon..."})]})})}const Ff="http://localhost:3001/api/v1";async function S0(t,e,n){var i;const r=e.startsWith("/api")?`${Ff}${e.replace("/api","")}`:e,s=await fetch(r,{method:t,headers:{"Content-Type":"application/json"},body:void 0});if(!s.ok){const o=await s.json().catch(()=>({}));throw new Error(((i=o.error)==null?void 0:i.message)||`HTTP ${s.status}: ${s.statusText}`)}return s}async function f$(t){const e=new URLSearchParams;t!=null&&t.limit&&e.append("limit",t.limit.toString()),t!=null&&t.offset&&e.append("offset",t.offset.toString()),t!=null&&t.status&&e.append("status",t.status),t!=null&&t.userId&&e.append("userId",t.userId);const n=`${Ff}/transactions${e.toString()?`?${e.toString()}`:""}`;return(await S0("GET",n)).json()}async function m$(t,e){const n=`${Ff}/transactions/user/${t}${`?limit=${e}`}`;return(await S0("GET",n)).json()}async function p$(){return(await S0("GET",`${Ff}/transactions/statistics`)).json()}const g$=()=>{const{user:t}=Xn(),e=bn(),{toast:n}=Yy(),{language:r,setLanguage:s}=Ft(),i=r==="ar",[o,l]=g.useState([]),[c,d]=g.useState([]),[h,f]=g.useState(null),[m,y]=g.useState(!0),[w,x]=g.useState(""),[T,_]=g.useState("all"),[v,b]=g.useState("user"),D=(C=>({"saharaldhaheri@gmail.com":"user-1","admin@test.com":"user-2","user@test.com":"user-3"})[C==null?void 0:C.email]||"user-1")(t),O=async()=>{try{y(!0);const C=await m$(D,50);d(C.data.transactions);const j=await f$({limit:100});l(j.data.transactions);const A=await p$();f(A.data.statistics)}catch(C){console.error("Error loading transaction data:",C),n({title:"Error",description:"Failed to load transaction data. Please ensure the backend is running.",variant:"destructive"})}finally{y(!1)}};if(g.useEffect(()=>{t&&O()},[t]),!t)return e("/login"),null;const N=(v==="user"?c:o).filter(C=>{var k,q;const j=w===""||((k=C.senderName)==null?void 0:k.toLowerCase().includes(w.toLowerCase()))||((q=C.recipientName)==null?void 0:q.toLowerCase().includes(w.toLowerCase()))||C.id.toLowerCase().includes(w.toLowerCase()),A=T==="all"||C.status===T;return j&&A}),I={title:i?" ":"Transaction History",subtitle:i?"   ":"View all financial transactions",userTransactions:i?"":"My Transactions",allTransactions:i?" ":"All Transactions",search:i?"...":"Search...",filter:i?"":"Filter",all:i?"":"All",completed:i?"":"Completed",failed:i?"":"Failed",refresh:i?"":"Refresh",back:i?"":"Back",home:i?"":"Home",to:i?"":"To",from:i?"":"From",amount:i?"":"Amount",date:i?"":"Date",status:i?"":"Status",noTransactions:i?"  ":"No transactions found",totalTransactions:i?" ":"Total Transactions",totalVolume:i?" ":"Total Volume",successRate:i?" ":"Success Rate",avgAmount:i?" ":"Average Amount"};return m?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(zl,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),a.jsx("p",{children:"Loading transaction data..."})]})}):a.jsx("div",{className:"min-h-screen bg-background py-8",children:a.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(K,{variant:"outline",onClick:()=>e("/dashboard"),children:[a.jsx(On,{className:"h-4 w-4 mr-2"}),I.back]}),a.jsxs(K,{variant:"outline",onClick:()=>e("/"),children:[a.jsx(Dr,{className:"h-4 w-4 mr-2"}),I.home]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:I.title}),a.jsx("p",{className:"text-muted-foreground",children:I.subtitle})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs(K,{variant:"outline",onClick:O,disabled:m,children:[a.jsx(zl,{className:`h-4 w-4 mr-2 ${m?"animate-spin":""}`}),I.refresh]}),a.jsxs(K,{variant:"outline",onClick:()=>s(r==="ar"?"en":"ar"),className:"flex items-center gap-2",children:[a.jsx(Mn,{className:"h-4 w-4"}),r==="ar"?"English":""]})]})]}),h&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsxs(xe,{children:[a.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Re,{className:"text-sm font-medium",children:I.totalTransactions}),a.jsx(Om,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(be,{children:[a.jsx("div",{className:"text-2xl font-bold",children:h.totalTransactions}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.completedTransactions," completed"]})]})]}),a.jsxs(xe,{children:[a.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Re,{className:"text-sm font-medium",children:I.totalVolume}),a.jsx(ef,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(be,{children:[a.jsx("div",{className:"text-2xl font-bold",children:ze(h.totalVolume)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Platform total"})]})]}),a.jsxs(xe,{children:[a.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Re,{className:"text-sm font-medium",children:I.successRate}),a.jsx(on,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(be,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:[h.successRate,"%"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Success rate"})]})]}),a.jsxs(xe,{children:[a.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Re,{className:"text-sm font-medium",children:I.avgAmount}),a.jsx(Go,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(be,{children:[a.jsx("div",{className:"text-2xl font-bold",children:ze(h.averageTransactionSize)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Average per transaction"})]})]})]}),a.jsx(xe,{className:"mb-6",children:a.jsx(be,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx(K,{variant:v==="user"?"default":"outline",onClick:()=>b("user"),size:"sm",children:I.userTransactions}),a.jsx(K,{variant:v==="all"?"default":"outline",onClick:()=>b("all"),size:"sm",children:I.allTransactions})]}),a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(sS,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(gn,{placeholder:I.search,value:w,onChange:C=>x(C.target.value),className:"pl-10"})]}),a.jsxs("select",{value:T,onChange:C=>_(C.target.value),className:"px-3 py-2 border rounded-md bg-background",children:[a.jsx("option",{value:"all",children:I.all}),a.jsx("option",{value:"completed",children:I.completed}),a.jsx("option",{value:"failed",children:I.failed})]})]})})}),a.jsxs(xe,{children:[a.jsx(Ae,{children:a.jsxs(Re,{className:"flex items-center gap-2",children:[a.jsx(Om,{className:"h-5 w-5"}),v==="user"?I.userTransactions:I.allTransactions,a.jsx(Et,{variant:"secondary",children:N.length})]})}),a.jsx(be,{children:N.length===0?a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(Om,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:I.noTransactions})]}):a.jsx("div",{className:"space-y-3",children:N.map(C=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[v==="user"?C.from===D?a.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:a.jsx(lg,{className:"h-4 w-4 text-red-600"})}):a.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:a.jsx(nS,{className:"h-4 w-4 text-green-600"})}):a.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:a.jsx(lg,{className:"h-4 w-4 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:v==="user"?C.from===D?`${I.to} ${C.recipientName}`:`${I.from} ${C.senderName}`:`${C.senderName}  ${C.recipientName}`}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",C.id.substring(0,8),"... | ",new Date(C.timestamp).toLocaleString()]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:`font-medium text-lg ${v==="user"?C.from===D?"text-red-600":"text-green-600":"text-blue-600"}`,children:[v==="user"&&C.from===D?"-":"",v==="user"&&C.from!==D?"+":"",ze(C.amount)]}),a.jsx(Et,{variant:C.status==="completed"?"default":"destructive",children:C.status})]})]},C.id))})})]})]})})};function K1(t,[e,n]){return Math.min(n,Math.max(e,t))}var sp=0;function y$(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??G1()),document.body.insertAdjacentElement("beforeend",t[1]??G1()),sp++,()=>{sp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),sp--}},[])}function G1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ip="focusScope.autoFocusOnMount",op="focusScope.autoFocusOnUnmount",Q1={bubbles:!1,cancelable:!0},v$="FocusScope",jA=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[l,c]=g.useState(null),d=En(s),h=En(i),f=g.useRef(null),m=Ze(e,x=>c(x)),y=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let x=function(b){if(y.paused||!l)return;const R=b.target;l.contains(R)?f.current=R:Rs(f.current,{select:!0})},T=function(b){if(y.paused||!l)return;const R=b.relatedTarget;R!==null&&(l.contains(R)||Rs(f.current,{select:!0}))},_=function(b){if(document.activeElement===document.body)for(const D of b)D.removedNodes.length>0&&Rs(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",T);const v=new MutationObserver(_);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",T),v.disconnect()}}},[r,l,y.paused]),g.useEffect(()=>{if(l){X1.add(y);const x=document.activeElement;if(!l.contains(x)){const _=new CustomEvent(ip,Q1);l.addEventListener(ip,d),l.dispatchEvent(_),_.defaultPrevented||(x$(T$(DA(l)),{select:!0}),document.activeElement===x&&Rs(l))}return()=>{l.removeEventListener(ip,d),setTimeout(()=>{const _=new CustomEvent(op,Q1);l.addEventListener(op,h),l.dispatchEvent(_),_.defaultPrevented||Rs(x??document.body,{select:!0}),l.removeEventListener(op,h),X1.remove(y)},0)}}},[l,d,h,y]);const w=g.useCallback(x=>{if(!n&&!r||y.paused)return;const T=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,_=document.activeElement;if(T&&_){const v=x.currentTarget,[b,R]=w$(v);b&&R?!x.shiftKey&&_===R?(x.preventDefault(),n&&Rs(b,{select:!0})):x.shiftKey&&_===b&&(x.preventDefault(),n&&Rs(R,{select:!0})):_===v&&x.preventDefault()}},[n,r,y.paused]);return a.jsx(Te.div,{tabIndex:-1,...o,ref:m,onKeyDown:w})});jA.displayName=v$;function x$(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Rs(r,{select:e}),document.activeElement!==n)return}function w$(t){const e=DA(t),n=Y1(e,t),r=Y1(e.reverse(),t);return[n,r]}function DA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Y1(t,e){for(const n of t)if(!_$(n,{upTo:e}))return n}function _$(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function E$(t){return t instanceof HTMLInputElement&&"select"in t}function Rs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&E$(t)&&e&&t.select()}}var X1=b$();function b$(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=J1(t,e),t.unshift(e)},remove(e){var n;t=J1(t,e),(n=t[0])==null||n.resume()}}}function J1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function T$(t){return t.filter(e=>e.tagName!=="A")}var S$=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},bo=new WeakMap,ed=new WeakMap,td={},ap=0,LA=function(t){return t&&(t.host||LA(t.parentNode))},N$=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=LA(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},I$=function(t,e,n,r){var s=N$(e,Array.isArray(t)?t:[t]);td[n]||(td[n]=new WeakMap);var i=td[n],o=[],l=new Set,c=new Set(s),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};s.forEach(d);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))h(m);else try{var y=m.getAttribute(r),w=y!==null&&y!=="false",x=(bo.get(m)||0)+1,T=(i.get(m)||0)+1;bo.set(m,x),i.set(m,T),o.push(m),x===1&&w&&ed.set(m,!0),T===1&&m.setAttribute(n,"true"),w||m.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",m,_)}})};return h(e),l.clear(),ap++,function(){o.forEach(function(f){var m=bo.get(f)-1,y=i.get(f)-1;bo.set(f,m),i.set(f,y),m||(ed.has(f)||f.removeAttribute(r),ed.delete(f)),y||f.removeAttribute(n)}),ap--,ap||(bo=new WeakMap,bo=new WeakMap,ed=new WeakMap,td={})}},C$=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=S$(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),I$(r,s,n,"aria-hidden")):function(){return null}},Tr=function(){return Tr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Tr.apply(this,arguments)};function OA(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function A$(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Rd="right-scroll-bar-position",Pd="width-before-scroll-bar",R$="with-scroll-bars-hidden",P$="--removed-body-scroll-bar-size";function lp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function k$(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var j$=typeof window<"u"?g.useLayoutEffect:g.useEffect,Z1=new WeakMap;function D$(t,e){var n=k$(null,function(r){return t.forEach(function(s){return lp(s,r)})});return j$(function(){var r=Z1.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(l){i.has(l)||lp(l,null)}),i.forEach(function(l){s.has(l)||lp(l,o)})}Z1.set(n,t)},[t]),n}function L$(t){return t}function O$(t,e){e===void 0&&(e=L$);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var h=o;o=[],h.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return s}function M$(t){t===void 0&&(t={});var e=O$(null);return e.options=Tr({async:!0,ssr:!1},t),e}var MA=function(t){var e=t.sideCar,n=OA(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,Tr({},n))};MA.isSideCarExport=!0;function V$(t,e){return t.useMedium(e),MA}var VA=M$(),cp=function(){},Uf=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:cp,onWheelCapture:cp,onTouchMoveCapture:cp}),s=r[0],i=r[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,h=t.enabled,f=t.shards,m=t.sideCar,y=t.noIsolation,w=t.inert,x=t.allowPinchZoom,T=t.as,_=T===void 0?"div":T,v=t.gapMode,b=OA(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=m,D=D$([n,e]),O=Tr(Tr({},b),s);return g.createElement(g.Fragment,null,h&&g.createElement(R,{sideCar:VA,removeScrollBar:d,shards:f,noIsolation:y,inert:w,setCallbacks:i,allowPinchZoom:!!x,lockRef:n,gapMode:v}),o?g.cloneElement(g.Children.only(l),Tr(Tr({},O),{ref:D})):g.createElement(_,Tr({},O,{className:c,ref:D}),l))});Uf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Uf.classNames={fullWidth:Pd,zeroRight:Rd};var F$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function U$(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=F$();return e&&t.setAttribute("nonce",e),t}function $$(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function B$(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var z$=function(){var t=0,e=null;return{add:function(n){t==0&&(e=U$())&&($$(e,n),B$(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},q$=function(){var t=z$();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},FA=function(){var t=q$(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},W$={left:0,top:0,right:0,gap:0},up=function(t){return parseInt(t||"",10)||0},H$=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[up(n),up(r),up(s)]},K$=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return W$;var e=H$(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},G$=FA(),na="data-scroll-locked",Q$=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(R$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(na,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Rd,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Pd,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Rd," .").concat(Rd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Pd," .").concat(Pd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(na,`] {
    `).concat(P$,": ").concat(l,`px;
  }
`)},eE=function(){var t=parseInt(document.body.getAttribute(na)||"0",10);return isFinite(t)?t:0},Y$=function(){g.useEffect(function(){return document.body.setAttribute(na,(eE()+1).toString()),function(){var t=eE()-1;t<=0?document.body.removeAttribute(na):document.body.setAttribute(na,t.toString())}},[])},X$=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;Y$();var i=g.useMemo(function(){return K$(s)},[s]);return g.createElement(G$,{styles:Q$(i,!e,s,n?"":"!important")})},Qg=!1;if(typeof window<"u")try{var nd=Object.defineProperty({},"passive",{get:function(){return Qg=!0,!0}});window.addEventListener("test",nd,nd),window.removeEventListener("test",nd,nd)}catch{Qg=!1}var To=Qg?{passive:!1}:!1,J$=function(t){return t.tagName==="TEXTAREA"},UA=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!J$(t)&&n[e]==="visible")},Z$=function(t){return UA(t,"overflowY")},e8=function(t){return UA(t,"overflowX")},tE=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=$A(t,r);if(s){var i=BA(t,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},t8=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},n8=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},$A=function(t,e){return t==="v"?Z$(e):e8(e)},BA=function(t,e){return t==="v"?t8(e):n8(e)},r8=function(t,e){return t==="h"&&e==="rtl"?-1:1},s8=function(t,e,n,r,s){var i=r8(t,window.getComputedStyle(e).direction),o=i*r,l=n.target,c=e.contains(l),d=!1,h=o>0,f=0,m=0;do{var y=BA(t,l),w=y[0],x=y[1],T=y[2],_=x-T-i*w;(w||_)&&$A(t,l)&&(f+=_,m+=w),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(h&&(Math.abs(f)<1||!s)||!h&&(Math.abs(m)<1||!s))&&(d=!0),d},rd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},nE=function(t){return[t.deltaX,t.deltaY]},rE=function(t){return t&&"current"in t?t.current:t},i8=function(t,e){return t[0]===e[0]&&t[1]===e[1]},o8=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},a8=0,So=[];function l8(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(a8++)[0],i=g.useState(FA)[0],o=g.useRef(t);g.useEffect(function(){o.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var x=A$([t.lockRef.current],(t.shards||[]).map(rE),!0).filter(Boolean);return x.forEach(function(T){return T.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=g.useCallback(function(x,T){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var _=rd(x),v=n.current,b="deltaX"in x?x.deltaX:v[0]-_[0],R="deltaY"in x?x.deltaY:v[1]-_[1],D,O=x.target,S=Math.abs(b)>Math.abs(R)?"h":"v";if("touches"in x&&S==="h"&&O.type==="range")return!1;var N=tE(S,O);if(!N)return!0;if(N?D=S:(D=S==="v"?"h":"v",N=tE(S,O)),!N)return!1;if(!r.current&&"changedTouches"in x&&(b||R)&&(r.current=D),!D)return!0;var I=r.current||D;return s8(I,T,x,I==="h"?b:R,!0)},[]),c=g.useCallback(function(x){var T=x;if(!(!So.length||So[So.length-1]!==i)){var _="deltaY"in T?nE(T):rd(T),v=e.current.filter(function(D){return D.name===T.type&&(D.target===T.target||T.target===D.shadowParent)&&i8(D.delta,_)})[0];if(v&&v.should){T.cancelable&&T.preventDefault();return}if(!v){var b=(o.current.shards||[]).map(rE).filter(Boolean).filter(function(D){return D.contains(T.target)}),R=b.length>0?l(T,b[0]):!o.current.noIsolation;R&&T.cancelable&&T.preventDefault()}}},[]),d=g.useCallback(function(x,T,_,v){var b={name:x,delta:T,target:_,should:v,shadowParent:c8(_)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(R){return R!==b})},1)},[]),h=g.useCallback(function(x){n.current=rd(x),r.current=void 0},[]),f=g.useCallback(function(x){d(x.type,nE(x),x.target,l(x,t.lockRef.current))},[]),m=g.useCallback(function(x){d(x.type,rd(x),x.target,l(x,t.lockRef.current))},[]);g.useEffect(function(){return So.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,To),document.addEventListener("touchmove",c,To),document.addEventListener("touchstart",h,To),function(){So=So.filter(function(x){return x!==i}),document.removeEventListener("wheel",c,To),document.removeEventListener("touchmove",c,To),document.removeEventListener("touchstart",h,To)}},[]);var y=t.removeScrollBar,w=t.inert;return g.createElement(g.Fragment,null,w?g.createElement(i,{styles:o8(s)}):null,y?g.createElement(X$,{gapMode:t.gapMode}):null)}function c8(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const u8=V$(VA,l8);var zA=g.forwardRef(function(t,e){return g.createElement(Uf,Tr({},t,{ref:e,sideCar:u8}))});zA.classNames=Uf.classNames;var d8=[" ","Enter","ArrowUp","ArrowDown"],h8=[" ","Enter"],au="Select",[$f,Bf,f8]=Xy(au),[Ga,nB]=Da(au,[f8,of]),zf=of(),[m8,Ni]=Ga(au),[p8,g8]=Ga(au),qA=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:h,autoComplete:f,disabled:m,required:y,form:w}=t,x=zf(e),[T,_]=g.useState(null),[v,b]=g.useState(null),[R,D]=g.useState(!1),O=Of(d),[S=!1,N]=wa({prop:r,defaultProp:s,onChange:i}),[I,C]=wa({prop:o,defaultProp:l,onChange:c}),j=g.useRef(null),A=T?w||!!T.closest("form"):!0,[k,q]=g.useState(new Set),U=Array.from(k).map($=>$.props.value).join(";");return a.jsx(XD,{...x,children:a.jsxs(m8,{required:y,scope:e,trigger:T,onTriggerChange:_,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:R,onValueNodeHasChildrenChange:D,contentId:Bc(),value:I,onValueChange:C,open:S,onOpenChange:N,dir:O,triggerPointerDownPosRef:j,disabled:m,children:[a.jsx($f.Provider,{scope:e,children:a.jsx(p8,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback($=>{q(Z=>new Set(Z).add($))},[]),onNativeOptionRemove:g.useCallback($=>{q(Z=>{const L=new Set(Z);return L.delete($),L})},[]),children:n})}),A?a.jsxs(pR,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:f,value:I,onChange:$=>C($.target.value),disabled:m,form:w,children:[I===void 0?a.jsx("option",{value:""}):null,Array.from(k)]},U):null]})})};qA.displayName=au;var WA="SelectTrigger",HA=g.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=zf(n),o=Ni(WA,n),l=o.disabled||r,c=Ze(e,o.onTriggerChange),d=Bf(n),h=g.useRef("touch"),[f,m,y]=gR(x=>{const T=d().filter(b=>!b.disabled),_=T.find(b=>b.value===o.value),v=yR(T,x,_);v!==void 0&&o.onValueChange(v.value)}),w=x=>{l||(o.onOpenChange(!0),y()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return a.jsx(LS,{asChild:!0,...i,children:a.jsx(Te.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":mR(o.value)?"":void 0,...s,ref:c,onClick:fe(s.onClick,x=>{x.currentTarget.focus(),h.current!=="mouse"&&w(x)}),onPointerDown:fe(s.onPointerDown,x=>{h.current=x.pointerType;const T=x.target;T.hasPointerCapture(x.pointerId)&&T.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(w(x),x.preventDefault())}),onKeyDown:fe(s.onKeyDown,x=>{const T=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(T&&x.key===" ")&&d8.includes(x.key)&&(w(),x.preventDefault())})})})});HA.displayName=WA;var KA="SelectValue",GA=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...l}=t,c=Ni(KA,n),{onValueNodeHasChildrenChange:d}=c,h=i!==void 0,f=Ze(e,c.onValueNodeChange);return Zt(()=>{d(h)},[d,h]),a.jsx(Te.span,{...l,ref:f,style:{pointerEvents:"none"},children:mR(c.value)?a.jsx(a.Fragment,{children:o}):i})});GA.displayName=KA;var y8="SelectIcon",QA=g.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return a.jsx(Te.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});QA.displayName=y8;var v8="SelectPortal",YA=t=>a.jsx(Jy,{asChild:!0,...t});YA.displayName=v8;var uo="SelectContent",XA=g.forwardRef((t,e)=>{const n=Ni(uo,t.__scopeSelect),[r,s]=g.useState();if(Zt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?mo.createPortal(a.jsx(JA,{scope:t.__scopeSelect,children:a.jsx($f.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),i):null}return a.jsx(ZA,{...t,ref:e})});XA.displayName=uo;var er=10,[JA,Ii]=Ga(uo),x8="SelectContentImpl",ZA=g.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:y,sticky:w,hideWhenDetached:x,avoidCollisions:T,..._}=t,v=Ni(uo,n),[b,R]=g.useState(null),[D,O]=g.useState(null),S=Ze(e,ee=>R(ee)),[N,I]=g.useState(null),[C,j]=g.useState(null),A=Bf(n),[k,q]=g.useState(!1),U=g.useRef(!1);g.useEffect(()=>{if(b)return C$(b)},[b]),y$();const $=g.useCallback(ee=>{const[pe,...je]=A().map(me=>me.ref.current),[ue]=je.slice(-1),le=document.activeElement;for(const me of ee)if(me===le||(me==null||me.scrollIntoView({block:"nearest"}),me===pe&&D&&(D.scrollTop=0),me===ue&&D&&(D.scrollTop=D.scrollHeight),me==null||me.focus(),document.activeElement!==le))return},[A,D]),Z=g.useCallback(()=>$([N,b]),[$,N,b]);g.useEffect(()=>{k&&Z()},[k,Z]);const{onOpenChange:L,triggerPointerDownPosRef:B}=v;g.useEffect(()=>{if(b){let ee={x:0,y:0};const pe=ue=>{var le,me;ee={x:Math.abs(Math.round(ue.pageX)-(((le=B.current)==null?void 0:le.x)??0)),y:Math.abs(Math.round(ue.pageY)-(((me=B.current)==null?void 0:me.y)??0))}},je=ue=>{ee.x<=10&&ee.y<=10?ue.preventDefault():b.contains(ue.target)||L(!1),document.removeEventListener("pointermove",pe),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",je,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",je,{capture:!0})}}},[b,L,B]),g.useEffect(()=>{const ee=()=>L(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[L]);const[Y,Q]=gR(ee=>{const pe=A().filter(le=>!le.disabled),je=pe.find(le=>le.ref.current===document.activeElement),ue=yR(pe,ee,je);ue&&setTimeout(()=>ue.ref.current.focus())}),ne=g.useCallback((ee,pe,je)=>{const ue=!U.current&&!je;(v.value!==void 0&&v.value===pe||ue)&&(I(ee),ue&&(U.current=!0))},[v.value]),oe=g.useCallback(()=>b==null?void 0:b.focus(),[b]),V=g.useCallback((ee,pe,je)=>{const ue=!U.current&&!je;(v.value!==void 0&&v.value===pe||ue)&&j(ee)},[v.value]),ce=r==="popper"?Yg:eR,ie=ce===Yg?{side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:y,sticky:w,hideWhenDetached:x,avoidCollisions:T}:{};return a.jsx(JA,{scope:n,content:b,viewport:D,onViewportChange:O,itemRefCallback:ne,selectedItem:N,onItemLeave:oe,itemTextRefCallback:V,focusSelectedItem:Z,selectedItemText:C,position:r,isPositioned:k,searchRef:Y,children:a.jsx(zA,{as:xa,allowPinchZoom:!0,children:a.jsx(jA,{asChild:!0,trapped:v.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:fe(s,ee=>{var pe;(pe=v.trigger)==null||pe.focus({preventScroll:!0}),ee.preventDefault()}),children:a.jsx(Yh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:a.jsx(ce,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:ee=>ee.preventDefault(),..._,...ie,onPlaced:()=>q(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:fe(_.onKeyDown,ee=>{const pe=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!pe&&ee.key.length===1&&Q(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let ue=A().filter(le=>!le.disabled).map(le=>le.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(ue=ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const le=ee.target,me=ue.indexOf(le);ue=ue.slice(me+1)}setTimeout(()=>$(ue)),ee.preventDefault()}})})})})})})});ZA.displayName=x8;var w8="SelectItemAlignedPosition",eR=g.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Ni(uo,n),o=Ii(uo,n),[l,c]=g.useState(null),[d,h]=g.useState(null),f=Ze(e,S=>h(S)),m=Bf(n),y=g.useRef(!1),w=g.useRef(!0),{viewport:x,selectedItem:T,selectedItemText:_,focusSelectedItem:v}=o,b=g.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&x&&T&&_){const S=i.trigger.getBoundingClientRect(),N=d.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),C=_.getBoundingClientRect();if(i.dir!=="rtl"){const le=C.left-N.left,me=I.left-le,He=S.left-me,tt=S.width+He,It=Math.max(tt,N.width),Ke=window.innerWidth-er,nt=K1(me,[er,Math.max(er,Ke-It)]);l.style.minWidth=tt+"px",l.style.left=nt+"px"}else{const le=N.right-C.right,me=window.innerWidth-I.right-le,He=window.innerWidth-S.right-me,tt=S.width+He,It=Math.max(tt,N.width),Ke=window.innerWidth-er,nt=K1(me,[er,Math.max(er,Ke-It)]);l.style.minWidth=tt+"px",l.style.right=nt+"px"}const j=m(),A=window.innerHeight-er*2,k=x.scrollHeight,q=window.getComputedStyle(d),U=parseInt(q.borderTopWidth,10),$=parseInt(q.paddingTop,10),Z=parseInt(q.borderBottomWidth,10),L=parseInt(q.paddingBottom,10),B=U+$+k+L+Z,Y=Math.min(T.offsetHeight*5,B),Q=window.getComputedStyle(x),ne=parseInt(Q.paddingTop,10),oe=parseInt(Q.paddingBottom,10),V=S.top+S.height/2-er,ce=A-V,ie=T.offsetHeight/2,ee=T.offsetTop+ie,pe=U+$+ee,je=B-pe;if(pe<=V){const le=j.length>0&&T===j[j.length-1].ref.current;l.style.bottom="0px";const me=d.clientHeight-x.offsetTop-x.offsetHeight,He=Math.max(ce,ie+(le?oe:0)+me+Z),tt=pe+He;l.style.height=tt+"px"}else{const le=j.length>0&&T===j[0].ref.current;l.style.top="0px";const He=Math.max(V,U+x.offsetTop+(le?ne:0)+ie)+je;l.style.height=He+"px",x.scrollTop=pe-V+x.offsetTop}l.style.margin=`${er}px 0`,l.style.minHeight=Y+"px",l.style.maxHeight=A+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[m,i.trigger,i.valueNode,l,d,x,T,_,i.dir,r]);Zt(()=>b(),[b]);const[R,D]=g.useState();Zt(()=>{d&&D(window.getComputedStyle(d).zIndex)},[d]);const O=g.useCallback(S=>{S&&w.current===!0&&(b(),v==null||v(),w.current=!1)},[b,v]);return a.jsx(E8,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:O,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:a.jsx(Te.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});eR.displayName=w8;var _8="SelectPopperPosition",Yg=g.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=er,...i}=t,o=zf(n);return a.jsx(OS,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Yg.displayName=_8;var[E8,N0]=Ga(uo,{}),Xg="SelectViewport",tR=g.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Ii(Xg,n),o=N0(Xg,n),l=Ze(e,i.onViewportChange),c=g.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx($f.Slot,{scope:n,children:a.jsx(Te.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:fe(s.onScroll,d=>{const h=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const y=Math.abs(c.current-h.scrollTop);if(y>0){const w=window.innerHeight-er*2,x=parseFloat(f.style.minHeight),T=parseFloat(f.style.height),_=Math.max(x,T);if(_<w){const v=_+y,b=Math.min(w,v),R=v-b;f.style.height=b+"px",f.style.bottom==="0px"&&(h.scrollTop=R>0?R:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});tR.displayName=Xg;var nR="SelectGroup",[b8,T8]=Ga(nR),S8=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Bc();return a.jsx(b8,{scope:n,id:s,children:a.jsx(Te.div,{role:"group","aria-labelledby":s,...r,ref:e})})});S8.displayName=nR;var rR="SelectLabel",sR=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=T8(rR,n);return a.jsx(Te.div,{id:s.id,...r,ref:e})});sR.displayName=rR;var jh="SelectItem",[N8,iR]=Ga(jh),oR=g.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,l=Ni(jh,n),c=Ii(jh,n),d=l.value===r,[h,f]=g.useState(i??""),[m,y]=g.useState(!1),w=Ze(e,v=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,v,r,s)}),x=Bc(),T=g.useRef("touch"),_=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(N8,{scope:n,value:r,disabled:s,textId:x,isSelected:d,onItemTextChange:g.useCallback(v=>{f(b=>b||((v==null?void 0:v.textContent)??"").trim())},[]),children:a.jsx($f.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:a.jsx(Te.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:w,onFocus:fe(o.onFocus,()=>y(!0)),onBlur:fe(o.onBlur,()=>y(!1)),onClick:fe(o.onClick,()=>{T.current!=="mouse"&&_()}),onPointerUp:fe(o.onPointerUp,()=>{T.current==="mouse"&&_()}),onPointerDown:fe(o.onPointerDown,v=>{T.current=v.pointerType}),onPointerMove:fe(o.onPointerMove,v=>{var b;T.current=v.pointerType,s?(b=c.onItemLeave)==null||b.call(c):T.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:fe(o.onPointerLeave,v=>{var b;v.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:fe(o.onKeyDown,v=>{var R;((R=c.searchRef)==null?void 0:R.current)!==""&&v.key===" "||(h8.includes(v.key)&&_(),v.key===" "&&v.preventDefault())})})})})});oR.displayName=jh;var kl="SelectItemText",aR=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Ni(kl,n),l=Ii(kl,n),c=iR(kl,n),d=g8(kl,n),[h,f]=g.useState(null),m=Ze(e,_=>f(_),c.onItemTextChange,_=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,_,c.value,c.disabled)}),y=h==null?void 0:h.textContent,w=g.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:x,onNativeOptionRemove:T}=d;return Zt(()=>(x(w),()=>T(w)),[x,T,w]),a.jsxs(a.Fragment,{children:[a.jsx(Te.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?mo.createPortal(i.children,o.valueNode):null]})});aR.displayName=kl;var lR="SelectItemIndicator",cR=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return iR(lR,n).isSelected?a.jsx(Te.span,{"aria-hidden":!0,...r,ref:e}):null});cR.displayName=lR;var Jg="SelectScrollUpButton",uR=g.forwardRef((t,e)=>{const n=Ii(Jg,t.__scopeSelect),r=N0(Jg,t.__scopeSelect),[s,i]=g.useState(!1),o=Ze(e,r.onScrollButtonChange);return Zt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(hR,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});uR.displayName=Jg;var Zg="SelectScrollDownButton",dR=g.forwardRef((t,e)=>{const n=Ii(Zg,t.__scopeSelect),r=N0(Zg,t.__scopeSelect),[s,i]=g.useState(!1),o=Ze(e,r.onScrollButtonChange);return Zt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;i(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(hR,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});dR.displayName=Zg;var hR=g.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Ii("SelectScrollButton",n),o=g.useRef(null),l=Bf(n),c=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),Zt(()=>{var h;const d=l().find(f=>f.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),a.jsx(Te.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:fe(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:fe(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:fe(s.onPointerLeave,()=>{c()})})}),I8="SelectSeparator",fR=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return a.jsx(Te.div,{"aria-hidden":!0,...r,ref:e})});fR.displayName=I8;var ey="SelectArrow",C8=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=zf(n),i=Ni(ey,n),o=Ii(ey,n);return i.open&&o.position==="popper"?a.jsx(MS,{...s,...r,ref:e}):null});C8.displayName=ey;function mR(t){return t===""||t===void 0}var pR=g.forwardRef((t,e)=>{const{value:n,...r}=t,s=g.useRef(null),i=Ze(e,s),o=sA(n);return g.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&h){const f=new Event("change",{bubbles:!0});h.call(l,n),l.dispatchEvent(f)}},[o,n]),a.jsx($c,{asChild:!0,children:a.jsx("select",{...r,ref:i,defaultValue:n})})});pR.displayName="BubbleSelect";function gR(t){const e=En(t),n=g.useRef(""),r=g.useRef(0),s=g.useCallback(o=>{const l=n.current+o;e(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function yR(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=A8(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function A8(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var R8=qA,vR=HA,P8=GA,k8=QA,j8=YA,xR=XA,D8=tR,wR=sR,_R=oR,L8=aR,O8=cR,ER=uR,bR=dR,TR=fR;const M8=R8,V8=P8,SR=g.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(vR,{ref:r,className:Le("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,a.jsx(k8,{asChild:!0,children:a.jsx(nv,{className:"h-4 w-4 opacity-50"})})]}));SR.displayName=vR.displayName;const NR=g.forwardRef(({className:t,...e},n)=>a.jsx(ER,{ref:n,className:Le("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(_j,{className:"h-4 w-4"})}));NR.displayName=ER.displayName;const IR=g.forwardRef(({className:t,...e},n)=>a.jsx(bR,{ref:n,className:Le("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(nv,{className:"h-4 w-4"})}));IR.displayName=bR.displayName;const CR=g.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>a.jsx(j8,{children:a.jsxs(xR,{ref:s,className:Le("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[a.jsx(NR,{}),a.jsx(D8,{className:Le("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(IR,{})]})}));CR.displayName=xR.displayName;const F8=g.forwardRef(({className:t,...e},n)=>a.jsx(wR,{ref:n,className:Le("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));F8.displayName=wR.displayName;const ty=g.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(_R,{ref:r,className:Le("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(O8,{children:a.jsx(wj,{className:"h-4 w-4"})})}),a.jsx(L8,{children:e})]}));ty.displayName=_R.displayName;const U8=g.forwardRef(({className:t,...e},n)=>a.jsx(TR,{ref:n,className:Le("-mx-1 my-1 h-px bg-muted",t),...e}));U8.displayName=TR.displayName;const $8=()=>{const{user:t,logout:e}=Xn(),{language:n,t:r,setLanguage:s}=Ft(),i=n==="ar",o=bn();g.useEffect(()=>{const O=localStorage.getItem("preferred-language");O&&O!==n&&(console.log(" UserProfile: Language mismatch detected. Fixing..."),s(O))},[n,s]);const[l,c]=g.useState(null),[d,h]=g.useState(!0),[f,m]=g.useState(!1),[y,w]=g.useState({}),[x,T]=g.useState(!1);g.useEffect(()=>{t&&_()},[t]);const _=async()=>{if(t)try{h(!0);const O=Rt(Pe,"users",t.uid),S=await Sr(O);if(S.exists()){const N=S.data();c(N),w(N)}}catch(O){console.error("Error loading profile:",O)}finally{h(!1)}},v=async()=>{if(!(!t||!l))try{T(!0);const O=Rt(Pe,"users",t.uid);await Ra(O,y),c(S=>S?{...S,...y}:null),m(!1)}catch(O){console.error("Error updating profile:",O)}finally{T(!1)}},b=()=>{w(l||{}),m(!1)},R=O=>{switch(O){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},D=O=>{switch(O){case"approved":return a.jsx(Hn,{className:"h-4 w-4"});case"rejected":return a.jsx(rv,{className:"h-4 w-4"});default:return a.jsx(Cr,{className:"h-4 w-4"})}};return d?a.jsx("div",{className:"flex items-center justify-center p-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gold mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:i?"   ...":"Loading profile..."})]})}):l?a.jsxs("div",{className:"max-w-2xl mx-auto p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsxs(K,{onClick:()=>o(-1),variant:"outline",size:"sm",className:"flex items-center gap-2",children:[a.jsx(On,{className:"h-4 w-4"}),i?"":"Back"]}),a.jsx("h1",{className:"text-2xl font-bold",children:i?" ":"User Profile"})]}),a.jsxs(xe,{children:[a.jsxs(Ae,{className:"flex flex-row items-center justify-between",children:[a.jsxs(Re,{className:"flex items-center gap-2",children:[a.jsx(no,{className:"h-5 w-5"}),i?" ":"User Profile"]}),!f&&a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(K,{onClick:()=>m(!0),variant:"outline",size:"sm",children:[a.jsx(Cj,{className:"h-4 w-4 mr-2"}),i?"":"Edit"]}),a.jsxs(K,{onClick:()=>s(n==="ar"?"en":"ar"),variant:"outline",size:"sm",className:"bg-purple-50 hover:bg-purple-100 text-purple-700 border-purple-200",children:[a.jsx(Mn,{className:"h-4 w-4 mr-2"}),n==="ar"?"English":""]})]})]}),a.jsxs(be,{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs(pt,{className:"flex items-center gap-2 text-sm font-medium",children:[a.jsx(no,{className:"h-4 w-4"}),i?"":"Name"]}),f?a.jsx(gn,{value:y.name||"",onChange:O=>w(S=>({...S,name:O.target.value})),className:"mt-1"}):a.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:l.name})]}),a.jsxs("div",{children:[a.jsxs(pt,{className:"flex items-center gap-2 text-sm font-medium",children:[a.jsx(Nj,{className:"h-4 w-4"}),i?" ":"Email"]}),a.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:l.email})]}),a.jsxs("div",{children:[a.jsxs(pt,{className:"flex items-center gap-2 text-sm font-medium",children:[a.jsx(Aj,{className:"h-4 w-4"}),i?" ":"Mobile Number"]}),f?a.jsx(gn,{value:y.mobileNumber||"",onChange:O=>w(S=>({...S,mobileNumber:O.target.value})),className:"mt-1"}):a.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:l.mobileNumber})]}),a.jsxs("div",{children:[a.jsxs(pt,{className:"flex items-center gap-2 text-sm font-medium",children:[a.jsx(rh,{className:"h-4 w-4"}),i?" ":"ID Number"]}),a.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:l.idNumber})]})]}),a.jsxs("div",{children:[a.jsxs(pt,{className:"flex items-center gap-2 text-sm font-medium",children:[a.jsx(tf,{className:"h-4 w-4"}),i?" ":"User Type"]}),f?a.jsxs(M8,{value:y.userType,onValueChange:O=>w(S=>({...S,userType:O})),children:[a.jsx(SR,{className:"mt-1",children:a.jsx(V8,{})}),a.jsxs(CR,{children:[a.jsx(ty,{value:"borrower",children:i?"":"Borrower"}),a.jsx(ty,{value:"lender",children:i?"":"Lender"})]})]}):a.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[a.jsx(Et,{variant:l.userType==="borrower"?"default":"secondary",children:l.userType==="borrower"?i?"":"Borrower":i?"":"Lender"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:l.userType==="borrower"?i?"  ":"You can request loans":i?"   ":"You can invest in loans"})]})]}),a.jsxs("div",{children:[a.jsxs(pt,{className:"flex items-center gap-2 text-sm font-medium",children:[a.jsx(is,{className:"h-4 w-4"}),i?" ":"KYC Status"]}),a.jsx("div",{className:"mt-1 flex items-center gap-2",children:a.jsxs(Et,{className:R(l.kycStatus),children:[D(l.kycStatus),a.jsxs("span",{className:"ml-1",children:[l.kycStatus==="approved"&&(i?" ":"Verified"),l.kycStatus==="rejected"&&(i?"":"Rejected"),l.kycStatus==="pending"&&(i?" ":"Pending")]})]})})]}),a.jsxs("div",{children:[a.jsxs(pt,{className:"flex items-center gap-2 text-sm font-medium",children:[a.jsx(Go,{className:"h-4 w-4"}),i?"  ":"Account Created"]}),a.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:new Date(l.createdAt).toLocaleDateString(i?"ar-SA":"en-US",{year:"numeric",month:"long",day:"numeric"})})]}),f&&a.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[a.jsx(K,{onClick:v,disabled:x,className:"flex-1",children:x?i?" ...":"Saving...":i?" ":"Save Changes"}),a.jsx(K,{onClick:b,variant:"outline",className:"flex-1",children:i?"":"Cancel"})]}),a.jsx("div",{className:"pt-4 border-t",children:a.jsx(K,{onClick:e,variant:"destructive",className:"w-full",children:i?" ":"Sign Out"})})]})]})]}):a.jsx("div",{className:"text-center p-8",children:a.jsx("p",{className:"text-muted-foreground",children:i?"     ":"Profile not found"})})},B8=new ML;function sd({children:t}){const{user:e}=Xn();return e?t:a.jsx(GC,{})}const z8=()=>a.jsx(FL,{client:B8,children:a.jsxs(mL,{children:[a.jsx(h4,{}),a.jsx($4,{}),a.jsx(e9,{children:a.jsx(dN,{children:a.jsx(n9,{children:a.jsxs(CO,{children:[a.jsx(Sn,{path:"/",element:a.jsx(S9,{})}),a.jsx(Sn,{path:"/login",element:a.jsx(GC,{})}),a.jsx(Sn,{path:"/signup",element:a.jsx(X9,{})}),a.jsx(Sn,{path:"/dashboard",element:a.jsx(sd,{children:a.jsx(Z9,{})})}),a.jsx(Sn,{path:"/wallet",element:a.jsx(sd,{children:a.jsx(h$,{})})}),a.jsx(Sn,{path:"/transactions",element:a.jsx(sd,{children:a.jsx(g$,{})})}),a.jsx(Sn,{path:"/profile",element:a.jsx(sd,{children:a.jsx($8,{})})}),a.jsx(Sn,{path:"/invest",element:a.jsx(r$,{})}),a.jsx(Sn,{path:"/invest/:id",element:a.jsx(s$,{})}),a.jsx(Sn,{path:"/admin/opportunities",element:a.jsx(c$,{})}),a.jsx(Sn,{path:"/loan-request",element:a.jsx(d$,{})}),a.jsx(Sn,{path:"*",element:a.jsx(J9,{})})]})})})})]})});IT(document.getElementById("root")).render(a.jsx(dN,{children:a.jsx(LO,{children:a.jsx(z8,{})})}));export{y0 as a,Xt as c,Pe as d,np as s};
